<!DOCTYPE html>
<html>
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
  
  <title>M@XCode</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="google-site-verification" content="zhe_jVE6TPFbrQb7K-ra2FFxgiDsn6ZeFoKSz9EXmGk" />
  <meta name="description" content="Blog dédié au partage du savoir informatique">
<meta property="og:type" content="website">
<meta property="og:title" content="M@XCode">
<meta property="og:url" content="http://maximilienandile.github.io/page/2/index.html">
<meta property="og:site_name" content="M@XCode">
<meta property="og:description" content="Blog dédié au partage du savoir informatique">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="M@XCode">
<meta name="twitter:description" content="Blog dédié au partage du savoir informatique">
  
    <link rel="alternate" href="/atom.xml" title="M@XCode" type="application/atom+xml">
  
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" integrity="sha384-XdYbMnZ/QjLh6iI4ogqCTaIjrFk87ip+ekIjefZch0Y+PvJ8CDYtEs1ipDmPorQ+" crossorigin="anonymous">

  <link rel="stylesheet" href="/css/styles.css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77397884-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics --><!-- hexo-inject:begin --><!-- hexo-inject:end -->


</head>

<body>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><nav class="navbar navbar-inverse">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#main-menu-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="main-menu-navbar">
      <ul class="nav navbar-nav">
        
          <li><a class=""
                 href="/index.html">Home</a></li>
        
          <li><a class=""
                 href="/archives/">Archives</a></li>
        
      </ul>

      <!--
      <ul class="nav navbar-nav navbar-right">
        
          <li><a href="/atom.xml" title="RSS Feed"><i class="fa fa-rss"></i></a></li>
        
      </ul>
      -->
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>

  <div class="container">
    <div class="blog-header">
  <h3 class="blog-title">M@XCode</h3>
  
</div>

    <div class="row">
        <div class="col-sm-8 blog-main">
          
  
    <article id="post-How-to-use-tokenization-stopwords-and-synsets-with-NLTK-python" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/06/07/How-to-use-tokenization-stopwords-and-synsets-with-NLTK-python/">How to use tokenization, stopwords and synsets with NLTK (python)</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/2016/06/07/How-to-use-tokenization-stopwords-and-synsets-with-NLTK-python/" class="article-date"><time datetime="2016-06-07T05:16:07.000Z" itemprop="datePublished">07/06/2016</time></a>
</div>

    
    

  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p>This is my next article about NLTK (The natural language processing toolkit that can be used with Python). In this blog post I will highlight some of the key features of NLTK that can be useful for any developers having to treat and understand text programmatically.</p>
<h2 id="Tokenization-the-transformation-of-text-into-understandable-chunks"><a href="#Tokenization-the-transformation-of-text-into-understandable-chunks" class="headerlink" title="Tokenization : the transformation of text into understandable chunks"></a>Tokenization : the transformation of text into understandable chunks</h2><p>In Natural Language processing a token is a small piece of text. There are different tokenization techniques, but you have to keep in mind that the process consists in cutting an amount of words into smaller bags of word. This is usually the very first task of a complex NLP algorithm.</p>
<h3 id="Sentence-tokenization"><a href="#Sentence-tokenization" class="headerlink" title="Sentence tokenization"></a>Sentence tokenization</h3><p>If you want to analyze all the sentences of a given text you can use the punkt tokenizer.</p>
<p>Let’s say that you have stored into the data variable the text you want to tokenize:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">data= <span class="string">"This is my text. I want to tokenize it. But what is exactly tokenization ?"</span></div><div class="line"><span class="keyword">import</span> nltk.data</div><div class="line">tokenizer = nltk.data.load(<span class="string">'tokenizers/punkt/PY3/english.pickle'</span>)</div><div class="line">tokenizer.tokenize(data)</div></pre></td></tr></table></figure>
<p>The first line will import the necessary classes we will need to create a new tokenizer. On the second line we create a new variable that loads the English <code>Punkt tokenize</code>. Note that NLTK provides tokenizer for different languages!</p>
<p>The output of the following code chunk will be :</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[<span class="string">'This is my text.'</span>,<span class="string">'I want to tokenize it.'</span>,<span class="string">'But what is exactly tokenization ?'</span>]</div></pre></td></tr></table></figure>
<p>Note that the punctuation is included into the list.</p>
<h3 id="Word-tokenization"><a href="#Word-tokenization" class="headerlink" title="Word tokenization"></a>Word tokenization</h3><p>The sentence scope might not be precise enough if you want to pursue a text analysis. You will probably need to go down to the word level:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> nltk.tokenize <span class="keyword">import</span> TreebankWordTokenizer</div><div class="line">tokenizer = TreebankWordTokenizer()</div><div class="line">tokenizer.tokenize(<span class="string">'This is my text'</span>)</div></pre></td></tr></table></figure>
<p>Again we import the <code>TreebankWordTokenizer</code> class from <code>nltk.tokenize</code>. You have the to instantiate the class : <code>TreebankWordTokenizer()</code>. <code>tokenizer</code> will be an instance of that class. You can then call the method tokenize and provide it with your string of data.</p>
<p>The output will be :</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[<span class="string">'This'</span>,<span class="string">'is'</span>,<span class="string">'my'</span>,<span class="string">'text'</span>]</div></pre></td></tr></table></figure>
<h3 id="Stop-words"><a href="#Stop-words" class="headerlink" title="Stop words"></a>Stop words</h3><p>Stop words can be really interesting. In a text you have many of them, those stop words do not give vital information in the understanding of a text. Hence they can be removed in order to perform a better analysis of a corpus.</p>
<p>NLTK provides a list of usual stop words that you can use to filter a text.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> nltk.corpus <span class="keyword">import</span> stopwords</div><div class="line">stop_words = set(stopwords.words(<span class="string">'english'</span>))</div></pre></td></tr></table></figure>
<p>This list is exposed inside <code>nltk.corpus</code>. The first line will import the stopwords class. We will then access to the list by invoking the <code>words</code>method and providing <code>&#39;english&#39;</code> as parameter to load only the English corpus.</p>
<h4 id="How-to-filter-a-text-from-it’s-stopwords"><a href="#How-to-filter-a-text-from-it’s-stopwords" class="headerlink" title="How to filter a text from it’s stopwords."></a>How to filter a text from it’s stopwords.</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">words_list=[<span class="string">"baltimore"</span>,<span class="string">"you"</span>,<span class="string">"love"</span>,<span class="string">"hate"</span>,<span class="string">"can"</span>]</div><div class="line">[w <span class="keyword">for</span> w <span class="keyword">in</span> words_list <span class="keyword">if</span> w <span class="keyword">not</span> <span class="keyword">in</span> stop_words]</div></pre></td></tr></table></figure>
<p>You first have a list of tokenized words. Then create another one with the following method :</p>
<ol>
<li>We take each element of the first list</li>
<li>If the word is in the <code>stop_words</code> list we do not include it in the newly created list</li>
<li>Else we include it.</li>
</ol>
<h3 id="Synset-how-to-get-the-definition-of-a-word-token"><a href="#Synset-how-to-get-the-definition-of-a-word-token" class="headerlink" title="Synset : how to get the definition of a word token"></a>Synset : how to get the definition of a word token</h3><p><code>Wordnet</code>  is an English dictionary that gives you the ability to lookup for definition and synonyms of a word.<br>With a <code>Synsets</code> instance you can ask for the definition of the word :</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> nltk.corpus <span class="keyword">import</span> wordnet</div><div class="line">s = wordnet.synsets(<span class="string">'computer'</span>)[<span class="number">0</span>]</div><div class="line">s.definition()</div></pre></td></tr></table></figure>
<p>The code is pretty simple !</p>
<p>In my next blog post I will talk about hypernyms and how to use it. I will also try to find a way to use NLTK with npm and provide a tutorial for installing it with npm. Thanks for reading!</p>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://maximilienandile.github.io/2016/06/07/How-to-use-tokenization-stopwords-and-synsets-with-NLTK-python/" data-id="civ0u11nz0009hcmieezlkmyk" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
        <a href="http://maximilienandile.github.io/2016/06/07/How-to-use-tokenization-stopwords-and-synsets-with-NLTK-python/#disqus_thread" class="article-comment-link">
          <i class="fa fa-comment"></i> Comments
        </a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/NLP/">NLP</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-How-to-install-NLTK-and-compute-basic-statistics-on-a-text" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/18/How-to-install-NLTK-and-compute-basic-statistics-on-a-text/">How to install NLTK and compute basic statistics on a text</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/2016/05/18/How-to-install-NLTK-and-compute-basic-statistics-on-a-text/" class="article-date"><time datetime="2016-05-18T06:39:24.000Z" itemprop="datePublished">18/05/2016</time></a>
</div>

    
    

  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="NLTK-is-a-free-library-for-NLP"><a href="#NLTK-is-a-free-library-for-NLP" class="headerlink" title="NLTK is a free library for NLP"></a>NLTK is a free library for NLP</h2><p>NLTK (Natural Language Toolkit) is a free python library that is really helpful to execute NLP (Natural Language processing) tasks. The main challenge of NLP is to give the ability to an anlgorithm to understand the meaning of a text written by the human brain. The first application og NLP began during the 1950’s with the Georgetow Experiment (that was organised by IBM). The objective of that experiment was to show to the government the capabilities of machines in the translation field.</p>
<h2 id="How-to-install-it"><a href="#How-to-install-it" class="headerlink" title="How to install it"></a>How to install it</h2><h3 id="For-Windows-Users"><a href="#For-Windows-Users" class="headerlink" title="For Windows Users :"></a>For Windows Users :</h3><ul>
<li>Go to <a href="https://pypi.python.org/pypi/nltk" target="_blank" rel="external">https://pypi.python.org/pypi/nltk</a> and download the <code>nltk-3.2.1.win32.exe</code> file</li>
<li>After the downloading is complete double click on it and follow the instalation process</li>
<li>In order to check your installation, launch python. (Start menu &gt; Python)<br>and type on the black window :</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; import nltk</div></pre></td></tr></table></figure>
<p>If you have no errors you are good to go !</p>
<h3 id="For-MAC-Users"><a href="#For-MAC-Users" class="headerlink" title="For MAC Users"></a>For MAC Users</h3><p>The installation procedure is easier. Open your terminal and just type :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo pip install -U nltk</div></pre></td></tr></table></figure>
<h2 id="Import-your-own-text-from-the-filesystem"><a href="#Import-your-own-text-from-the-filesystem" class="headerlink" title="Import your own text from the filesystem"></a>Import your own text from the filesystem</h2><p>We will use the filesystem capability of python. The function <code>open(filename,mode)</code> will help us to import from the filesystem our file, in order to use NLTK against it.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">f= open(&quot;my_file.txt&quot;,&quot;r&quot;)</div><div class="line">text=f.read()</div></pre></td></tr></table></figure>
<p>The first parameter is the name of the file (placed at the root of your project). The second argument is the treatment option of the file. For this application we only need to read the file. Thus we will use the <code>r</code> option.</p>
<p>The second line will store the raw input in the <code>text</code> variable.</p>
<h2 id="Compute-basic-statistics"><a href="#Compute-basic-statistics" class="headerlink" title="Compute basic statistics"></a>Compute basic statistics</h2><h3 id="Words-that-appear-in-the-same-contexts"><a href="#Words-that-appear-in-the-same-contexts" class="headerlink" title="Words that appear in the same contexts"></a>Words that appear in the same contexts</h3><p>With this method you can find other words that appear in a similar context. The words are arranged in a way that the most similar words will appear first in the output list.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">text.similar(&apos;banana&apos;)</div></pre></td></tr></table></figure></p>
<h3 id="Counting-words"><a href="#Counting-words" class="headerlink" title="Counting words"></a>Counting words</h3><p>NLTK provides an easy method to count how many time a word appears in a text<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">text.count(&apos;alexa&apos;)</div></pre></td></tr></table></figure></p>
<p>It will output an integer.</p>
<h3 id="Get-the-number-of-words-and-punctuation"><a href="#Get-the-number-of-words-and-punctuation" class="headerlink" title="Get the number of words and punctuation"></a>Get the number of words and punctuation</h3><p>You can use the <code>len</code> function that will output an integer. Be careful, this function returns the number of words but also the number of punctuation signs in a corpus</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">len(text)</div></pre></td></tr></table></figure>
<p>In the next blog article I will try to focus on text classifiers. (Bayesian text classifiers). Nltk gives you the power of building one really easily.</p>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://maximilienandile.github.io/2016/05/18/How-to-install-NLTK-and-compute-basic-statistics-on-a-text/" data-id="civ0u11nu0005hcmixcgxx4vx" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
        <a href="http://maximilienandile.github.io/2016/05/18/How-to-install-NLTK-and-compute-basic-statistics-on-a-text/#disqus_thread" class="article-comment-link">
          <i class="fa fa-comment"></i> Comments
        </a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Natural-Language-Processing/">Natural Language Processing</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-How-to-use-promises-with-NodeJS" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/08/How-to-use-promises-with-NodeJS/">How to use promises with NodeJS</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/2016/05/08/How-to-use-promises-with-NodeJS/" class="article-date"><time datetime="2016-05-08T20:54:10.000Z" itemprop="datePublished">08/05/2016</time></a>
</div>

    
    

  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p>Like many others i started to develop algorithm in synchronous languages. The first language I learned was TI BASIC on my calculator in high school. With that language and like many others the instructions are processed line by line. If you write a bunch of lines your sure that the line 8 will be executed after the line 7.</p>
<p>When developping applications with Nodejs I faced the problematic of asynchronous execution. With this fabulous tool instructions are not blocking. If you write on line 10 a task that is pretty long to execute (opening and reading a file for instance), the system will not wait till the end of this task. It will go directly to the next one on line 11. The execution is much faster but it can become a nightmare for developers that have the habbit to develop in synchronous languages. You might for instance use a variable that is not existing because it’s affectation has not be done yet !</p>
<p>But there is an interesting tool that is not so complicated to use : promises.</p>
<h2 id="Origine-of-promises"><a href="#Origine-of-promises" class="headerlink" title="Origine of promises"></a>Origine of promises</h2><p>Promises where implemented in Javascript as of ECMAScript 6. Originally the term was first used in 1976 in a paper proposed by Daniel Friedman and David Wise (The impact of applicative programming on multiprocessing). I want to find and read this paper, but i did’nt found it. So if somebody is looking at this article and has a PDF version i’m highly interested.</p>
<h2 id="How-to-use-a-promise"><a href="#How-to-use-a-promise" class="headerlink" title="How to use a promise"></a>How to use a promise</h2><p>The better way to understand the way promises are working is to take a simple example.<br>Imagine that you have to perform a database lookup, and you want to send back the result to your user when it’s done.</p>
<p>Let’s take as example a route in the Express framework :</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// this route will be fired when an user visit the url product/1</span></div><div class="line">router.get(<span class="string">'product/:product_id'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;</div><div class="line">  <span class="comment">// Put the parameter in a variable for more convenience</span></div><div class="line">  <span class="keyword">var</span> product_id_in_param=req.params.product_id</div><div class="line">  <span class="comment">// Let's do the request (we use a sequelize model)</span></div><div class="line">  products.findOne(&#123;</div><div class="line">    <span class="attr">where</span>: &#123;<span class="attr">product_id</span>: product_id_in_param&#125;</div><div class="line"></div><div class="line">  &#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params">product_data</span>) </span>&#123;</div><div class="line">    <span class="comment">// This will be executed only when the database lookup is done</span></div><div class="line"></div><div class="line">    res.render(<span class="string">'product_page'</span>, &#123;<span class="attr">product</span>:product_data&#125;);</div><div class="line">  &#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h2 id="How-to-design-a-function-that-use-a-promise"><a href="#How-to-design-a-function-that-use-a-promise" class="headerlink" title="How to design a function that use a promise"></a>How to design a function that use a promise</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">my_function_with_a_promise</span>(<span class="params"></span>)</span>&#123;</div><div class="line"></div><div class="line">  <span class="comment">// We will return a promise object</span></div><div class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</div><div class="line">    <span class="comment">// We will for instance write information in a file</span></div><div class="line">    fs.writeFile(<span class="string">"info.txt"</span>, <span class="string">"information to write into the file"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</div><div class="line">      <span class="comment">// If there is an error</span></div><div class="line">      <span class="keyword">if</span>(err) &#123;</div><div class="line">        <span class="comment">// We use the reject function with the error as parameter</span></div><div class="line">        <span class="comment">// To tell our program that there was an error</span></div><div class="line">        reject(<span class="string">"There was an error saving your file"</span>)</div><div class="line">      &#125;</div><div class="line">      <span class="comment">// Else, there was no error :</span></div><div class="line">      <span class="comment">// We use the resolve function to tell our program that</span></div><div class="line">      <span class="comment">// The instruction was successfully executed</span></div><div class="line">      <span class="comment">// You can pass a greeting message</span></div><div class="line">      resolve(<span class="string">"The file was saved!"</span>);</div><div class="line"></div><div class="line">  &#125;);</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="Use-our-function-inside-our-main-program"><a href="#Use-our-function-inside-our-main-program" class="headerlink" title="Use our function inside our main program"></a>Use our function inside our main program</h2><p>Let’s imagine we want to fire this function when the user of our application visit the url <code>/execute</code> :</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">router.get(<span class="string">'/execute'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;</div><div class="line"></div><div class="line">  my_function_with_a_promise().then(<span class="function"><span class="keyword">function</span>(<span class="params">greeting_message</span>)</span>&#123;</div><div class="line"></div><div class="line">    <span class="comment">// The promise executed correctly !</span></div><div class="line">    <span class="comment">// Let's render the success view</span></div><div class="line">    <span class="comment">// With the parameter m that will represents the greeting message</span></div><div class="line">    res.render(<span class="string">'success'</span>, &#123;<span class="attr">m</span>:greeting_message&#125;);</div><div class="line"></div><div class="line">  &#125;).catch(<span class="function"><span class="keyword">function</span>(<span class="params">error_message</span>)</span>&#123;</div><div class="line"></div><div class="line">    <span class="comment">// There was an error</span></div><div class="line">    <span class="comment">// Let's warn our user by renderring the error view</span></div><div class="line">    <span class="comment">// along with the error message</span></div><div class="line">    res.render(<span class="string">'success'</span>, &#123;<span class="attr">m</span>:error_message&#125;);</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">  &#125;);</div><div class="line"></div><div class="line">&#125;);</div></pre></td></tr></table></figure>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://maximilienandile.github.io/2016/05/08/How-to-use-promises-with-NodeJS/" data-id="civ0u11nw0006hcmi61hlcjsd" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
        <a href="http://maximilienandile.github.io/2016/05/08/How-to-use-promises-with-NodeJS/#disqus_thread" class="article-comment-link">
          <i class="fa fa-comment"></i> Comments
        </a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Nodejs/">Nodejs</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-How-to-create-a-model-with-Sequelize-for-Nodejs" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/08/How-to-create-a-model-with-Sequelize-for-Nodejs/">How to create a model with Sequelize for Nodejs</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/2016/05/08/How-to-create-a-model-with-Sequelize-for-Nodejs/" class="article-date"><time datetime="2016-05-07T23:29:00.000Z" itemprop="datePublished">08/05/2016</time></a>
</div>

    
    

  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="What-is-Sequelize"><a href="#What-is-Sequelize" class="headerlink" title="What is Sequelize"></a>What is Sequelize</h2><p>Sequelize is a SQL ORM for Nodejs. ORM means Object-Relational Mapping. This type of interface offers you to take some distance from the database administration hassle. It will create the tables, the indexes and auto generate and execute the queries directly for you. You don’t have to execute those very painful and repetitive tasks.</p>
<p>Sequelize is an ORM that is developed for database using SQL as a query language. MySQL for instance or Postgresql.</p>
<h2 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h2><p>Go to the directory of your nodejs project :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ cd my_project_forlder</div></pre></td></tr></table></figure>
<p>Then use npm to install sequelize ad all it’s dependencies.<br>We will use the <code>--save</code>option to write in our <code>package.json</code> file that the project needs this module.<br>It will be more easier when you will deploy it, or update your packages.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install sequelize —-save</div></pre></td></tr></table></figure>
<h2 id="Configuration"><a href="#Configuration" class="headerlink" title="Configuration"></a>Configuration</h2><p>Prerequesite having a running SQL database. For demonstration purpose we will use a MySQL one.</p>
<p>Create a new file in your project folder named <code>sequelize.js</code> with the following content :</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Let's require our module</span></div><div class="line"><span class="keyword">var</span> Sequelize=<span class="built_in">require</span>(<span class="string">'sequelize'</span>);</div><div class="line"><span class="comment">// Let's create a new sequelize instance</span></div><div class="line"><span class="comment">// And connect tou our database</span></div><div class="line"><span class="keyword">var</span> sequelize = <span class="keyword">new</span> Sequelize(<span class="string">'database_name'</span>, <span class="string">'username'</span>, <span class="string">'password'</span>, &#123;</div><div class="line">  <span class="attr">host</span>: <span class="string">'XXX.us-west-2.rds.amazonaws.com'</span>,</div><div class="line">  <span class="attr">dialect</span>: <span class="string">'mysql'</span>,</div><div class="line"></div><div class="line">  <span class="attr">pool</span>: &#123;</div><div class="line">    <span class="attr">max</span>: <span class="number">5</span>,</div><div class="line">    <span class="attr">min</span>: <span class="number">0</span>,</div><div class="line">    <span class="attr">idle</span>: <span class="number">10000</span></div><div class="line">  &#125;,</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>That’s it ! You have now a brand new connection to your server.<br>By default sequelize will use a pool connection. We give it in the last lines some additional options to configure the pooling system. Basically a pool of connection is a cache of database connections that can be used again and again in case of multiple queries to perform.</p>
<h2 id="Creation-of-the-model"><a href="#Creation-of-the-model" class="headerlink" title="Creation of the model"></a>Creation of the model</h2><p>You can see the model as an abstract representation of data that will be stored in your system. By definig a model you will warn Sequelize that you want to be able to insert, select, delete or update rows of data that will be stored and retrieved following the instruction you specified when you define your model.</p>
<p>Do not be affraid by this abstraction step. I have experienced with many of my students that being able to fully understand what is a model and what it brings to developer can be really hard. Just keep in mind that you are just defining the structure of a traditional database table with indexes, constraints and types.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Creation of the model "client"</span></div><div class="line"><span class="keyword">var</span> client = sequelize.define(<span class="string">'client'</span>, &#123;</div><div class="line">  <span class="comment">// Here are the columns of the table</span></div><div class="line">  family_name: &#123;<span class="attr">type</span>: Sequelize.STRING&#125;,</div><div class="line">  <span class="attr">surname</span>: &#123;<span class="attr">type</span>: Sequelize.STRING&#125;,</div><div class="line">  <span class="attr">title</span>: &#123;<span class="attr">type</span>: Sequelize.STRING&#125;,</div><div class="line">  <span class="attr">email</span>: &#123;<span class="attr">type</span>: Sequelize.STRING&#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>In this code we have created a model client, (that will be stored in the table client) with the columns family_name, surname …</p>
<h2 id="Synchronization-with-the-database"><a href="#Synchronization-with-the-database" class="headerlink" title="Synchronization with the database"></a>Synchronization with the database</h2><p>Creating a model is cool, but now you have to synchronize it with your physic database. If you forget this step you will get errors because the table will not be created and it will be impossible to insert or select data for a non existing table.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">client.sync().then(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="comment">// Table created</span></div><div class="line">  <span class="keyword">return</span> client.create(&#123;</div><div class="line">    <span class="attr">family_name</span>: <span class="string">'Jean'</span>,</div><div class="line">    <span class="attr">surname</span>: <span class="string">'Dupont'</span>,</div><div class="line">    <span class="attr">title</span> : <span class="string">"Mr"</span>,</div><div class="line">    <span class="attr">email</span> : <span class="string">"jean.dupont@gmail.com"</span></div><div class="line">  &#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>This code will create the tables and the column defined before. Bonus : Sequelize will add automatically an <code>id</code> , <code>createdAt</code>and <code>updatedAt</code> column !</p>
<p>After the creatin is done it will create a client with the information provided  in the create method of our model object (<code>client</code>).</p>
<p>Enjoy and use without moderation but becareful ! Never use (unless you know what you are doing) the method <code>sync</code> with the option <code>force:true</code>. It will drop the table if one exist with the same name and create a new one ! It can be a real disaster in a production environment !</p>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://maximilienandile.github.io/2016/05/08/How-to-create-a-model-with-Sequelize-for-Nodejs/" data-id="civ0u11ns0004hcmisd3bko0a" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
        <a href="http://maximilienandile.github.io/2016/05/08/How-to-create-a-model-with-Sequelize-for-Nodejs/#disqus_thread" class="article-comment-link">
          <i class="fa fa-comment"></i> Comments
        </a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SQL/">SQL</a></li></ul>


    </footer>
  </div>
  
</article>



  


  <div id="page-nav">
    <nav><ul class="pagination"><li><a class="page-prev" rel="prev" href="/"><i class="fa fa-chevron-left"></i> Prev</a></li><li><a class="page-number" href="/">1</a></li><li class="active"><span class="page-number">2</span></li><li class="disabled"><span class="page-next">Next <i class="fa fa-chevron-right"></i></a></li></ul></nav>
  </div>



        </div>
        <div class="col-sm-3 col-sm-offset-1 blog-sidebar">
          
  <div class="sidebar-module sidebar-module-inset">
  <h4>About</h4>
  <p>I am Maximilien Andile a Tech enthusiast and teacher who is always happy to share knowledge</p>

</div>


  


  
  <div class="sidebar-module">
    <h4>Tags</h4>
    <ul class="sidebar-module-list"><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/Business-Intelligence/">Business Intelligence</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/HTTP/">HTTP</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/Machine-Learning/">Machine Learning</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/NLP/">NLP</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/Natural-Language-Processing/">Natural Language Processing</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/Nodejs/">Nodejs</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/PHP/">PHP</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/PHP-Tests-unitaires/">PHP ; Tests unitaires</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/REST/">REST</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/SQL/">SQL</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/nodejs/">nodejs</a><span class="sidebar-module-list-count">1</span></li></ul>
  </div>



  
  <div class="sidebar-module">
    <h4>Tag Cloud</h4>
    <p class="tagcloud">
      <a href="/tags/Business-Intelligence/" style="font-size: 10px;">Business Intelligence</a> <a href="/tags/HTTP/" style="font-size: 10px;">HTTP</a> <a href="/tags/Machine-Learning/" style="font-size: 20px;">Machine Learning</a> <a href="/tags/NLP/" style="font-size: 20px;">NLP</a> <a href="/tags/Natural-Language-Processing/" style="font-size: 10px;">Natural Language Processing</a> <a href="/tags/Nodejs/" style="font-size: 10px;">Nodejs</a> <a href="/tags/PHP/" style="font-size: 10px;">PHP</a> <a href="/tags/PHP-Tests-unitaires/" style="font-size: 10px;">PHP ; Tests unitaires</a> <a href="/tags/REST/" style="font-size: 10px;">REST</a> <a href="/tags/SQL/" style="font-size: 10px;">SQL</a> <a href="/tags/nodejs/" style="font-size: 10px;">nodejs</a>
    </p>
  </div>


  
  <div class="sidebar-module">
    <h4>Archives</h4>
    <ul class="sidebar-module-list"><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/11/">novembre 2016</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/10/">octobre 2016</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/09/">septembre 2016</a><span class="sidebar-module-list-count">6</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/06/">juin 2016</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/05/">mai 2016</a><span class="sidebar-module-list-count">3</span></li></ul>
  </div>



  
  <div class="sidebar-module">
    <h4>Recents</h4>
    <ul class="sidebar-module-list">
      
        <li>
          <a href="/2016/11/02/Comment-creer-un-script-shell-permettant-de-recuperer-et-d-analyser-des-articles-wikipedia-avec-lynx/">Comment créer un script shell permettant de récupérer et d&#39;analyser des articles wikipedia avec lynx</a>
        </li>
      
        <li>
          <a href="/2016/10/17/Machine-Learning-classification-a-l-aide-des-arbres-de-decisions-fonctionnement-et-application-en-NodeJS/">Machine Learning : classification à l&#39;aide des arbres de décisions : fonctionnement et application en NodeJS</a>
        </li>
      
        <li>
          <a href="/2016/10/12/Base-de-donnees-comprendre-les-differences-entre-le-modele-relationnel-et-le-modele-multidimensionnel/">Base de données : comprendre les différences entre le modèle relationnel et le modèle multidimensionnel</a>
        </li>
      
        <li>
          <a href="/2016/10/01/Comment-installer-PHPUnit-sur-un-projet-necessitant-composer-et-utilisant-des-variables-d-environnement/">Comment installer PHPUnit sur un projet nécessitant composer et utilisant des variables d&#39;environnement</a>
        </li>
      
        <li>
          <a href="/2016/09/30/Comprendre-les-headers-d-une-requete-HTTP/">Comprendre les headers d&#39;une requête HTTP</a>
        </li>
      
    </ul>
  </div>



        </div>
    </div>
  </div>
  <footer class="blog-footer">
  <div class="container">
    <div id="footer-info" class="inner">
      &copy; 2016 Maximilien Andile<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

  
<script>
  var disqus_shortname = 'maximilienandile';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js" integrity="sha384-8gBf6Y4YYq7Jx97PIqmTwLPin4hxIzQw5aDmUg/DDhul9fFpbbLcLh3nTIIDJKhx" crossorigin="anonymous"></script>

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>



<script src="/js/script.js"></script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->

</body>
</html>
