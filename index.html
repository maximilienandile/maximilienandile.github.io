<!DOCTYPE html>
<html>
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
  
  <title>M@XCode</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="google-site-verification" content="zhe_jVE6TPFbrQb7K-ra2FFxgiDsn6ZeFoKSz9EXmGk" />
  <meta name="description" content="Blog dedicated to computer science">
<meta property="og:type" content="website">
<meta property="og:title" content="M@XCode">
<meta property="og:url" content="http://maximilienandile.github.io/index.html">
<meta property="og:site_name" content="M@XCode">
<meta property="og:description" content="Blog dedicated to computer science">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="M@XCode">
<meta name="twitter:description" content="Blog dedicated to computer science">
  
    <link rel="alternate" href="/atom.xml" title="M@XCode" type="application/atom+xml">
  
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" integrity="sha384-XdYbMnZ/QjLh6iI4ogqCTaIjrFk87ip+ekIjefZch0Y+PvJ8CDYtEs1ipDmPorQ+" crossorigin="anonymous">

  <link rel="stylesheet" href="/css/styles.css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77397884-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics --><!-- hexo-inject:begin --><!-- hexo-inject:end -->


</head>

<body>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><nav class="navbar navbar-inverse">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#main-menu-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="main-menu-navbar">
      <ul class="nav navbar-nav">
        
          <li><a class="active"
                 href="/index.html">Home</a></li>
        
          <li><a class=""
                 href="/archives/">Archives</a></li>
        
      </ul>

      <!--
      <ul class="nav navbar-nav navbar-right">
        
          <li><a href="/atom.xml" title="RSS Feed"><i class="fa fa-rss"></i></a></li>
        
      </ul>
      -->
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>

  <div class="container">
    <div class="blog-header">
  <h3 class="blog-title">M@XCode</h3>
  
    <p class="lead blog-description">Personal blog dedicated to computer science</p>
  
</div>

    <div class="row">
        <div class="col-sm-8 blog-main">
          
  
    <article id="post-Dependency-injection-what-is-it-how-to-do-it-in-Java-and-why-to-use-it" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/10/20/Dependency-injection-what-is-it-how-to-do-it-in-Java-and-why-to-use-it/">Dependency injection - What is it ? How to do it in Java ? Why to use it ?</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/2019/10/20/Dependency-injection-what-is-it-how-to-do-it-in-Java-and-why-to-use-it/" class="article-date"><time datetime="2019-10-20T18:05:34.000Z" itemprop="datePublished">20/10/2019</time></a>
</div>

    
    

  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p>The term “Dependency Injection” has been created by Martin Fowler in 2004 [1]. The term has gained some hype with time and several colleagues presented me the concept.</p>
<p>I wanted to gain a better knowledge of it so I wrote this article that has 3 main objectives :</p>
<ul>
<li>Give a definition of the concept</li>
<li>Illustrate it’s usage</li>
<li>Make the reader understand why dependency injection may improve software</li>
</ul>
<h1 id="Vocabulary"><a href="#Vocabulary" class="headerlink" title="Vocabulary"></a>Vocabulary</h1><p>Dependency Injection is a technique related to <strong>inversion of control</strong>. The term “inversion of control” was born in 1988 in an article written by Johnson and Foote [5]. </p>
<p>When we write an application that depends on a specific component we will need to call the component we want to use. </p>
<p>In this situation the developer is fully in control of what is happening in the program.</p>
<p>Now, if we use a framework, we can <strong>delegate to the framework numerous tasks</strong> like instantiating components (but not only). In this configuration control is <strong>inverted</strong>.</p>
<p>Many frameworks provide inversion of control. In this article we will focus on the Spring Framework (Java) that is built around this concept.</p>
<p><strong>Dependency injection invert a very specific “aspect of control”</strong> [1]. </p>
<p>To understand the concept, we need first to define precisely the terms involved here :</p>
<ul>
<li><strong>Dependency</strong> : A piece of code that needs to be used in another piece of code. In object oriented programming world those pieces of codes are usually classes. We say that a class has a dependency when it needs to use another class. The first class is dependent from the second class. For instance the class responsible to render a web page has a dependency to the class responsible to query the database.</li>
<li><strong>Injection</strong> : in the medical world, an injection refers to the introduction of a liquid into the body of a patient. An injection is usually done by a doctor (or a nurse). We need three actors for performing injection : (1) the injector (the doctor), (2) the liquid, and the receiver (3). </li>
</ul>
<p>The idea of “dependency injection” is to let the framework we are using inject our dependencies automatically when we need to use them. Frameworks usually provide in their core code and “injector” to perform this task.</p>
<p>To understand it better we will go through an example :</p>
<h1 id="The-example-project"><a href="#The-example-project" class="headerlink" title="The example project"></a>The example project</h1><p>Our project is pretty simple. It’s a REST API server with a single endpoint :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GET https://maximilien-andile.com/velo</span><br></pre></td></tr></table></figure>
<p>The server (<code>maximilien-andile.com</code>) exposes a <code>GET</code>  endpoint (<code>/velo</code>).<br>The idea of this endpoint is to get the number of available bikes (from a self-service bike rental provider) at a particular station.</p>
<p>In order to send the response to the user our server will need to call the API of the self-service bike rental provider.</p>
<p><img src="/img/rest-api-example.png" alt="UML Sequence Diagram - Example Rest API"></p>
<h2 id="Two-components-one-dependency"><a href="#Two-components-one-dependency" class="headerlink" title="Two components, one dependency"></a>Two components, one dependency</h2><p><img src="/images/component_v1_dependency.png" alt="UML Component view"></p>
<p>In our project we have two components :</p>
<ul>
<li><strong>The web server</strong> : it will handle all incoming requests from the web. It has an HTTP interface</li>
<li><strong>The external API client</strong> : client that will call the self-service bike API.</li>
</ul>
<p>Here the web server will <strong>use</strong> the external API client.<br>We have a <strong>dependency</strong>. The web server needs to use the external API client to handle incoming HTTP requests.<br>The web server is <strong>dependant</strong> of the external API client.</p>
<h1 id="A-first-version-of-the-project"><a href="#A-first-version-of-the-project" class="headerlink" title="A first version of the project"></a>A first version of the project</h1><p>We will draft a first version of the project to better understand the concrete manifestation of a dependency into the code.</p>
<p>The source code will be written in Java with Spring Boot.</p>
<h2 id="The-entry-point"><a href="#The-entry-point" class="headerlink" title="The entry point"></a>The entry point</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.demovelo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DemoveloApplication</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    SpringApplication.run(DemoveloApplication.class, args);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Here we have the entry point of our program. It consists of a class named <code>DemoveloApplication</code> which contains a single<br>static function called <code>main</code>.</p>
<h2 id="The-REST-Controller"><a href="#The-REST-Controller" class="headerlink" title="The REST Controller :"></a>The REST Controller :</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.demovelo.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.demovelo.service.BikeService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMethod;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BikeController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@RequestMapping</span>(path = <span class="string">"/velo"</span>,method = RequestMethod.GET)</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getBikesAtStationX</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">// Instantiate External API Client</span></span><br><span class="line">    BikeService bikeService = <span class="keyword">new</span> BikeService();</span><br><span class="line">    <span class="comment">// Call the appropriate method to get the number</span></span><br><span class="line">    <span class="comment">// of bikes at station X</span></span><br><span class="line">    <span class="keyword">return</span> bikeService.bikesAvailableAtStation(<span class="string">"X"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>You see here that we have a class (with the annotation <code>@RestController</code> needed by Spring) and then a public method <code>getBikesAtStationX</code>.</p>
<p>This method has also an annotation <code>@RequestMapping(path = &quot;/velo&quot;,method = RequestMethod.GET)</code>. It allows the Spring framework<br>to map the request <code>GET /velo</code> received by our server to be mapped to this particular method.</p>
<p>In this method we are instantiating the second component <code>BikeService</code> which is responsible to call the JCDecaux API.<br>We then call the method <code>bikesAvailableAtStation</code> on the instance created <code>bikeService</code>. </p>
<h2 id="The-External-API-Client-BikeService"><a href="#The-External-API-Client-BikeService" class="headerlink" title="The External API Client : BikeService"></a>The External API Client : BikeService</h2><p>And here is the code of <code>BikeService</code> :</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.demovelo.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BikeService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">BikeService</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">bikesAvailableAtStation</span><span class="params">(String stationId)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">42</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Note here that we have not implemented the actual call to the JCDecaux API. (We juste return 42…)</p>
<h2 id="What-is-wrong-with-this-code"><a href="#What-is-wrong-with-this-code" class="headerlink" title="What is wrong with this code ?"></a>What is wrong with this code ?</h2><h3 id="Memory-usage-will-increase-with-server-load"><a href="#Memory-usage-will-increase-with-server-load" class="headerlink" title="Memory usage will increase with server load"></a>Memory usage will increase with server load</h3><p>Each request to the REST Server will create an instance of <code>BikeService</code>. The <strong>memory consumption</strong> will increase with the server load.</p>
<h3 id="It-is-not-testable"><a href="#It-is-not-testable" class="headerlink" title="It is not testable"></a>It is not testable</h3><p>What if we want to unit test the <code>getBikesAtStationX</code> method ? Here is an unit test example :</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.demovelo.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.jupiter.api.Assertions.*;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BikeControllerTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Test</span></span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">getBikesAtStationX</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    BikeController bikeController = <span class="keyword">new</span> BikeController();</span><br><span class="line">    assertEquals(<span class="number">12</span>, bikeController.getBikesAtStationX());</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>We have a <code>BikeControllerTest</code> class with a single method <code>getBikesAtStationX</code>, which is the method resposible to test <code>getBikesAtStationX</code>.</p>
<p>In this method we create an instance of the <code>BikeController</code> named <code>bikeController</code> and then we call <code>assertEquals</code> (from the junit Assertion Library).</p>
<p>This method takes two parameters : the expected result and the actual result. Here we check that <code>42</code> is equal to <code>bikeController.getBikesAtStationX()</code>.</p>
<p>If we launch the unit tests it will pass (because <code>bikeController.getBikesAtStationX()</code> always return `42, hence the assertion is valid).</p>
<p>When we will develop <code>getBikesAtStationX</code> and call the external API the result will vary. Our test will fail.<br>We do not control the external API therefore we cannot base an unit test on it. Unit tests have to be isolated from external services.</p>
<p>We need to find a way to control the output of the method <code>bikesAvailableAtStation</code>.</p>
<h3 id="Dependent-components-should-only-use-a-small-interface"><a href="#Dependent-components-should-only-use-a-small-interface" class="headerlink" title="Dependent components should only use a small interface"></a>Dependent components should only use a small interface</h3><p>In our example the REST server is responsible to create a new instance of <code>BikeService</code> :<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getBikesAtStationX</span><span class="params">()</span></span>&#123;</span><br><span class="line">    BikeService bikeService = <span class="keyword">new</span> BikeService();</span><br><span class="line">    <span class="keyword">return</span> bikeService.bikesAvailableAtStation(<span class="string">"X"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>It means that the dependent component is responsible to construct an instance of it’s dependency. </p>
<p>The BikeController should not be responsible of this task.</p>
<p>A modification to the <code>BikeService</code> constructor will break the <code>BikeController</code>.<br>In other words when we modify the implementation details of our components, every other components that depends on it need to be modified.</p>
<p>Implementation details should be hidden to the clients. Clients should only use on a small interface.</p>
<p>Note here that I have used the term <code>client</code>. When a component A uses a component B we say that the component A is a client of the component B.</p>
<p><img src="/images/component_v1_dependency_with_interface.png" alt="UML Component view - The Web Server should use an interface"></p>
<h1 id="A-new-version-of-the-project-with-dependency-injection"><a href="#A-new-version-of-the-project-with-dependency-injection" class="headerlink" title="A new version of the project with dependency injection"></a>A new version of the project with dependency injection</h1><p>The application entry point do not change. Only the <code>BikeService</code> and <code>BikeController</code> will change.</p>
<h2 id="The-new-BikeService"><a href="#The-new-BikeService" class="headerlink" title="The new BikeService"></a>The new <code>BikeService</code></h2><p>The first step is to create an interface. This interface define a contract for any implementation of a <code>BikeService</code> :</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.demovelodi.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">BikeService</span> </span>&#123;</span><br><span class="line">   <span class="function"><span class="keyword">int</span> <span class="title">bikesAvailableAtStation</span><span class="params">(String stationId)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Then we create a concrete implementation of that contract :</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.demovelodi.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BikeServiceImpl</span> <span class="keyword">implements</span> <span class="title">BikeService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">bikesAvailableAtStation</span><span class="params">(String stationId)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">42</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Here our class <code>BikeServiceImpl</code> implements the <code>BikeService</code> interface. To fulfill this contract we define the method <code>bikesAvailableAtStation</code>.</p>
<p>Note that we added 1 Spring Annotation and 1 java annotation  :</p>
<ul>
<li><code>@Service</code> : allow the Spring framework to register the class as a bean (a component).</li>
<li><code>@Override</code> : Here we have an implementation of an interface, so at first sight this annotation seems useless, this class do not extend any class. The annotation was automatically provided by my IDE. After a quick look it seems that adding the annotation will force the compiler to check if we implemented correctly the interface…</li>
</ul>
<h2 id="The-new-BikeController"><a href="#The-new-BikeController" class="headerlink" title="The new BikeController"></a>The new <code>BikeController</code></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.demovelodi.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.demovelodi.service.BikeService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMethod;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BikeController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">final</span> BikeService bikeService;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">BikeController</span><span class="params">(BikeService bikeService)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.bikeService = bikeService;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@RequestMapping</span>(path = <span class="string">"/velo"</span>,method = RequestMethod.GET)</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getBikesAtStationX</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.bikeService.bikesAvailableAtStation(<span class="string">"X"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>We added the private property <code>bikeService</code>  in our class (of type <code>BikeService</code>).</p>
<p>The we added a constructor to our class that takes as parameter a <code>BikeService</code>.</p>
<p>The method  <code>getBikesAtStationX</code> did not change a lot, except that we do not construct an instance of BikeService in it.<br>Instead we are using the class property.</p>
<p>We never instantiate the <code>BikeService</code> in our controller, it will get instantiated by the Framework.</p>
<p>An injector, that is hidden by the framework will instantiate it.</p>
<p>Here is an UML Class diagram that show the relation between classes :</p>
<p><img src="/images/component_di_injection_schema.png" alt="UML Class view of dependency injection"></p>
<ul>
<li>The <code>BikeServiceImpl</code> class implements the <code>BikeService</code> interface</li>
<li>The <code>BikeController</code> uses the <code>BikeService</code> interface</li>
<li>The <code>FrameworkInjector</code> will instantiate the <code>BikeServiceImpl</code> class and inject it into the <code>BikeController</code>.</li>
</ul>
<h2 id="Unit-test"><a href="#Unit-test" class="headerlink" title="Unit test"></a>Unit test</h2><p>The first version of the BikeController was impossible to test.</p>
<p>The second version of the controller requires an <strong>interface</strong> in it’s constructor. As a consequence we can use a <strong>mocked</strong> <code>BikeService</code> <strong>instead of the actual implementation</strong> of the <code>BikeService</code>.</p>
<p>Here is the mocked implementation :</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.demovelodi.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.demovelodi.service.BikeService;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BikeServiceMock</span> <span class="keyword">implements</span> <span class="title">BikeService</span> </span>&#123;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">bikesAvailableAtStation</span><span class="params">(String stationId)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">65</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Here instead of calling the real API we are directly returning a fixed integer, allowing us to assert that the controller returns what is expected :</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.demovelodi.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.demovelodi.service.BikeService;</span><br><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.BeforeEach;</span><br><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.jupiter.api.Assertions.*;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BikeControllerTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> BikeController bikeController;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@BeforeEach</span></span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">setUp</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    BikeService mockedBikeService = <span class="keyword">new</span> BikeServiceMock();</span><br><span class="line">    <span class="keyword">this</span>.bikeController = <span class="keyword">new</span> BikeController(mockedBikeService);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Test</span></span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">getBikesAtStationX</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    assertEquals(<span class="number">65</span>, <span class="keyword">this</span>.bikeController.getBikesAtStationX());</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>In the <code>setUp</code> function (that will be run before each tests) we create an instance of our mocked implementation. Then we set the property <code>bikeController</code> with a new instance of the BikeController constructed with the instance of the mocked Service.</p>
<p>The test (in the method <code>getBikesAtStationX</code>) will assert (verify) that 65 is actually returned by <code>this.bikeController.getBikesAtStationX()</code>.</p>
<h1 id="Comparison-of-the-two-controllers"><a href="#Comparison-of-the-two-controllers" class="headerlink" title="Comparison of the two controllers"></a>Comparison of the two controllers</h1><p>To better see the differences between the two version here are the two controllers</p>
<ul>
<li>Without Dependency Injection :</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.demovelo.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.demovelo.service.BikeService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMethod;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BikeController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@RequestMapping</span>(path = <span class="string">"/velo"</span>,method = RequestMethod.GET)</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getBikesAtStationX</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">// Instantiate External API Client</span></span><br><span class="line">    BikeService bikeService = <span class="keyword">new</span> BikeService();</span><br><span class="line">    <span class="comment">// Call the appropriate method to get the number</span></span><br><span class="line">    <span class="comment">// of bikes at station X</span></span><br><span class="line">    <span class="keyword">return</span> bikeService.bikesAvailableAtStation(<span class="string">"X"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>With DI :</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.demovelodi.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.demovelodi.service.BikeService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMethod;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BikeController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">final</span> BikeService bikeService;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">BikeController</span><span class="params">(BikeService bikeService)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.bikeService = bikeService;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@RequestMapping</span>(path = <span class="string">"/velo"</span>,method = RequestMethod.GET)</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getBikesAtStationX</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.bikeService.bikesAvailableAtStation(<span class="string">"X"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="Dependency-injection-and-maintainability"><a href="#Dependency-injection-and-maintainability" class="headerlink" title="Dependency injection and maintainability"></a>Dependency injection and maintainability</h1><p>In this section I will focus on the effects of dependency injection on software <strong>maintainability</strong>.</p>
<h2 id="What-is-software-maintainability"><a href="#What-is-software-maintainability" class="headerlink" title="What is software maintainability ?"></a>What is software maintainability ?</h2><p>There are two definitions of “software maintainability” :</p>
<p>The ISO/IEC defines it as :</p>
<blockquote>
<p>the capability of the software to be modified</p>
</blockquote>
<p>For Matinlassi Mari and Niemelä Eila [2], the maintainability is :</p>
<blockquote>
<p>The ease with which a software system or component can be modified or adapt to a changed environment.”</p>
</blockquote>
<p>The definition emphasis that a maintainable software can be changed without pain for the future developers that will work on the project.</p>
<h2 id="Why-do-we-care-about-maintainability"><a href="#Why-do-we-care-about-maintainability" class="headerlink" title="Why do we care about maintainability ?"></a>Why do we care about maintainability ?</h2><p>When you care about maintainability you care about your peers but also about the company that employs you. </p>
<p>A component that is hard to make evolve will increase the budget of a project.</p>
<h2 id="Coupling-can-be-used-to-measure-maintainability"><a href="#Coupling-can-be-used-to-measure-maintainability" class="headerlink" title="Coupling can be used to measure maintainability"></a>Coupling can be used to measure maintainability</h2><p>The previous definition is clear. A software is maintainable if we can change it easily.</p>
<p>The characteristic of “changing easily” is very subjective and therefore hard to measure.</p>
<p>We can use a proxy to detect a maintainable software : coupling.</p>
<p>A system is said to be highly coupled if it’s different parts are highly interdependent. In opposite a system is loosely coupled if it’s parts it are less interdependent.</p>
<p>Coupling can be measured by code parsers. In 1999 a pretty famous paper written by Briand, Daly, &amp; Wust defined different metrics around the concept of coupling [4].</p>
<h2 id="Two-measures-of-coupling"><a href="#Two-measures-of-coupling" class="headerlink" title="Two measures of coupling"></a>Two measures of coupling</h2><p>From the Briand, Daly, &amp; Wust [4] we can remember two metrics :</p>
<ul>
<li><p><strong>CBO</strong> (Coupling Between Objects) can be calculated for any class. It counts the number of couples there is between the given class and other classes.<br>A couple is created when a class use methods or attributes of the other class. If the class is used by two other class the CBO is 2. </p>
</li>
<li><p><strong>RFC</strong> (Response For A Class) is the number of methods that can be called when a message is received on an object of a class [4].<br>This metric gives an idea of the level of testability of the software created.<br>If only one method can be called for each message received on the object, building an unit test is easy. When for a single message 10 methods can be called and those method can also call 10 more methods, writing unit tests is not an easy task.</p>
</li>
</ul>
<p>Those two metrics allow us to give a precise definition of coupling.</p>
<h2 id="The-more-dependency-injection-the-less-coupling"><a href="#The-more-dependency-injection-the-less-coupling" class="headerlink" title="The more dependency injection the less coupling"></a>The more dependency injection the less coupling</h2><p>Razina &amp; Janzen in a paper from 2007 wanted to demonstrate that “significantly reduces dependencies of modules in a piece of software, therefore making the software more maintainable.”.</p>
<p>They calculated “cohesion and coupling metrics” on 40 projects (20 projects that were using Dependency Injection, 20 without dependency injection).</p>
<p>The study did not succeed into proving the hypothesis. But they demonstrate that :</p>
<blockquote>
<p>a trend of lower coupling in projects with higher dependency injection percentage (more than 10 %) was evident</p>
</blockquote>
<p>Using dependency injection does not automatically reduce coupling. But when it is used software coupling metrics seems to be lower.</p>
<h1 id="Further-reading"><a href="#Further-reading" class="headerlink" title="Further reading"></a>Further reading</h1><ul>
<li>[1]<a href="https://martinfowler.com/articles/injection.html" target="_blank" rel="noopener">Inversion of Control Containers and the Dependency Injection pattern, Martin Fowler</a></li>
<li>[2] Mari, M. (2003, September). The impact of maintainability on component-based software systems. In null (p. 25). IEEE.</li>
<li>[3] Razina, E., &amp; Janzen, D. S. (2007). Effects of dependency injection on maintainability. In Proceedings of the 11th IASTED International Conference on Software Engineering and Applications: Cambridge, MA (p. 7).</li>
<li>[4] Briand, L. C., Daly, J. W., &amp; Wust, J. K. (1999). A unified framework for coupling measurement in object-oriented systems. IEEE Transactions on software Engineering, 25(1), 91-121.</li>
<li>[5] Johnson, R. E., &amp; Foote, B. (1988). Designing reusable classes. Journal of object-oriented programming, 1(2), 22-35. (article is <a href="http://www.laputan.org/drc/drc.html" target="_blank" rel="noopener">here</a>)</li>
</ul>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://maximilienandile.github.io/2019/10/20/Dependency-injection-what-is-it-how-to-do-it-in-Java-and-why-to-use-it/" data-id="ck222plik000c5399wyyndq6m" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
        <a href="http://maximilienandile.github.io/2019/10/20/Dependency-injection-what-is-it-how-to-do-it-in-Java-and-why-to-use-it/#disqus_thread" class="article-comment-link">
          <i class="fa fa-comment"></i> Comments
        </a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Design-Patterns/">Design Patterns</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-Javascript-que-sont-les-closures-et-comment-les-utiliser" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/12/22/Javascript-que-sont-les-closures-et-comment-les-utiliser/">Javascript : que sont les closures et comment les utiliser</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/2016/12/22/Javascript-que-sont-les-closures-et-comment-les-utiliser/" class="article-date"><time datetime="2016-12-22T15:19:59.000Z" itemprop="datePublished">22/12/2016</time></a>
</div>

    
    

  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p>Une closure (qui peut se traduire par <strong>fermeture</strong> en français) est une fonction qui garde accès au scope englobant dans laquelle elle est définie. Et ce même lorsque ce scope est “fermé”. Cette définition ma rendu très perplexe au début. Mais essayons de la comprendre. Pour cela faisons un petit rappel sur la portée des variables.</p>
<h2 id="Portee-des-variables"><a href="#Portee-des-variables" class="headerlink" title="Portée des variables."></a>Portée des variables.</h2><p>La portée d’une variable fait référence aux <strong>règles qui régissent l’accès et l’utilisation</strong> aux variables de nos script. S’interroger sur la portée d’une variable permet de savoir si la variable est bien définie et si donc on a le droit de s’en servir.</p>
<p>Lorsqu’on commence à programmer on se pose rarement la question.</p>
<h3 id="La-portee-globale"><a href="#La-portee-globale" class="headerlink" title="La portée globale"></a>La portée globale</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> le_yo=<span class="string">"yo"</span>;</span><br><span class="line">alert(yo);</span><br></pre></td></tr></table></figure>
<p>Ici notre variable <code>le_yo</code> est défnit globalement, elle est donc disponible dans tout notre script c’est pour cela que l’on peut ecrire <code>alert(le_yo);</code> sans problèmes. Rien de bien sorcier ici.</p>
<h3 id="La-portee-locale"><a href="#La-portee-locale" class="headerlink" title="La portée locale"></a>La portée locale</h3><p>C’est ici que cela se corse :</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dire_yo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> loc = <span class="string">"yo"</span>:</span><br><span class="line">  alert(yo);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Ici la variable <code>loc</code> a une portée <code>locale</code> car elle est défnit dans une fonction. En fait chaque fonction javascript dispose de son <code>scope</code>. Le scope, pour prendre une image, c’est un peu le bac à sable de notre fonction : l’ensemble de son terrain de jeu. On y a notre pelle, notre rateau.</p>
<p>Ce qu’il faut comprendre c’est qu’on ne peut pas accéder à notre pelle et notre rateau en dehors du bac à sable.</p>
<p>Ce code ne fonctionnera pas :</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dire_yo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> loc = <span class="string">"yo"</span>;</span><br><span class="line">  alert(yo);</span><br><span class="line">&#125;</span><br><span class="line">alert(loc);</span><br></pre></td></tr></table></figure>
<p>On se mangera l’erreur <code>Uncaught ReferenceError: loc is not defined</code>. Et c’est normal, parce que <code>loc</code> n’existe que dans la fonction <code>dire_yo</code> !</p>
<p>En revanche ce code marche :<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> glob=<span class="string">"yaaaaaaaa"</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dire_yo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> loc = <span class="string">"yo"</span>;</span><br><span class="line">  alert(yo);</span><br><span class="line">&#125;</span><br><span class="line">alert(glob);</span><br><span class="line"><span class="comment">// alertera : 'yaaaaaaaa'</span></span><br></pre></td></tr></table></figure></p>
<p>Ici la variable <code>glob</code> est définie dans le scope <code>global</code> donc elle est accessible dans tout notre script. On peut même modifier cette variable dans notre fonction :</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> glob=<span class="string">"yaaaaaaaa"</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dire_yo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> loc = <span class="string">"yo"</span>;</span><br><span class="line">  glob= glob+<span class="string">"ouuuuuu"</span>;</span><br><span class="line">&#125;</span><br><span class="line">dire_yo();</span><br><span class="line">alert(glob);</span><br><span class="line"><span class="comment">// alertera : 'yaaaaaaaaouuuuuu'</span></span><br></pre></td></tr></table></figure>
<p>Ici on execute d’abord notre fonction, qui va ajouter <code>ouuuuuu</code> à la variable <code>glob</code> et du coup on aura une alerte <code>yaaaaaaaaouuuuuu</code>.</p>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://maximilienandile.github.io/2016/12/22/Javascript-que-sont-les-closures-et-comment-les-utiliser/" data-id="ck222plir000n5399ycj6ffv2" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
        <a href="http://maximilienandile.github.io/2016/12/22/Javascript-que-sont-les-closures-et-comment-les-utiliser/#disqus_thread" class="article-comment-link">
          <i class="fa fa-comment"></i> Comments
        </a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Javascript/">Javascript</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-Comment-utiliser-map-et-reduce-en-Javascript" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/12/19/Comment-utiliser-map-et-reduce-en-Javascript/">Comment utiliser map et reduce en Javascript</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/2016/12/19/Comment-utiliser-map-et-reduce-en-Javascript/" class="article-date"><time datetime="2016-12-19T14:40:00.000Z" itemprop="datePublished">19/12/2016</time></a>
</div>

    
    

  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p><code>Map</code> et <code>Reduce</code> sont deux méthodes qui sont apparues dans le cadre de ES5. Ces méthodes sont utilisables sur les tableaux (<code>Array</code>). Ces deux méthodes proviennent de la programmation fonctionnelle. Cette dernière m’étant encore assez obscure j’ai pour projet d’écrire un article plus détaillé.</p>
<h2 id="Map-transformer-des-tableaux-en-d’autres-tableaux"><a href="#Map-transformer-des-tableaux-en-d’autres-tableaux" class="headerlink" title="Map transformer des tableaux en d’autres tableaux"></a><code>Map</code> transformer des tableaux en d’autres tableaux</h2><p>L’objectif de map est d’<strong>itérer sur tous les éléments d’un tableau et de produire un autre tableaux avec un contenu transformé</strong></p>
<p>On peut par exemple imaginer un tableau de prénoms :<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// tableau (A)</span></span><br><span class="line"><span class="keyword">var</span> prenoms = [<span class="string">"Joe"</span>,<span class="string">"Patrick"</span>,<span class="string">"Thierry"</span>];</span><br></pre></td></tr></table></figure></p>
<p>On peut imaginer une transformation simple sur ce tableau : générer un tableau contenant les premières lettres de chaque élément.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> initials = prenoms.map(<span class="function"><span class="keyword">function</span>(<span class="params">prenom</span>)</span>&#123;<span class="keyword">return</span> prenom.charAt(<span class="number">0</span>);&#125;)</span><br></pre></td></tr></table></figure>
<p>Ici :</p>
<ul>
<li>On utilise la méthode <code>map</code> sur notre array <code>prenoms</code></li>
<li>La méthode <code>map</code> prends en entrée une fonction avec un seul paramètre qui contiendra un prénom de notre tableau <code>prenoms</code>(A)</li>
<li>Cette fonction doit retourner ce que l’on souhaite insérer dans notre nouveau tableau (B)</li>
</ul>
<h2 id="Reduce-iterer-sur-un-array-pour-produire-un-seul-et-unique-resultat"><a href="#Reduce-iterer-sur-un-array-pour-produire-un-seul-et-unique-resultat" class="headerlink" title="Reduce : itérer sur un array pour produire un seul et unique résultat"></a><code>Reduce</code> : itérer sur un array pour produire un seul et unique résultat</h2><p><code>Reduce</code> permet aussi d’itérer sur un <code>array</code> en revanche au lieu de produire systématiquement un tableau transformé, elle va renvoyer un unique résultat (qui peut être d’un autre type que l’Array…)</p>
<p>Nous allons prendre le même exemple. Nous partons d’un array de prénoms :</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// tableau (A)</span></span><br><span class="line"><span class="keyword">var</span> prenoms = [<span class="string">"Joe"</span>,<span class="string">"Pat"</span>,<span class="string">"Max"</span>];</span><br></pre></td></tr></table></figure>
<p>Notre objectif est de récupérer le nombre total de lettres de nos prénoms.</p>
<p>Vous me pardonnerez la stupidité de l’exemple.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> total_number_of_letters = prenoms.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">somme,prenom</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> somme + length;</span><br><span class="line">&#125;,<span class="number">0</span>);</span><br></pre></td></tr></table></figure>
<p>Ici :</p>
<ul>
<li>On applique la méthode <code>reduce</code> à l’array <code>prenoms</code>.</li>
<li>Cette méthode prends deux paramètres :</li>
</ul>
<ol>
<li>Une fonction (un itérateur)</li>
<li>La valeur d’initialisation du résultat renvoyé. Ici on initialise à <code>0</code>, car on veut la somme</li>
</ol>
<p>La fonction, premier paramètre de la méthode <code>reduce</code> prends elle même deux paramètres :</p>
<ul>
<li>La “valeur de retour de la réduction”. =&gt; ici la <code>somme</code></li>
<li>L’élément qui sera traité à chaque itération <code>prenom</code></li>
</ul>
<p>Nous partons donc ici d’un tableau et nous générons un entier représentant le nombre total de caractère de nos prénoms.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> total_number_of_letters = prenoms.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">somme,prenom</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> somme + length;</span><br><span class="line">&#125;,<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(total_number_of_letters);</span><br><span class="line"><span class="comment">// Affiche :  9 !</span></span><br></pre></td></tr></table></figure>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://maximilienandile.github.io/2016/12/19/Comment-utiliser-map-et-reduce-en-Javascript/" data-id="ck222plig00065399p0de1g31" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
        <a href="http://maximilienandile.github.io/2016/12/19/Comment-utiliser-map-et-reduce-en-Javascript/#disqus_thread" class="article-comment-link">
          <i class="fa fa-comment"></i> Comments
        </a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Javascript/">Javascript</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-ES6-les-principales-features-a-connaitre" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/12/18/ES6-les-principales-features-a-connaitre/">ES6 : les principales features à connaître</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/2016/12/18/ES6-les-principales-features-a-connaitre/" class="article-date"><time datetime="2016-12-18T21:44:29.000Z" itemprop="datePublished">18/12/2016</time></a>
</div>

    
    

  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p><code>ES6</code> ou <code>ECMA Script 6</code> est un ensemble de normes ou standards de programmation. La version 6 de ce standard est sortie en 2015.</p>
<h2 id="Les-constantes"><a href="#Les-constantes" class="headerlink" title="Les constantes"></a>Les constantes</h2><p>Il n’était possible de définir une constante avec ES5, qu’en passant par la création d’objets. Il fallait donc créer une propriété d’un objet et spécifier que cette propriété n’était ni <code>writable</code> ni <code>configurable</code></p>
<p>Avec ES6 il suffit d’écrire :</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> OMEGA = <span class="number">0.5671432904</span></span><br><span class="line"><span class="keyword">if</span>(OMEGA &gt; <span class="number">12</span>)&#123;</span><br><span class="line">  <span class="comment">// do stuff</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Il peut être intéressant d’utiliser les constantes au lieu de <code>var</code> afin de signaler qu’il n’y aura pas de réassignement.</p>
<h2 id="Les-variables-block-scoped"><a href="#Les-variables-block-scoped" class="headerlink" title="Les variables block-scoped"></a>Les variables <code>block-scoped</code></h2><p>La notion de <code>scope</code> est très importante en JS.</p>
<p>Une variable peut avoir une portée :</p>
<ul>
<li>Globale</li>
<li>Locale</li>
</ul>
<p>Une variable globale est modifiable dans l’ensemble du programme, elle est définie en dehors de toute fonction. Une variable locale quant à elle n’existe que dans le cadre de l’exécution de la fonction. Elle est créée lors de l’exécution de la fonction. Elle est ensuite détruite à la fin de l’exécution.</p>
<p>ES6 apporte une nouveauté intéressante en créant des variables dont la portée est limitée à un bloc :</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> i</span><br><span class="line"><span class="keyword">if</span> (PI&gt;<span class="number">5</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> gamma = <span class="number">20</span>*<span class="number">3</span>;</span><br><span class="line">  i = gamma * gamma;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Ici :</p>
<ul>
<li><code>i</code> est une variable ayant un scope <strong>globale</strong></li>
<li><code>gamma</code> est une variable ayant un scope de <strong>bloc</strong></li>
</ul>
<h2 id="Le-Hoisting"><a href="#Le-Hoisting" class="headerlink" title="Le Hoisting"></a>Le Hoisting</h2><p>Je fais un micro-passage ici par la notion de <code>Hoisting</code> en Javascript. Car cette notion est intéressante.</p>
<p>La règle est qu’<strong>on peut se servir d’une variable et la déclarer a posteriori dans le code.</strong>.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">b= <span class="number">32</span>;</span><br><span class="line"></span><br><span class="line">c= b+<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b;</span><br><span class="line"><span class="keyword">var</span> c;</span><br></pre></td></tr></table></figure>
<p>Ce code est fonctionnel. Car le moteur va passer en revue le code une première fois pour procéder aux déclarations. En revanche si on utilise le mode <code>strict</code> on ne peut utiliser ce genre de chose !</p>
<h2 id="Les-Arrow-Functions-ou-fonctions-flechees"><a href="#Les-Arrow-Functions-ou-fonctions-flechees" class="headerlink" title="Les Arrow Functions ou fonctions fléchées"></a>Les <code>Arrow Functions</code> ou <code>fonctions fléchées</code></h2><p>On connait trop bien la manière de déclarer des fonctions anonymes. Cette méthode de déclaration est assez longue :</p>
<p>Voici l’ancienne méthode :</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">odds  = evens.map(<span class="function"><span class="keyword">function</span> (<span class="params">v</span>) </span>&#123; <span class="keyword">return</span> v + <span class="number">1</span>; &#125;);</span><br></pre></td></tr></table></figure>
<p>La nouvelle version <code>ES6</code><br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">odds  = evens.map(<span class="function"><span class="params">v</span> =&gt;</span> v + <span class="number">1</span>);</span><br><span class="line"><span class="comment">// OU encore</span></span><br><span class="line">(a,b) =&gt; a+b</span><br><span class="line"><span class="comment">// équivalent à</span></span><br><span class="line">(a,b) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> a+b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// on peut aussi des fonctions sans paramètres de cette manière</span></span><br><span class="line">() =&gt; &#123; instructions &#125;</span><br><span class="line">_  =&gt; &#123; instructions &#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="Les-templates-et-les-chaines-de-caracteres"><a href="#Les-templates-et-les-chaines-de-caracteres" class="headerlink" title="Les templates et les chaînes de caractères"></a>Les templates et les chaînes de caractères</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> amount = <span class="string">"150 $"</span></span><br><span class="line"><span class="keyword">let</span> due_date = <span class="string">"15th April"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> sentence = <span class="string">"You owe me $&#123;amount&#125; , the due date is $&#123;due_date&#125;"</span></span><br></pre></td></tr></table></figure>
<h2 id="Les-parametres-par-defaut"><a href="#Les-parametres-par-defaut" class="headerlink" title="Les paramètres par défaut"></a>Les paramètres par défaut</h2><p>Alors qu’il fallait utiliser des techniques un peu moches pour déterminer si un paramètre était renseigné :</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Réassignation de x</span></span><br><span class="line"><span class="comment">// il vaut 0 si x n'est pas un nombre...</span></span><br><span class="line"><span class="keyword">var</span> x = <span class="keyword">typeof</span>(x) === <span class="string">"number"</span> ? x : <span class="number">0</span>;</span><br></pre></td></tr></table></figure>
<p>On peut maintenant définir les paramètres ainsi :</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> addition = <span class="function"><span class="keyword">function</span> (<span class="params">a=<span class="number">0</span>,b=<span class="number">0</span></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a+b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Boucles-for-of-foreach"><a href="#Boucles-for-of-foreach" class="headerlink" title="Boucles for of (foreach)"></a>Boucles <code>for of</code> (foreach)</h2><p>Houra voilà le foreach en JS :</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> students = [<span class="string">"Joe"</span>,<span class="string">"Donald"</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> student <span class="keyword">of</span> students)&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(student);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Les-strings-multi-lignes"><a href="#Les-strings-multi-lignes" class="headerlink" title="Les strings multi-lignes"></a>Les strings multi-lignes</h2><p>On peut maintenant déclarer une chaîne sur plusieurs lignes grâce au symbole backtish :</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vh = <span class="string">`Mon père, ce héros au sourire si doux,</span></span><br><span class="line"><span class="string">Suivi d'un seul housard qu'il aimait entre tous</span></span><br><span class="line"><span class="string">Pour sa grande bravoure et pour sa haute taille,</span></span><br><span class="line"><span class="string">Parcourait à cheval, le soir d'une bataille,`</span></span><br></pre></td></tr></table></figure>
<h2 id="Les-assignements-destructures"><a href="#Les-assignements-destructures" class="headerlink" title="Les assignements déstructurés"></a>Les assignements déstructurés</h2><p>Avec ES5 on doit faire :</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> body = req.body,</span><br><span class="line">  username = body.username,</span><br><span class="line">  password = body.password</span><br></pre></td></tr></table></figure>
<p>Avec ES6 on fera :</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> &#123;username, password&#125; = req.body</span><br></pre></td></tr></table></figure>
<h2 id="Les-promesses"><a href="#Les-promesses" class="headerlink" title="Les promesses"></a>Les promesses</h2><p>L’utilisation est désormais native.</p>
<h2 id="Les-classes"><a href="#Les-classes" class="headerlink" title="Les classes"></a>Les classes</h2><p>Le grand changement est l’introduction des classes :</p>
<h3 id="Declaration"><a href="#Declaration" class="headerlink" title="Déclaration"></a>Déclaration</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Human</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">constructor</span>(sex,age)&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>.sex=sex;</span><br><span class="line">    <span class="keyword">this</span>.age=age;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  speak(string)&#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Heritage"><a href="#Heritage" class="headerlink" title="Héritage"></a>Héritage</h3><p>On peut faire hériter une classe d’une autre classe via le mot clé <code>extends</code>.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Teacher</span> <span class="keyword">extends</span> <span class="title">Human</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span> (sex, age, speciality) &#123;</span><br><span class="line">        <span class="keyword">super</span>(sex,age)</span><br><span class="line">        <span class="keyword">this</span>.speciality  = speciality</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">extends</span> <span class="title">Human</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span> (sex, age, major) &#123;</span><br><span class="line">        <span class="keyword">super</span>(sex,age)</span><br><span class="line">        <span class="keyword">this</span>.major  = major</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Acces-aux-methodes-de-la-classe-de-base"><a href="#Acces-aux-methodes-de-la-classe-de-base" class="headerlink" title="Accès aux méthodes de la classe de base"></a>Accès aux méthodes de la classe de base</h3><p>Pour accéder aux méthodes et propriétés définies dans la classe de base on utilise <code>super</code>.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Rectangle</span> <span class="keyword">extends</span> <span class="title">Shape</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span> (id, x, y, width, height) &#123;</span><br><span class="line">        <span class="keyword">super</span>(id, x, y)</span><br><span class="line">        …</span><br><span class="line">    &#125;</span><br><span class="line">    toString () &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Rectangle &gt; "</span> + <span class="keyword">super</span>.toString()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// source : http://es6-features.org/#BaseClassAccess</span></span><br></pre></td></tr></table></figure>
<p><code>super.toString()</code> appelle la méthode <code>toString()</code> définie dans la classe Shape.</p>
<h4 id="Getters-et-Setters"><a href="#Getters-et-Setters" class="headerlink" title="Getters et Setters"></a>Getters et Setters</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">extends</span> <span class="title">Human</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span> (sex, age, major) &#123;</span><br><span class="line">        <span class="keyword">super</span>(sex,age)</span><br><span class="line">        <span class="keyword">this</span>.major  = major</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    get major()&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>.major</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> paul = <span class="keyword">new</span> Student(<span class="string">"Male"</span>,<span class="number">20</span>,<span class="string">"CS"</span>);</span><br><span class="line"><span class="keyword">if</span>(paul.major==<span class="string">"CS"</span>)&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Modularisation-la-syntaxe-export-et-import"><a href="#Modularisation-la-syntaxe-export-et-import" class="headerlink" title="Modularisation: la syntaxe export et import"></a>Modularisation: la syntaxe export et import</h2><p>Dans un module on peut utiliser la syntaxe <code>export</code>:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">var</span> standard_price = <span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">get_other_prices</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Puis dans le fichier principal on peut importer variables et méthodes :</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;standard_price,get_other_prices&#125; <span class="keyword">from</span> <span class="string">'module'</span></span><br></pre></td></tr></table></figure>
<p>On peut aussi tout importer :<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> my_module <span class="keyword">from</span> <span class="string">'module'</span></span><br><span class="line"><span class="built_in">console</span>.log(my_module.standard_price);</span><br></pre></td></tr></table></figure></p>
<h2 id="Comment-utiliser-ES6"><a href="#Comment-utiliser-ES6" class="headerlink" title="Comment utiliser ES6."></a>Comment utiliser ES6.</h2><ul>
<li>N’étant pas supporté encore par tous les navigateurs il faudra utiliser un compilateur comme <code>Babel</code> qui se chargera de traduire votre code avec une syntaxe supportée.</li>
<li>Avec NodeJS les principales features sont supportées par les nouvelles versions.</li>
</ul>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://maximilienandile.github.io/2016/12/18/ES6-les-principales-features-a-connaitre/" data-id="ck222plij000a53997ulip35w" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
        <a href="http://maximilienandile.github.io/2016/12/18/ES6-les-principales-features-a-connaitre/#disqus_thread" class="article-comment-link">
          <i class="fa fa-comment"></i> Comments
        </a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Javascript/">Javascript</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-l-ADN-une-nouvelle-source-de-stockage-de-donnees-durable" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/12/18/l-ADN-une-nouvelle-source-de-stockage-de-donnees-durable/">ADN : une nouvelle source de stockage de données durable</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/2016/12/18/l-ADN-une-nouvelle-source-de-stockage-de-donnees-durable/" class="article-date"><time datetime="2016-12-18T17:18:59.000Z" itemprop="datePublished">18/12/2016</time></a>
</div>

    
    

  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p>Les sources de stockage actuelles sont paradoxalement moins durables plus le temps avance. Par exemple une écriture gravée sur la pierre se conserve en moyenne 10.000 ans, une écriture sur parchemin se conserve 1.000 ans. Un DVD conserve les données au maximum une dizaine d’années. Un disque dur est rarement garanti par le fabricant plus de 5 années, tant il est fragile.</p>
<p>La solution pour un stockage durable de l’information serait la réplication multiple. Dès qu’un support de stockage atteint la fin de sa vie, on copie la donnée sur un support similaire. Cette solution est écologiquement problématique. C’est sans compté sur les erreurs de copies qui peuvent compromettre les informations stockées.</p>
<p>Je suis passé par hasard sur un papier de recherche sur le stockage de l’information sur le support ADN ! Incroyable me suis-je dit. Essayons de comprendre le mécanisme…</p>
<p>Pour les curieux voici le papier : (<a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3672958/" target="_blank" rel="noopener">https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3672958/</a>). Publié dans <strong>Nature</strong> en 2013.</p>
<h2 id="Avantages-du-stockage-de-l’information-sur-les-brins-d’ADN"><a href="#Avantages-du-stockage-de-l’information-sur-les-brins-d’ADN" class="headerlink" title="Avantages du stockage de l’information sur les brins d’ADN"></a>Avantages du stockage de l’information sur les brins d’ADN</h2><ul>
<li>La capacité de stockage est très importante, on peut stocker sur un volume très faible un volume important de données</li>
<li>Les brins d’ADN peuvent se conserver longtemps.</li>
</ul>
<h2 id="Methodes-de-transcription-de-l’information"><a href="#Methodes-de-transcription-de-l’information" class="headerlink" title="Méthodes de transcription de l’information."></a>Méthodes de transcription de l’information.</h2><p>Les résultats de l’équipe de recherche sont très intéressant puisqu’ils ont réussi à encoder 739kB de données dans un brin d’ADN synthétique puis ont réussi à re-décrypter les fragments de data sans aucune erreur ni compromission.</p>
<h3 id="Etape-1-Encodage-de-la-donnees-en-Base-3-Huffman"><a href="#Etape-1-Encodage-de-la-donnees-en-Base-3-Huffman" class="headerlink" title="Etape 1 : Encodage de la données en Base 3 Huffman"></a>Etape 1 : Encodage de la données en Base 3 Huffman</h3><p>Le codage de Huffman part du principe que plus un caractère est utilisé moins son encodage sera large. Les caractères les plus utilisés de la source de données tiendront donc moins de place ! C’est un avantage très intéressant pour stocker de large volume de textes.</p>
<p>Dans le cadre de l’expérimentation chaque byte est encodé avec 5 ou 6 caractères base 3 (appelés <code>trits</code>).</p>
<p>Les trits peuvent être égaux à 0,1 ou 2.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Chaine originale</span></span><br><span class="line"><span class="string">"Thou"</span></span><br><span class="line"><span class="comment">// Base-3 Huffman</span></span><br><span class="line"><span class="string">"20112202000211010002"</span></span><br></pre></td></tr></table></figure>
<p>Ainsi <code>T</code> est encodé sous la forme <code>20112</code> , <code>h</code> sous la forme <code>20200</code></p>
<h2 id="Etape-2-conversion-des-trits-en-nucleotides"><a href="#Etape-2-conversion-des-trits-en-nucleotides" class="headerlink" title="Etape 2 : conversion des trits en nucléotides"></a>Etape 2 : conversion des <code>trits</code> en <code>nucléotides</code></h2><p>Chaque lettre est donc convertie en <code>trits</code>. On va ensuite prendre chaque <code>trit</code> est le traduire par un nucléotide.</p>
<p>Les <code>nucléotides</code> sont l’unité de base de la construction de l’ADN. Il existe 4 nucléotides différents : l’adénine (A), la guanine (G), la thymine (T) et la cytosine (C).</p>
<p>On va donc remplacer chaque trit par un nucléotide différent de celui qui le précède si il y a répétition.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Chaine originale</span></span><br><span class="line"><span class="string">"T"</span></span><br><span class="line"><span class="comment">// Base-3 Huffman</span></span><br><span class="line"><span class="string">"20112"</span></span><br><span class="line"><span class="comment">// ADN</span></span><br><span class="line"><span class="string">"TAGAT"</span></span><br></pre></td></tr></table></figure>
<p>On souhaite en effet éviter les répétitions de nucléotides. pour éviter de former ce que l’on nomme en chimie des <code>homopolymères</code>.</p>
<h2 id="Etape-3-Generation-des-fragments-d’ADN-avec-overlap"><a href="#Etape-3-Generation-des-fragments-d’ADN-avec-overlap" class="headerlink" title="Etape 3 : Génération des fragments d’ADN avec overlap."></a>Etape 3 : Génération des fragments d’ADN avec overlap.</h2><p>L’équipe a ensuite procédé à la génération de multiples fragments d’ADN contenant 100 bases chacun, avec un overlap de 75 bases à chaque fois.</p>
<p>Cette méthode permettant d’avoir une donnée redondante pour éviter les pertes de données en cas de problèmes de conservation.</p>
<p>Dans chaque fragment on ajoute des données d’indexation du fragment afin de savoir où ce dernier se situe dans la chaîne complète :</p>
<p><img src="/images/dna.png" alt="Stockage ADN et indexing"></p>
<h2 id="Perspectives"><a href="#Perspectives" class="headerlink" title="Perspectives :"></a>Perspectives :</h2><ul>
<li>Le stockage reste encore très cher car il nécessite une équipe importante et du matériel haut de gamme…</li>
<li>12,400 dollars/MB pour le stockage et 220 dollars/MB pour le décodage !</li>
<li>Les coûts toutefois sont amenés à se réduire drastiquement (l’équipe envisage un rapport de 100 par rapport aux coûts actuels)</li>
<li>Le volume de stockage est très important comparé à la taille du réceptacle !</li>
</ul>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://maximilienandile.github.io/2016/12/18/l-ADN-une-nouvelle-source-de-stockage-de-donnees-durable/" data-id="ck222pliw000x539905luaibm" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
        <a href="http://maximilienandile.github.io/2016/12/18/l-ADN-une-nouvelle-source-de-stockage-de-donnees-durable/#disqus_thread" class="article-comment-link">
          <i class="fa fa-comment"></i> Comments
        </a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Recherche/">Recherche</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-Comment-creer-un-script-shell-permettant-de-recuperer-et-d-analyser-des-articles-wikipedia-avec-lynx" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/11/02/Comment-creer-un-script-shell-permettant-de-recuperer-et-d-analyser-des-articles-wikipedia-avec-lynx/">Comment créer un script shell permettant de récupérer et d&#39;analyser des articles wikipedia avec lynx</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/2016/11/02/Comment-creer-un-script-shell-permettant-de-recuperer-et-d-analyser-des-articles-wikipedia-avec-lynx/" class="article-date"><time datetime="2016-11-02T10:15:24.000Z" itemprop="datePublished">02/11/2016</time></a>
</div>

    
    

  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Qu’est-ce-qu’un-script-shell"><a href="#Qu’est-ce-qu’un-script-shell" class="headerlink" title="Qu’est ce qu’un script shell"></a>Qu’est ce qu’un script shell</h2><p>Un script “shell” est un programme écrit pour être exécuté via l’interpréteur de commande UNIX. Ces scripts sont facile à générer et suivent les patterns des langages de programmation communs. Ainsi on a la possibilité de créer des boucles et des structures conditionnelles par exemple.</p>
<p>Un script shell est dans les fait un fichier avec l’extension <strong>sh</strong>. On l’exécute en ouvrant <strong>cmd</strong> sous windows, ou le <strong>terminal</strong> sur macOS. La commande permettant d’executer un script shell est la suivante:<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> sh name_of_the_script.sh</span><br></pre></td></tr></table></figure></p>
<p>NB : Par habitude on rajoute un sigle dollar devant la commande. Il s’agit juste d’une convention permettant d’indiquer au lecteur que cette commande doit être exécutée dans le terminal.</p>
<h2 id="Iterer-sur-les-lignes-d’un-fichier-via-shell"><a href="#Iterer-sur-les-lignes-d’un-fichier-via-shell" class="headerlink" title="Itérer sur les lignes d’un fichier via shell"></a>Itérer sur les lignes d’un fichier via shell</h2><p>Afin de lire les lignes d’un fichier les unes des autres on peut utiliser la structure <code>for</code>. <code>For</code> indique à l’algorithme qu’il faut itérer pour chaque élément d’un input (ici l’ensemble des lignes de notre fichier) :</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">location_of_the_url_file = "./urls.txt"</span><br><span class="line">for url in `cat  $location_of_the_url_file `</span><br><span class="line">&#123;</span><br><span class="line">  echo $url</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Dans un premier lieu on déclare la variable <code>location_of_the_url_file</code> qui stocke l’emplacement de notre fichier relativement à notre dossier de travail.</p>
<p>Dans un second temps on va récupérer l’ensemble des lignes de notre fichier via la commande :<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">`cat $location_of_the_url_file`</span><br></pre></td></tr></table></figure></p>
<h2 id="Recuperer-le-contenu-d’une-page-web-via-wget"><a href="#Recuperer-le-contenu-d’une-page-web-via-wget" class="headerlink" title="Récupérer le contenu d’une page web via wget"></a>Récupérer le contenu d’une page web via <code>wget</code></h2><p><code>wget</code> est un outil de téléchargement très puissant. On peut donc l’utiliser pour télécharger le contenu d’une page web directement depuis le terminal. Il faut d’abord bien s’assurer de l’avoir installer sur sa machine.</p>
<p>Si ce n’est pas le cas on peut utiliser la commande <code>brew install wget</code>. Homebrew est un gestionnaire de dépendance très pratique qui permet des installations rapides. Pour plus d’information voici la page : <a href="http://brew.sh/index_fr.html" target="_blank" rel="noopener">http://brew.sh/index_fr.html</a></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -O ./pages/wiki.html $url</span><br></pre></td></tr></table></figure>
<p>La commande suivante permet de télécharger la page dont l’url est <code>$url</code> et de stocker cette dernière dans le dossier pages sous le nom <code>wiki.html</code>. Le téléchargement dans un répertoire cible est géré par la commande <code>-O</code>.</p>
<h2 id="Creer-un-dump-en-format-plain-text-de-notre-page-html-grace-a-lynx"><a href="#Creer-un-dump-en-format-plain-text-de-notre-page-html-grace-a-lynx" class="headerlink" title="Créer un dump en format plain text de notre page html grâce à lynx"></a>Créer un dump en format plain text de notre page html grâce à lynx</h2><p>Lynx est un outil permettant la manipulation de pages HTML. Il s’agit en fait d’un navigateur en mode ligne de commande. Une sorte de chrome version simplifiée.</p>
<p>Pour accéder à google depuis votre terminal :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lynx http://www.google.fr</span><br></pre></td></tr></table></figure>
<p><img src="/images/google_version_lynx.png" alt="Google en version Lynx"></p>
<p> On peut donc produire une version <code>.txt</code> de notre page</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lynx -dump $url &gt;./plain_text/page_version_txt.txt</span><br></pre></td></tr></table></figure>
<p>Cette version txt de nos pages web nous permettra de nous livrer à des analyses de type “NLP” (Natural Language Processing). Nous traiterons plus en détail cet aspect dans un prochain billet.</p>
<p>Voici le code complet du programme : <a href="https://github.com/maximilienandile/shell_web_page_to_plain_text" target="_blank" rel="noopener">https://github.com/maximilienandile/shell_web_page_to_plain_text</a></p>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://maximilienandile.github.io/2016/11/02/Comment-creer-un-script-shell-permettant-de-recuperer-et-d-analyser-des-articles-wikipedia-avec-lynx/" data-id="ck222plib00025399sivju0ke" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
        <a href="http://maximilienandile.github.io/2016/11/02/Comment-creer-un-script-shell-permettant-de-recuperer-et-d-analyser-des-articles-wikipedia-avec-lynx/#disqus_thread" class="article-comment-link">
          <i class="fa fa-comment"></i> Comments
        </a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/NLP/">NLP</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-Machine-Learning-classification-a-l-aide-des-arbres-de-decisions-fonctionnement-et-application-en-NodeJS" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/10/17/Machine-Learning-classification-a-l-aide-des-arbres-de-decisions-fonctionnement-et-application-en-NodeJS/">Machine Learning : classification à l&#39;aide des arbres de décisions : fonctionnement et application en NodeJS</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/2016/10/17/Machine-Learning-classification-a-l-aide-des-arbres-de-decisions-fonctionnement-et-application-en-NodeJS/" class="article-date"><time datetime="2016-10-17T16:39:24.000Z" itemprop="datePublished">17/10/2016</time></a>
</div>

    
    

  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Qu’est-ce-qu’un-arbre-de-decisions"><a href="#Qu’est-ce-qu’un-arbre-de-decisions" class="headerlink" title="Qu’est ce qu’un arbre de décisions"></a>Qu’est ce qu’un arbre de décisions</h2><p>Un arbre de décision est une représentation visuelle d’un algorithme de classification de données suivant différents critères qu’on appellera décisions (ou noeuds). Voici un exemple :</p>
<p><img src="/images/arbre_de_decision.png" alt="Exemple d&#39;un arbre de décision pour l&#39;accord d&#39;un prêt"></p>
<p>Cet arbre de décision permet en fonction de <strong>quelques questions de déterminer si une banque doit prêter ou pas au client</strong> qui demande un prêt. Ce dernier est très simplifié mais la plupart des banques utilisent des systèmes similaires permettant aux agents une prise de décision experte.</p>
<p>Mais comment arrive t’on à de telles règles de décisions. Dans les faits il s’agit de synthétiser la connaissance et l’historique de l’ensemble des prêts accordés par la banque et de classer chacun de ces prêts selon qu’ils aient été remboursés sans incident ou pas. <strong>Il s’agit donc de trouver dans une énorme quantité de données les questions qu’il est judicieux de poser afin de prédire la qualité d’un emprunteur.</strong></p>
<h2 id="Vocabulaire"><a href="#Vocabulaire" class="headerlink" title="Vocabulaire"></a>Vocabulaire</h2><p>Nous allons détailler la construction d’un tel arbre de décision. Posons d’abord quelques mots de vocabulaire. On va classer des objets.</p>
<ul>
<li>Chaque objet de la données historique (set d’entraînement) dispose d’une <strong>classe</strong> bien définie</li>
<li>Chaque objet (par exemple un prêt accordé à monsieur X) dispose de <strong>features</strong>, de propriétés bien définies elles aussi. Par exemple : la personne a qui on a accordé le prêt possédait-elle une maison, possédait elle un CDI ?</li>
<li>Chaque <strong>propriété</strong> ou <strong>feature</strong> a un ensemble de valeurs possibles. Par exemple (‘oui’ ou ‘non’)</li>
</ul>
<p>Dans notre graphique représentant l’arbre de décision on a les éléments suivants :</p>
<ul>
<li>Un noeud de décision (représenté par un rectangle) (on pose une question)</li>
<li>Un <strong>bloc de fin</strong> qui est représenté par un oval. (on a trouvé la classe)</li>
</ul>
<p><img src="/images/arbre_de_decision_vocabulaire.png" alt="Vocabulaire de l&#39;arbre de décision"></p>
<h2 id="Fonctionnement-de-l’algorithme-un-exemple"><a href="#Fonctionnement-de-l’algorithme-un-exemple" class="headerlink" title="Fonctionnement de l’algorithme : un exemple"></a>Fonctionnement de l’algorithme : un exemple</h2><p>Dans les faits on aura en entrée de notre algorithme une série de données qui représentera de nombreux <strong>objets</strong> (ici des prêts) ayant chacun un set de <strong>propriétés</strong> (ici : CDI oui ou Non, Locataire oui ou non …). Ces objets du set d’entrainement seront déjà <strong>classés</strong> (ex: Bon Emprunteur).Par exemple :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Prêt 1 : CDI : 1 - Locataire : 1 - Classe : Bon emprunteur</span><br><span class="line">Prêt 2 : CDI : 0 - Locataire : 0 - Classe : Bon emprunteur</span><br><span class="line">Prêt 3 : CDI : 1 - Locataire : 1 - Classe : Bon emprunteur</span><br><span class="line">Prêt 4 : CDI : 0 - Locataire : 0 - Classe : Mauvais emprunteur</span><br><span class="line">Prêt 5 : CDI : 1 - Locataire : 1 - Classe : Bon emprunteur</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>Notre algorithme va donc devoir choisir une première question à poser à notre candidat. Pour cela il doit choisir la <strong>feature</strong> (ou propriété) qui permet de découper nos prêts en <strong>deux sets les plus homogènes possibles</strong>, c’est à dire deux sets regroupant des prêts dont les emprunteurs sont en grande partie d’une même catégorie.</p>
<p>Par exemple l’algorithme va tester la <strong>feature CDI</strong> et va ensuite répartir les prêts dans deux set : les prêts fait par des personnes en CDI et les autres. Si dans un des set on trouve que des prêts ayant la même classe alors <strong>l’algorithme s’arrêtera pour cette branche</strong>. Par exemple si on constate que tous les gens qui n’ont pas de CDI sont des mauvais emprunteurs alors on peut s’arrêter là et dire à nos agents de ne plus prêter aux gens sans CDI.</p>
<p>Si on a pas obtenu un set composé de prêts qui ont la même classe après ce premier split, on va ensuite refaire le même travail pour les features suivantes. Nous allons sélectionner la feature permettant un classement le plus homogène possible… <strong>Ce processus est mené jusqu’à ce qu’o obtiennent des classes homogènes.</strong></p>
<h2 id="Overfitting-et-extraction-de-sens"><a href="#Overfitting-et-extraction-de-sens" class="headerlink" title="Overfitting et extraction de sens"></a>Overfitting et extraction de sens</h2><p>Cet algorithme est peu gourmand en mémoire. Mais il y a un risque très important d’<strong>overfitting</strong>, c’est à dire que l’arbre n’est pas utilisable car il fournit des résultats très bon pour le set d’entraînement, mais utilisé en conditions réelles il classe très mal les nouveaux exemples. Pour cela on peut envisager d’avoir couper notre set d’entrainement en deux afin d’avoir un set de données permettant de valider si il y a <strong>overfitting</strong> ou pas.</p>
<p>Cet algorithme est <strong>très intéressant pour extraire de l’information d’une source de données obscure</strong>. Il permet d’<strong>isoler les propriétés</strong> ou features qui apportent le plus d’information pour <strong>déterminer la classe de chaque objet</strong>.</p>
<h2 id="Application-en-NodeJS"><a href="#Application-en-NodeJS" class="headerlink" title="Application en NodeJS"></a>Application en NodeJS</h2><h3 id="Calcul-de-l’entropie-de-Shannon"><a href="#Calcul-de-l’entropie-de-Shannon" class="headerlink" title="Calcul de l’entropie de Shannon"></a>Calcul de l’entropie de Shannon</h3><p>Dans le paragraphe précédent nous disions qu’il fallait trouver la feature générant des classes qui sont les plus homogènes possibles. Mais comment définir cette <strong>homogénéité</strong> ?</p>
<p>Nous allons utiliser un résultat important de la <strong>théorie mathématique de l’information</strong> : l’entropie. Et plus particulièrement l’entropie de <strong>Shannon</strong> :</p>
<center><br><span>$H=-\sum_{i=1}^{n} P(x_{i})log_{2}(P(x_{i}) )$</span><!-- Has MathJax --><br></center>

<p><strong>L’entropie correspond au désordre</strong>. Plus on a de classes différentes dans un set de données plus l’entropie sera grande. De manière opposée si dans un set de données tous les objets ont la même classe, il n’y aura <strong>pas de désordre l’entropie sera nulle</strong>.</p>
<p>Dans les faits on va calculer l’entropie de la manière suivante en NodeJS :</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> _ = <span class="built_in">require</span>(<span class="string">'lodash'</span>);</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* This function is used to compute the Shannon Entropy</span></span><br><span class="line"><span class="comment">* @method calculate_shannon_entropy</span></span><br><span class="line"><span class="comment">* @param  &#123;Array&#125;                  data an array of data</span></span><br><span class="line"><span class="comment">* @return &#123;Number&#125;                       The Shannon Entropy</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">var</span> calculate_shannon_entropy=<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// init the shannon Entropy</span></span><br><span class="line">  <span class="keyword">var</span> shannon_entropy = <span class="number">0</span>;</span><br><span class="line">  <span class="comment">// we get the number of entries in the array</span></span><br><span class="line">  <span class="keyword">var</span> length_of_data = data.length;</span><br><span class="line">  <span class="comment">// create an empty array to keep track of different labels</span></span><br><span class="line">  <span class="keyword">var</span> labels_counter = &#123;&#125;</span><br><span class="line">  <span class="comment">// we iterate through the array</span></span><br><span class="line">  _.forEach(data, <span class="function"><span class="keyword">function</span>(<span class="params">value, key</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// extract the label from the one data element</span></span><br><span class="line">    <span class="keyword">var</span> label_extracted = value.label;</span><br><span class="line">    <span class="comment">// check if this label is inside our label counter array</span></span><br><span class="line">    <span class="keyword">if</span> (label_extracted <span class="keyword">in</span> labels_counter)&#123;</span><br><span class="line">      <span class="comment">// the element is inside our object increment its value</span></span><br><span class="line">      labels_counter[label_extracted] +=<span class="number">1</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      labels_counter[label_extracted] = <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// We then iterate through our label counter object</span></span><br><span class="line">  _.forEach(labels_counter, <span class="function"><span class="keyword">function</span>(<span class="params">value, key</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// we get the frequency of the number of time a label occurs</span></span><br><span class="line">    <span class="keyword">var</span> p = <span class="built_in">parseFloat</span>(value/length_of_data)</span><br><span class="line">    <span class="comment">// Caculate the entropy of a class and add it to the shannon_entropy variable</span></span><br><span class="line">    shannon_entropy -= p * getBaseLog(<span class="number">2</span>,p)</span><br><span class="line"></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> shannon_entropy</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* This function return the log of Y in base X</span></span><br><span class="line"><span class="comment">* @method getBaseLog</span></span><br><span class="line"><span class="comment">* @param  &#123;Number&#125;   x base</span></span><br><span class="line"><span class="comment">* @param  &#123;Number&#125;   y number</span></span><br><span class="line"><span class="comment">* @return &#123;Number&#125;     the log of Y in base X</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">var</span> getBaseLog=<span class="function"><span class="keyword">function</span>(<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Math</span>.log(y) / <span class="built_in">Math</span>.log(x);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = [</span><br><span class="line">  &#123;<span class="string">"has_a_car"</span>:<span class="number">1</span>, <span class="string">"has_a_house"</span>:<span class="number">1</span>, <span class="string">"has_children"</span>:<span class="number">1</span>,<span class="string">"label"</span>:<span class="string">"bon_emprunteur"</span>&#125;,</span><br><span class="line">  &#123;<span class="string">"has_a_car"</span>:<span class="number">1</span>, <span class="string">"has_a_house"</span>:<span class="number">1</span>, <span class="string">"has_children"</span>:<span class="number">0</span>,<span class="string">"label"</span>:<span class="string">"bon_emprunteur"</span>&#125;,</span><br><span class="line">  &#123;<span class="string">"has_a_car"</span>:<span class="number">1</span>, <span class="string">"has_a_house"</span>:<span class="number">0</span>, <span class="string">"has_children"</span>:<span class="number">1</span>,<span class="string">"label"</span>:<span class="string">"bon_emprunteur"</span>&#125;,</span><br><span class="line">  &#123;<span class="string">"has_a_car"</span>:<span class="number">0</span>, <span class="string">"has_a_house"</span>:<span class="number">0</span>, <span class="string">"has_children"</span>:<span class="number">0</span>,<span class="string">"label"</span>:<span class="string">"mauvais_emprunteur"</span>&#125;,</span><br><span class="line">  &#123;<span class="string">"has_a_car"</span>:<span class="number">0</span>, <span class="string">"has_a_house"</span>:<span class="number">0</span>, <span class="string">"has_children"</span>:<span class="number">1</span>,<span class="string">"label"</span>:<span class="string">"mauvais_emprunteur"</span>&#125;</span><br><span class="line">]</span><br><span class="line">calculate_shannon_entropy(a)</span><br><span class="line"><span class="comment">// returns 0.9709505944546686</span></span><br></pre></td></tr></table></figure>
<p>On prend donc la fréquence d’apparition de la classe <code>bon_emprunteur</code> et son log en base 2 auquel on va ajouter moins la fréquence d’apparition de la classe <code>mauvais_emprunteur</code> et son log en base 2 !</p>
<p>Il va falloir ensuite que l’on puisse éliminer des features au fur et à mesure que l’on split notre données au fil des blocs de décision. C’est l’objet de la partie suivante :</p>
<h3 id="Creation-de-la-fonction-permettant-de-partitionner-un-set-de-donnees-en-fonction-d’une-feature-et-de-sa-valeur"><a href="#Creation-de-la-fonction-permettant-de-partitionner-un-set-de-donnees-en-fonction-d’une-feature-et-de-sa-valeur" class="headerlink" title="Création de la fonction permettant de partitionner un set de données en fonction d’une feature et de sa valeur"></a>Création de la fonction permettant de partitionner un set de données en fonction d’une feature et de sa valeur</h3><p>Notre mission ensuite est de préparer la fonction qui permet à partir d’un set de données d’entrainement de récupérer un set plus petit ne contenant plus que les objets disposant de cette feature dont la valeur est égale à une des valeurs possibles de la feature.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* This function split our dataset and extract object that have the feature set to a specific value</span></span><br><span class="line"><span class="comment">* @method split_the_dataset_by_feature_and_value</span></span><br><span class="line"><span class="comment">* @param  &#123;Array of Object&#125;                               data    our dataset</span></span><br><span class="line"><span class="comment">* @param  &#123;String&#125;                               feature the name of the feature</span></span><br><span class="line"><span class="comment">* @param  &#123;String or Number&#125;                               value   the value of the feature to extract from the dataset</span></span><br><span class="line"><span class="comment">* @return  &#123;Array of Object&#125;                               value   the dataset without the objects that have the feature "feature" set to the value "value" &amp; without the feature "feature"</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">var</span> split_the_dataset_by_feature_and_value=<span class="function"><span class="keyword">function</span>(<span class="params">data_set,feature,value</span>)</span>&#123;</span><br><span class="line">  <span class="comment">// we partition our array in order to isolate in the data</span></span><br><span class="line">  <span class="comment">// Objects that have the `feature` set to the right value</span></span><br><span class="line">  <span class="keyword">var</span> data_set</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> array_partitioned = _.filter(data_set, <span class="function"><span class="keyword">function</span>(<span class="params">o</span>) </span>&#123; <span class="keyword">return</span> o[feature]==value; &#125;);</span><br><span class="line">  <span class="comment">// we then have to remove the feature from our objects</span></span><br><span class="line">  <span class="keyword">var</span> array_to_return = []</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  array_partitioned.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">v</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> new_object = &#123;&#125;</span><br><span class="line">    _.forEach(v, <span class="function"><span class="keyword">function</span>(<span class="params">value, key</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(key!==feature)&#123;</span><br><span class="line">          new_object[key]=value</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    array_to_return.push(new_object)</span><br><span class="line"></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> array_to_return</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">split_the_dataset_by_feature_and_value(a,<span class="string">"has_a_house"</span>,<span class="number">0</span>)</span><br><span class="line"><span class="comment">// returns</span></span><br><span class="line"><span class="comment">// [ &#123; has_a_car: 1, has_children: 1, label: 'bon_emprunteur' &#125;,</span></span><br><span class="line"><span class="comment">//  &#123; has_a_car: 0, has_children: 0, label: 'mauvais_emprunteur' &#125;,</span></span><br><span class="line"><span class="comment">//  &#123; has_a_car: 0, has_children: 1, label: 'mauvais_emprunteur' &#125; ]</span></span><br></pre></td></tr></table></figure>
<p>Par exemple ici nous nous débarassons des objets dans notre set de données dont la feature <code>has_a_house</code> est différent de 0.</p>
<p>Maintenant attaquons nous au coeur du réacteur : nous devons trouver la meilleur feature, autrement dit celle qui génère le moins d’entropie (on parle aussi de <strong>gain informationnel maximal</strong>)…</p>
<h3 id="Determiner-la-feature-dans-un-set-de-donnees-generant-un-gain-informationnel-maximal"><a href="#Determiner-la-feature-dans-un-set-de-donnees-generant-un-gain-informationnel-maximal" class="headerlink" title="Déterminer la feature dans un set de données générant un gain informationnel maximal"></a>Déterminer la feature dans un set de données générant un gain informationnel maximal</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> _ = <span class="built_in">require</span>(<span class="string">'lodash'</span>);</span><br><span class="line"><span class="keyword">var</span> data_set_splitter = <span class="built_in">require</span>(<span class="string">'./data_set_splitter'</span>)</span><br><span class="line"><span class="keyword">var</span> shannon_entropy = <span class="built_in">require</span>(<span class="string">'./shannon_entropy'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* This function will select the best feature for splittingwith the help</span></span><br><span class="line"><span class="comment">* of the shannon entropy</span></span><br><span class="line"><span class="comment">* @method get_the_best_feature_for_splitting</span></span><br><span class="line"><span class="comment">* @param  &#123;Array&#125;                           data  A dataset of training, an array conposed of object with a property "label" that represents the class</span></span><br><span class="line"><span class="comment">* @return &#123;String&#125;                                The name of the best feature for splitting (the property name)</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">var</span>  get_the_best_feature_for_splitting= <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">  <span class="comment">// we compute the Entropy</span></span><br><span class="line">  <span class="keyword">var</span> base_entropy_value = shannon_entropy.calculate_shannon_entropy(data)</span><br><span class="line">  <span class="comment">// init a variable that will contain the best informational gain value</span></span><br><span class="line">  <span class="keyword">var</span> best_informational_gain_value = <span class="number">0</span></span><br><span class="line">  <span class="comment">// init a variable that will contain the best feature choice for splitting</span></span><br><span class="line">  <span class="keyword">var</span> best_feature_name = <span class="string">""</span></span><br><span class="line">  <span class="comment">// we iterate through our features (we take the first data element)</span></span><br><span class="line">  _.forEach(data[<span class="number">0</span>], <span class="function"><span class="keyword">function</span>(<span class="params">value_of_feature, feature_name</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(feature_name != <span class="string">"label"</span>)&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">      <span class="comment">// get the unique values of each feature</span></span><br><span class="line">      <span class="keyword">var</span> unique_values_of_this_feature = _.uniq(_.map(data, feature_name));</span><br><span class="line">      <span class="comment">// init a variable that will contain the new_entropy_value</span></span><br><span class="line">      <span class="keyword">var</span> new_entropy_value = <span class="number">0</span>;</span><br><span class="line">      <span class="comment">// iterate through each possible value of this feature</span></span><br><span class="line">      _.forEach(unique_values_of_this_feature, <span class="function"><span class="keyword">function</span>(<span class="params">value_of_this_feature, key</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span>  data_set_without_this_feature_of_value = data_set_splitter.split_the_dataset_by_feature_and_value(data,feature_name,value_of_this_feature)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> p = <span class="built_in">parseFloat</span>(data_set_without_this_feature_of_value.length/data.length)</span><br><span class="line">        new_entropy_value += p*shannon_entropy.calculate_shannon_entropy(data_set_without_this_feature_of_value)</span><br><span class="line"></span><br><span class="line">      &#125;)</span><br><span class="line"></span><br><span class="line">      <span class="comment">// we can now have the informational gain for this specific feature</span></span><br><span class="line">      <span class="keyword">var</span> informational_gain_value = base_entropy_value - new_entropy_value</span><br><span class="line">      <span class="comment">// if the informational gain value is higher than the best one</span></span><br><span class="line">      <span class="keyword">if</span>(informational_gain_value &gt; best_informational_gain_value)&#123;</span><br><span class="line">        <span class="comment">// it now become the best informational gain</span></span><br><span class="line">        best_informational_gain_value = informational_gain_value</span><br><span class="line">        <span class="comment">// and the best feature has to be keep in memory</span></span><br><span class="line">        best_feature_name = feature_name</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">return</span> best_feature_name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">get_the_best_feature_for_splitting(a)</span><br><span class="line"><span class="comment">// returns "has_a_car"</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  get_the_best_feature_for_splitting:get_the_best_feature_for_splitting</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Cette fonction doit détecter quelle est la feature qui apporte un gain informationnel maximal. Nous cherchons en effet à trouver la feature permettant de diviser nos exemples dans des “compartiments”, “compartiments” qui doivent avoir la particularité de regrouper des exemples de classes similaires, et ce dans une proportion la plus importante possible. Ainsi nous <code>réduisons le désordre</code>.</p>
<p>Dans les faits nous allons faire usage du calcul de l’entropie de Shannon pour calculer cette notion de différentiel de <code>désordre</code>.<br>Si on prend l’exemple de la feature <code>has_a_car</code>, on a donc deux valeurs possibles : <code>vrai</code> ou <code>faux</code>. Première étape : l’algorithme va donc générer un set de données ne contenant pas les exemples dont la <code>has_a_car</code> vaut <code>vrai</code>. On calcule ensuite le rapport entre le nombre d’éléments de notre nouveau set de données et le nombre d’élément que contient le set de données d’origine. On calcule ensuite l’entropie avec ce nouveau jeu de données. Ce processus est <strong>répété</strong> pour chaque valeur de la feature (donc 2 fois ici). On calcule ensuite pour chacune des feature le <code>gain informationnel</code>.</p>
<p>Ce dernier étant défini comme la différence entre l’entropie de base et la somme des entropies (pour chaque valeur de la feature). L’algorithme sélectionnera la feature qui permet d’obtenir le <strong>meilleur gain informationnel</strong> !</p>
<h3 id="Construction-de-l’arbre-de-decisions-de-maniere-recursive"><a href="#Construction-de-l’arbre-de-decisions-de-maniere-recursive" class="headerlink" title="Construction de l’arbre de décisions de manière récursive"></a>Construction de l’arbre de décisions de manière récursive</h3><p>Il est temps de construire notre arbre. Nous allons le faire grâce à l’usage d’une <strong>fonction récursive</strong>, c’est à dire une fonction qui va elle même s’appeler au cours de son exécution. Pour plus d’informations sur la récursivité rendez-vous sur la page wikipédia : <a href="https://fr.wikipedia.org/wiki/Fonction_r%C3%A9cursive" target="_blank" rel="noopener">https://fr.wikipedia.org/wiki/Fonction_r%C3%A9cursive</a>.</p>
<p>Lorsqu’on bâtit une fonction récursive il faut en premier lieu visualiser nos conditions de sorties. Nous allons donc itérer sur notre jeu de données d’entrainement afin à chaque fois de détecter la meilleur feature permettant de diviser notre jeu de données. Ainsi à chaque itération <strong>on isole la meilleure feature</strong>, on débarasse notre jeu de données de cette dernière. Cette meilleure feature sera donc une feuille de notre arbre. De cette feuille on aura autant de ramifications que de valeurs possibles à cette feature. Chaque feuille sera ensuite générée de suivant le même algorithme. Les conditions de sorties seront donc au nombre de deux :</p>
<ul>
<li>Il ne reste plus de features dans le jeu de données</li>
<li>Il ne reste plus que des objets ayant tous la même classe.</li>
</ul>
<p>Voici l’algorithme :</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> _ = <span class="built_in">require</span>(<span class="string">'lodash'</span>);</span><br><span class="line"><span class="keyword">var</span> data_set_splitter = <span class="built_in">require</span>(<span class="string">'./data_set_splitter'</span>)</span><br><span class="line"><span class="keyword">var</span> best_feature_selector = <span class="built_in">require</span>(<span class="string">'./best_feature_selector'</span>)</span><br><span class="line"><span class="keyword">var</span> shannon_entropy = <span class="built_in">require</span>(<span class="string">'./shannon_entropy'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * This method will generate a decision tree</span></span><br><span class="line"><span class="comment"> * @method generate_decision_tree</span></span><br><span class="line"><span class="comment"> * @param  &#123;Array of object&#125;               data The dataset</span></span><br><span class="line"><span class="comment"> * @return &#123;Object&#125;                    The decision tree/ ex : &#123;"has_a_car":&#123;"yes":&#123;"has_a_house":&#123;"yes":"good_borrower","no":"bad_borrower"&#125;&#125;,"no":"bad_borrower"&#125;&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> generate_decision_tree = <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Because we build a recursive function</span></span><br><span class="line">  <span class="comment">// we have to set our stopping conditions at the</span></span><br><span class="line">  <span class="comment">// top.</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// group the dataset by label</span></span><br><span class="line">  <span class="keyword">var</span> grouped_data_per_label = _.groupBy(data, <span class="function"><span class="keyword">function</span>(<span class="params">o</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> o.label</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// We stop when there are only elements of the same class</span></span><br><span class="line">  <span class="comment">// inside the dataset</span></span><br><span class="line">  <span class="comment">//</span></span><br><span class="line">  <span class="keyword">if</span>(_.size(grouped_data_per_label)===<span class="number">1</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.keys(grouped_data_per_label)[<span class="number">0</span>]</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">//  If there is no more features to split</span></span><br><span class="line">  <span class="comment">//  The size of the first training is only 1 because</span></span><br><span class="line">  <span class="comment">//  there is just one property the class</span></span><br><span class="line">  <span class="comment">//  ex : data[0] = &#123;"label":"good_borrower"&#125;</span></span><br><span class="line">  <span class="keyword">if</span>(_.size(data[<span class="number">0</span>])===<span class="number">1</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> mostly_present_class(data)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">// Get the best feature to split</span></span><br><span class="line">  <span class="keyword">var</span> best_feature_for_splitting = best_feature_selector.get_the_best_feature_for_splitting(data)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// create the object decision tree</span></span><br><span class="line">  <span class="keyword">var</span> decision_tree =&#123;&#125;</span><br><span class="line">  decision_tree[best_feature_for_splitting]=&#123;&#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// we have then to extract the unique values of this feature in the dataset</span></span><br><span class="line">  <span class="comment">// get unique values of this feature</span></span><br><span class="line">  <span class="keyword">var</span> unique_values_of_best_feature =  _.uniq(_.map(data, best_feature_for_splitting));</span><br><span class="line">  <span class="comment">// forEach unique values of this feature</span></span><br><span class="line">  _.map(unique_values_of_best_feature, <span class="function"><span class="keyword">function</span>(<span class="params">value_of_this_feature</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// We get the dataset cleaned of examples that have a feature "best_feature_for_splitting"</span></span><br><span class="line">    <span class="comment">// set to the value : "value_of_this_feature"</span></span><br><span class="line">    <span class="keyword">var</span> new_data_set = data_set_splitter.split_the_dataset_by_feature_and_value(data,best_feature_for_splitting,value_of_this_feature)</span><br><span class="line">    decision_tree[best_feature_for_splitting][value_of_this_feature] = generate_decision_tree(new_data_set);</span><br><span class="line"></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> decision_tree</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports=&#123;</span><br><span class="line">  generate_decision_tree : generate_decision_tree</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>On obtient donc le résultat suivant pour notre set de données d’exemple :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&quot;has_a_car&quot;:&#123;&quot;yes&quot;:&#123;&quot;has_a_house&quot;:&#123;&quot;yes&quot;:&quot;good_borrower&quot;,&quot;no&quot;:&quot;bad_borrower&quot;&#125;&#125;,&quot;no&quot;:&quot;bad_borrower&quot;&#125;&#125;</span><br></pre></td></tr></table></figure>
<p>L’ensemble du code se trouve sur mon repo github : <a href="https://github.com/maximilienandile/decision_tree_example" target="_blank" rel="noopener">https://github.com/maximilienandile/decision_tree_example</a></p>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://maximilienandile.github.io/2016/10/17/Machine-Learning-classification-a-l-aide-des-arbres-de-decisions-fonctionnement-et-application-en-NodeJS/" data-id="ck222plis000q539948h89c46" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
        <a href="http://maximilienandile.github.io/2016/10/17/Machine-Learning-classification-a-l-aide-des-arbres-de-decisions-fonctionnement-et-application-en-NodeJS/#disqus_thread" class="article-comment-link">
          <i class="fa fa-comment"></i> Comments
        </a>
      
      

    </footer>
  </div>
  
</article>



  
    <article id="post-Base-de-donnees-comprendre-les-differences-entre-le-modele-relationnel-et-le-modele-multidimensionnel" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/10/12/Base-de-donnees-comprendre-les-differences-entre-le-modele-relationnel-et-le-modele-multidimensionnel/">Base de données : comprendre les différences entre le modèle relationnel et le modèle multidimensionnel</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/2016/10/12/Base-de-donnees-comprendre-les-differences-entre-le-modele-relationnel-et-le-modele-multidimensionnel/" class="article-date"><time datetime="2016-10-12T09:20:09.000Z" itemprop="datePublished">12/10/2016</time></a>
</div>

    
    

  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Le-modele-relationnel-est-dominant"><a href="#Le-modele-relationnel-est-dominant" class="headerlink" title="Le modèle relationnel est dominant"></a>Le modèle relationnel est dominant</h2><p>Lorsqu’on est amené à construire une application web on utilise en général le modèle relationnel (cette question ne se pose pas toutefois si on travaille avec une base de données de type <strong>NoSQL</strong>, comme MongoDB, Couchbase …). Nous utilisons tous finalement le <strong>modèle relationnel</strong> sans forcément en avoir conscience. Sa manière de fonctionner étant relativement naturelle. D’ailleurs si nous revenons une étape avant, on peut légitimement s’interroger sur ce qu’est un <strong>modèle</strong> de base de données… Il s’agit simplement de <strong>règles de construction et d’utilisation d’une base de données</strong>. Un modèle est en général très <strong>normé</strong> afin que l’architecture d’une base reste compréhensible même en cas de changement d’équipe.</p>
<p>Les bases de données avec des modèles relationnels sont encore largement utilisées :</p>
<p><img src="/img/repartition_usage_databases_octobre_2016.png" alt="Répartition de l&#39;utilisation des SGBD(Système de gestion de bases de données) en Octobre 2016, http://db-engines.com/en/ranking "></p>
<h2 id="Caracteristiques-du-modele-relationnel"><a href="#Caracteristiques-du-modele-relationnel" class="headerlink" title="Caractéristiques du modèle relationnel"></a>Caractéristiques du modèle relationnel</h2><p>Modéliser une donnée de façon relationnel revient à penser les données de son application sous forme d’une <strong>multitude d’objets</strong> qui disposent de <strong>relations</strong> permettant de les <strong>lier</strong> ensemble. La modélisation de la base de données amène à la génération d’un <strong>schéma</strong> de la base de données. Cette définition semble abstraite, prenons un exemple pour mieux la comprendre : le commerce électronique.</p>
<p>Pour un site e-commerce nous avons plusieurs <strong>objets</strong> : des clients, des commandes, des adresses, des produits, des fabricants. Ces objets disposent d’une multitude de liens entre eux. Par exemple un client dispose de plusieurs adresses, une commande de produits, un client de commandes …  On voit aussi que si certains objets ont des relations multiples avec d’autres, on a aussi des relations uniques entre certains objets. Un produit à par exemple un seul et unique fabricant. Il ne peut en avoir deux…</p>
<h3 id="Les-differents-types-de-relations"><a href="#Les-differents-types-de-relations" class="headerlink" title="Les différents types de relations"></a>Les différents types de relations</h3><p>Ainsi les liens entre les objets sont de différents types :</p>
<ul>
<li><strong>1-n</strong> : ou encore relations <strong>un à plusieurs</strong> par exemple entre l’objet client et l’objet commande : un client peut avoir plusieurs commandes, mais une commande ne peut avoir qu’un seul client.</li>
<li><strong>n-n</strong> : ou encore relations <strong>plusieurs à plusieurs</strong> : un produit peut avoir plusieurs couleurs et une couleur n’est pas spécifique à un produit. Il peut y avoir plus d’un produit de couleur X.</li>
<li><strong>1-1</strong> : ou encore les relations <strong>un à un</strong> par exemple si nous stockions les numéros de carte d’identité de nos clients. Un client ne peux avoir qu’un seul numéro de CNI et un numéro de CNI correspond à un unique client. Ce type de relation est toutefois extrêmement rare.</li>
</ul>
<h3 id="Tables-et-objets"><a href="#Tables-et-objets" class="headerlink" title="Tables et objets"></a>Tables et objets</h3><p>Chaque famille d’objet est stocké dans une <strong>table</strong>. On a ainsi une table <code>client</code>, une table <code>commande</code>…</p>
<p>Chaque objet <code>client</code> dispose d’un clé <strong>primaire</strong>. Cette clé est un identifiant unique <strong>d’un objet particulier stocké dans la table</strong>. Cette clé unique permet ensuite de lier l’objet en question à un autre objet cible (par exemple une <code>commande</code>). Dans la table des <code>commandes</code> on trouvera une clé primaire (qui permet d’identifier formellement la commande), mais aussi une <strong>clé étrangère</strong> <code>client</code> qui permet de <strong>lier cette commande à un client</strong>.</p>
<h2 id="Limites-du-modele-relationnel"><a href="#Limites-du-modele-relationnel" class="headerlink" title="Limites du modèle relationnel"></a>Limites du modèle relationnel</h2><p>Le type de modélisation relationnel est particulièrement efficace pour traiter les données provenant d’applications transactionnelles. Par exemple pour un site e-commerce l’utilisation d’une modélisation relationnelle est bien adapté. On parle de systèmes de type OLTP (OnLine Transaction Processing). Un système de facturation client est ainsi assez aisé à créer dans le cadre du paradigme relationnel : on aura la table client, la table facture, la table des acomptes…etc chacune étant reliée grâce aux clés primaires (d’un côté) et étrangères (de l’autre).</p>
<h2 id="Le-modele-multidimensionnel-des-requetes-analytiques-performantes-et-plus-facile-a-ecrire"><a href="#Le-modele-multidimensionnel-des-requetes-analytiques-performantes-et-plus-facile-a-ecrire" class="headerlink" title="Le modèle multidimensionnel : des requêtes analytiques performantes et plus facile à écrire"></a>Le modèle multidimensionnel : des requêtes analytiques performantes et plus facile à écrire</h2><p>Mais pourquoi donc aurait-on besoin d’ajouter un autre schéma ? La réponse est simple lorsque les bases relationnelles commencent à accumuler un volume de données important le temps nécessaires aux requêtes analytiques augmente significativement. Précisons bien d’emblé que seules les <strong>requêtes analytiques</strong> sont concernées. Par exemple voiloir calculer un taux de rétention sur une table regroupant l’ensemble des activités des utilisateurs peut s’avérer très <strong>couteux en temps de calcul</strong>.</p>
<p>Le modèle multidimensionnel permet aussi de <strong>réduire la difficulté d’écriture des requêtes</strong> qui dans le cadre des bases classiques peuvent vite devenir illisible. Et qui dit illisible, dit temps perdu par le développeur ! Ainsi <strong>on peut interroger plus facilement ces modèles tout en ayant des temps de réponses bien meilleurs</strong>.</p>
<h3 id="Comparaison-des-requetes-SQL-amp-MDX"><a href="#Comparaison-des-requetes-SQL-amp-MDX" class="headerlink" title="Comparaison des requêtes SQL &amp; MDX"></a>Comparaison des requêtes SQL &amp; MDX</h3><p>Par exemple dans le cas d’un modèle relationnel (en supposant un schéma permettant cette requête); pour avoir le nombre distinct de commandes d’un produit de la catégorie <code>X</code> par client on pourrait avoir une requête comme suis :</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> c.first_name , c.last_name, <span class="keyword">COUNT</span>(<span class="keyword">DISTINCT</span> o.id)</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">order_detail od</span><br><span class="line"><span class="comment">-- Obtention de l'information produit à partir de la table order detail</span></span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> product p <span class="keyword">ON</span> od.product_id = p.id</span><br><span class="line"><span class="comment">-- Obtention de la catégorie</span></span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> <span class="keyword">category</span> c <span class="keyword">ON</span> p.category_id = c.id</span><br><span class="line"><span class="comment">-- Obtention de la commande pour avoir le client</span></span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> <span class="keyword">order</span> o <span class="keyword">ON</span> od.order_id = o.id</span><br><span class="line"><span class="comment">-- Obtention de la données client (pour pouvoir afficher la data par client)</span></span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> <span class="keyword">client</span> c <span class="keyword">ON</span> o.client_id = c.id</span><br><span class="line"><span class="comment">-- Nous ne souhaitons que les produits d'id X</span></span><br><span class="line"><span class="keyword">WHERE</span> c.name = <span class="string">'X'</span></span><br><span class="line"><span class="comment">-- On groupe les résultats par client</span></span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> c.first_name+<span class="string">' '</span>+c.last_name</span><br></pre></td></tr></table></figure>
<p>On est obligé de faire une jointure sur plusieurs tables et <strong>la requête devient assez longue et peu élégante</strong>, de suite elle est plus complexe à débugger. Tandis qu’on aura une version plus courte de la requête avec l’aide du <code>MDX</code> (un simili SQL qui permet d’interroger des bases multidimensionnelles de manière plus simple) :</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> [<span class="keyword">Measures</span>].[Orders <span class="keyword">Count</span>] <span class="keyword">ON</span> <span class="keyword">COLUMNS</span>,</span><br><span class="line">[Customer].[Customer].Members <span class="keyword">ON</span> <span class="keyword">ROWS</span></span><br><span class="line"><span class="keyword">FROM</span> [<span class="keyword">Data</span> Warehouse <span class="keyword">project</span>]</span><br><span class="line"><span class="keyword">WHERE</span> [Product].[Product Categories].[<span class="keyword">Category</span>].[X]</span><br></pre></td></tr></table></figure>
<p>Beaucoup plus simple et lisible !</p>
<h2 id="Dimensions-faits-et-mesures-le-modele-en-etoile"><a href="#Dimensions-faits-et-mesures-le-modele-en-etoile" class="headerlink" title="Dimensions, faits et mesures : le modèle en étoile"></a>Dimensions, faits et mesures : le modèle en étoile</h2><p>Voici un modèle d’organisation multidimensionnel (aussi appelé OLAP) :</p>
<p><img src="/images/star_schema_presentation.png" alt="Le modèle multidimensionnel en étoile (star schema)"></p>
<p>On voit donc qu’<strong>on organise la données en pensant d’abord aux analyses</strong> qui vont y être faite. Ici on veut pouvoir comprendre la répartition du profit et du revenu net en fonction du produit, du client, de la catégorie, du code postal de livraison, de la méthode de livraison ! On va donc créer nos dimensions d’analyse : on aura donc 5 dimensions. Ce qui se manifestera dans le schéma par <strong>5 tables de dimensions</strong>.</p>
<p>A ces 5 tables de dimensions on ajoute une table centrale, qui est la <strong>table de fait</strong> (<code>fact table</code>). Cette table de fait va regrouper les clés étrangères des tables de dimensions (<code>ID_client</code>, <code>ID_product</code>, …) mais aussi nos <code>mesures</code>(ou <strong>metrics</strong>) : ici le profit, le revenu net et la TVA.</p>
<p>On voit donc bien maintenant pourquoi il s’agit d’un <strong>modèle en étoile</strong>. Les dimensions ne sont pas liées entre elles et c’est la table de fait qui fait le lien entre les mesures et l’ensemble des dimensions !</p>
<h2 id="Les-metiers-peuvent-interroger-directement-les-bases"><a href="#Les-metiers-peuvent-interroger-directement-les-bases" class="headerlink" title="Les métiers peuvent interroger directement les bases !"></a>Les métiers peuvent interroger directement les bases !</h2><p>Par la suite on peut donner la possibilité au métier d’interroger directement la base afin de faire des analyses à volonté à partir de ces dimensions. De nombreuses solutions d’interrogations existent. L’une de mes préférée est <strong>Saiku</strong> (<a href="http://www.meteorite.bi/" target="_blank" rel="noopener">http://www.meteorite.bi/</a>) qui dispose d’une version open source ! Les métiers peuvent générer des tableaux à la volée en couplant les dimensions, sans avoir à maitriser le MDX !</p>
<p>Le modèle dispose encore de bien d’autres avantages et caractéristiques, j’essayerai ‘écrire à nouveau sur ce sujet passionnant.</p>
<p>Lectures :</p>
<ul>
<li><a href="http://www.joyofdata.de/" target="_blank" rel="noopener">http://www.joyofdata.de/</a> : un blog passionnant sur la BI</li>
<li><a href="http://pentaho-bi-suite.blogspot.fr/" target="_blank" rel="noopener">http://pentaho-bi-suite.blogspot.fr/</a> : un autre blog plus orienté Pentaho, mais tout aussi intéressant à suivre.</li>
</ul>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://maximilienandile.github.io/2016/10/12/Base-de-donnees-comprendre-les-differences-entre-le-modele-relationnel-et-le-modele-multidimensionnel/" data-id="ck222pli900015399nc5l2ldh" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
        <a href="http://maximilienandile.github.io/2016/10/12/Base-de-donnees-comprendre-les-differences-entre-le-modele-relationnel-et-le-modele-multidimensionnel/#disqus_thread" class="article-comment-link">
          <i class="fa fa-comment"></i> Comments
        </a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Business-Intelligence/">Business Intelligence</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-Comment-installer-PHPUnit-sur-un-projet-necessitant-composer-et-utilisant-des-variables-d-environnement" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/10/01/Comment-installer-PHPUnit-sur-un-projet-necessitant-composer-et-utilisant-des-variables-d-environnement/">Comment installer PHPUnit sur un projet nécessitant composer et utilisant des variables d&#39;environnement</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/2016/10/01/Comment-installer-PHPUnit-sur-un-projet-necessitant-composer-et-utilisant-des-variables-d-environnement/" class="article-date"><time datetime="2016-10-01T14:13:20.000Z" itemprop="datePublished">01/10/2016</time></a>
</div>

    
    

  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Installation-de-PHPUnit-macOS"><a href="#Installation-de-PHPUnit-macOS" class="headerlink" title="Installation de PHPUnit (macOS)"></a>Installation de PHPUnit (macOS)</h2><p>Afin d’installer PHPUnit nous allons devoir ouvrir le terminal  et taper les commandes suivantes :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ curl https://phar.phpunit.de/phpunit.phar -L -o phpunit.phar</span><br><span class="line">$ chmod +x phpunit.phar</span><br><span class="line">$ mv phpunit.phar /usr/local/bin/phpunit</span><br></pre></td></tr></table></figure>
<p>Ces commandes permettent de télécharger le fichier <code>.phar</code>. (Un fichier <code>.PHAR</code> est une PHP Archive, une application PHP compactée dans un seul et même fichier). Elles permettent ensuite d’étendre le niveau des droits sur ce dernier fichier (lecture, écriture, exécution). Nous déplaçons ensuite <code>phpunit.phar</code> dans le dossier <code>/usr/local/bin/phpunit</code> afin que nous puissions l’exécuter directement depuis notre terminal via la commande <code>phpunit</code>.</p>
<h2 id="Creation-du-fichier-phpunit-xml-contenant-l’ensemble-des-variables-d’environnement"><a href="#Creation-du-fichier-phpunit-xml-contenant-l’ensemble-des-variables-d’environnement" class="headerlink" title="Création du fichier phpunit.xml contenant l’ensemble des variables d’environnement"></a>Création du fichier phpunit.xml contenant l’ensemble des variables d’environnement</h2><p>Si vos scripts PHP font usage de <strong>variables d’environnement</strong>. Vous vous devez de <strong>fournir une valeur à ces variables dans vos tests unitaires</strong>. En effet si vous exécutez vos tests unitaires sans ces variables définies vos test échoueront, faute de variables définies.</p>
<p>PHPUnit permet la configuration de ces variables de manière très simple. Il vous suffit de créer un fichier nommé <code>phpunit.xml</code> à la racine du dossier de votre application :</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">phpunit</span> <span class="attr">bootstrap</span>=<span class="string">"bootstrap_file.php"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">php</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">env</span> <span class="attr">name</span>=<span class="string">"DB_HOST"</span> <span class="attr">value</span>=<span class="string">"127.0.0.1:3306"</span>/&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">env</span> <span class="attr">name</span>=<span class="string">"DB_USER"</span> <span class="attr">value</span>=<span class="string">"root"</span>/&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">env</span> <span class="attr">name</span>=<span class="string">"DB_PASS"</span> <span class="attr">value</span>=<span class="string">"root"</span>/&gt;</span></span><br><span class="line">       ...</span><br><span class="line">  <span class="tag">&lt;/<span class="name">php</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">phpunit</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Dans notre cas nous définissons ici <code>3</code> variables d’environnement nommées <code>DB_HOST</code>, <code>DB_USER</code> et <code>DB_PASS</code> ayant respectivement les valeurs <code>127.0.0.1:3306</code>, <code>root</code>, <code>root</code>.</p>
<p>D’autre part dans ce fichier de configuration est aussi définit un fichier de <code>bootstrap</code> qui va nous permettre de créer une procédure de démarrage spécifique au test de notre application.</p>
<h2 id="Creation-du-script-de-bootstrap"><a href="#Creation-du-script-de-bootstrap" class="headerlink" title="Création du script de bootstrap."></a>Création du script de bootstrap.</h2><p>Notre script de <code>bootstrap</code> devra effectuer une tâche :</p>
<ul>
<li>Charger l’ensemble des classes que nous avons développées afin que nous n’ayons pas à faire des <code>require</code> dans chaque fichier décrivant un test unitaire. Cette astuce permet de gagner un temps précieux !</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">my_autoloader</span><span class="params">($class)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">include</span> <span class="string">'classes/'</span> . $class . <span class="string">'.php'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">spl_autoload_register(<span class="string">'my_autoloader'</span>);</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>Si <strong>toutes vos classes sont regroupées</strong> dans le dossier <code>classes</code> (sans sous-dossiers) situé à la racine de votre application vous pouvez adopter cet autoloader simple. Une autre contrainte est que le nom de vos classes doit correspondre trait pour trait au nom du fichier dans lesquels elles sont définies.</p>
<p> Jess Telford fournit une implémentation plus complexe permettant d’inclure les sous dossiers : <a href="http://jes.st/2011/phpunit-bootstrap-and-autoloading-classes/" target="_blank" rel="noopener">http://jes.st/2011/phpunit-bootstrap-and-autoloading-classes/</a>.</p>
<h2 id="Un-test-unitaire"><a href="#Un-test-unitaire" class="headerlink" title="Un test unitaire"></a>Un test unitaire</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">date_default_timezone_set(<span class="string">'America/Los_Angeles'</span>);</span><br><span class="line"><span class="comment">// require composer classes</span></span><br><span class="line"><span class="keyword">require_once</span> <span class="keyword">__DIR__</span> .<span class="string">'/../vendor/autoload.php'</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">PHPUnit</span>\<span class="title">Framework</span>\<span class="title">TestCase</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserTest</span> <span class="keyword">extends</span> <span class="title">TestCase</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Et voilà. Vous pouvez tester des fonctions disposant de <code>variables d&#39;environnement</code> et tester toutes vos classes sans avoir à penser à appeler <code>require</code> à chaque utilisation d’une nouvelle classe.</p>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://maximilienandile.github.io/2016/10/01/Comment-installer-PHPUnit-sur-un-projet-necessitant-composer-et-utilisant-des-variables-d-environnement/" data-id="ck222plif000553994l593v8b" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
        <a href="http://maximilienandile.github.io/2016/10/01/Comment-installer-PHPUnit-sur-un-projet-necessitant-composer-et-utilisant-des-variables-d-environnement/#disqus_thread" class="article-comment-link">
          <i class="fa fa-comment"></i> Comments
        </a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PHP/">PHP</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-Comprendre-les-headers-d-une-requete-HTTP" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/30/Comprendre-les-headers-d-une-requete-HTTP/">Comprendre les headers d&#39;une requête HTTP</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/2016/09/30/Comprendre-les-headers-d-une-requete-HTTP/" class="article-date"><time datetime="2016-09-30T12:31:36.000Z" itemprop="datePublished">30/09/2016</time></a>
</div>

    
    

  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h2><p>HTTP signifie (Hypertext Transfer Protocol), il s’agit d’un <strong>protocole de communication entre ordinateurs connectés au réseau internet*</strong>. Lorsque nous échangeons avec nos semblables nous utilisons nous même un protocole de communication : il s’agit de notre langue et de notre grammaire. L’Internet dispose aussi d’un langage et d’une grammaire bien déterminée et il s’agit d’HTTP.</p>
<p>Contrairement au français ou comprendre et apprendre la grammaire nécessite un apprentissage long et douloureux, la grammaire du web est définit sous forme de <strong>RFC (“request for comments”)</strong>, il s’agit d’une pléthore de documents décrivant les règles de fonctionnement de notre web. Plus précisément, c’est la <a href="https://www.ietf.org/rfc/rfc2616.txt" target="_blank" rel="noopener"><strong>RFC 2616</strong></a> qui définit le fonctionnement du <strong>protocole HTTP version 1.1</strong>.</p>
<h2 id="Client-et-Serveur"><a href="#Client-et-Serveur" class="headerlink" title="Client et Serveur"></a>Client et Serveur</h2><p><img src="/img/HTTP_server_and_client.png" alt="Le trajet d&#39;une requête HTTP"></p>
<p>Sur le schéma précédent nous voyons que les requêtes HTTP sont émises depuis le <strong>client</strong>. Le client est dans ce cas le navigateur web utilisé (ici Chrome). Ce dernier va envoyer au <strong>serveur</strong> la <strong>requête</strong> HTTP (la question). Ce dernier va ensuite traité la requête et renvoyer la <strong>ressource</strong> correspondante au client.</p>
<h2 id="Les-principales-caracteristiques-du-protocole"><a href="#Les-principales-caracteristiques-du-protocole" class="headerlink" title="Les principales caractéristiques du protocole"></a>Les principales caractéristiques du protocole</h2><ol>
<li>Les échanges du protocoles HTTP repose sur <strong>TCP/IP</strong> qui est une suite de protocoles destinés au transfert de données sur le réseau internet.</li>
<li>On peut transférer via HTTP <strong>n’importe quel type de média</strong> ! Que cela soit du texte, du HTML, du JSON, des images, des films (pensez aux sites de streaming qui reposent grandement sur HTTP).</li>
<li>Le protocole HTTP est <strong>sans état</strong>, c’est à dire que le serveur ne se souviendra pas de vous entre vos requêtes, d’une certaine façon HTTP n’a pas de mémoire. Et cela lui va très bien (cf <a href="/2016/09/24/Pourquoi-utiliser-RAML-pour-designer-une-API-RESTful/">REST</a>)</li>
</ol>
<h2 id="Visualisation-d’une-requete-HTTP"><a href="#Visualisation-d’une-requete-HTTP" class="headerlink" title="Visualisation d’une requête HTTP"></a>Visualisation d’une requête HTTP</h2><p>Comment peut on visualiser une requête HTTP dans Chrome ? Rien de plus simple il suffit de :</p>
<ol>
<li>Cliquer sur <code>Afficher</code></li>
<li>Puis sur <code>Options pour les développeurs</code></li>
<li>Puis cliquez sur <code>outil de développement</code></li>
</ol>
<p>Vous verrez s’afficher la fenêtre vous permettant de surveiller l’activité de <strong>networking</strong> de votre navigateur, autrement dit toutes les requêtes qui sortent de votre machine :</p>
<p><img src="/img/visualisation_http_chrome.png" alt="Les requêtes HTTP dans Chrome"></p>
<p>Nous voyons donc ici toutes les requêtes lancées par <strong>chrome</strong> à la visite du site <strong>Le Monde</strong>. Et cela en fait un sacré paquet ! En effet les éléments du site sont chargés via HTTP. Souvenez vous, ce protocole est multimédia ! On va y recourir (enfin notre navigateur) pour charger les images, les feuilles de style CSS, les pages HTML, le favicon…</p>
<p>Voici un exemple de requête HTTP.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Request URL:http://www.lemonde.fr/</span><br><span class="line">Request Method:GET</span><br></pre></td></tr></table></figure>
<p>L’URL permet de router notre requête vers le serveur correspondant au site web sur le réseau. Ensuite on précise la méthode, ici il s’agit de <strong>GET</strong>. La méthode <strong>GET</strong> est surtout celle utilisée pour charger les images et les pages  HTML. Il existe d’autres méthodes, appelées aussi <strong>verbes</strong> comme <strong>POST</strong> qui est utilisée notamment pour envoyer les données d’un formulaire sur un serveur. (par exemple pour envoyer votre formulaire d’inscription à Airbnb).</p>
<p> Mais une <strong>requête HTTP</strong> est aussi composée d’un <strong>header</strong> dont voici un exemple :</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">GET / HTTP/1.1</span><br><span class="line">Host: www.lemonde.fr</span><br><span class="line">Connection: keep-alive</span><br><span class="line">Cache-Control: max-age=0</span><br><span class="line">Upgrade-Insecure-Requests: 1</span><br><span class="line">User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.34 Safari/537.36</span><br><span class="line">Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8</span><br><span class="line">Accept-Encoding: gzip, deflate, sdch</span><br><span class="line">Accept-Language: fr-FR,fr;q=0.8,en-US;q=0.6,en;q=0.4</span><br><span class="line">Cookie: _ga=GA1.2.374864853.1475228586; xtvrn=<span class="variable">$43260</span>$; _cb_ls=1; lmdAbDay=1; __vrf=14752522666255dKTLyAPMbCEHo57kMWgskL26Q4Wie1W; __vrrefresh=http%253A%252F%252Fwww.lemonde.fr%252F; __utmt=1; __utma=194882738.374864853.1475228586.1475238480.1475252268.2; __utmb=194882738.1.10.1475252268; __utmc=194882738; __utmz=194882738.1475238480.1.1.utmcsr=google|utmccn=(organic)|utmcmd=organic|utmctr=(not%20provided); xtan43260=-; xtant43260=1; _cb=DQQzWqCueIlMC6ZCTd; _chartbeat2=.1475238481310.1475252269278.1; cdx_ses_1_10013=3342761584&amp;1577be3312a&amp;1577be3312a&amp;; kameleoonVisit=ml6c91nkhia4vvot/1/1475252301068/20160909/12726701/<span class="literal">true</span></span><br><span class="line">If-Modified-Since: Fri, 30 Sep 2016 16:10:47 GMT</span><br></pre></td></tr></table></figure>
<p>Chaque ligne est générée par notre client (notre navigateur web). D’un point de vue développeur <strong>il ne faut d’ailleurs jamais se fier au header car ces données peuvent être manipulées avant d’être envoyées</strong> et changées à volonté par n’importe quel développeur.</p>
<p>Voici le détail du header avec des explications pour chaque donnée</p>
<table>
<thead>
<tr>
<th style="text-align:center">Propriété</th>
<th style="text-align:center">Description</th>
<th style="text-align:center">Exemple</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Host</td>
<td style="text-align:center">Il s’agit du nom de domaine du serveur auquel on envoie la requête, on pécise aussi le port si celui-ci n’est pas 80</td>
<td style="text-align:center">www.lemonde.fr</td>
</tr>
<tr>
<td style="text-align:center">Connection</td>
<td style="text-align:center">Il s’agit du comportement de la connexion. Ici on va garder la connection TCP ouverte entre le moment entre les requêtes réponses, au lien d’en ouvrir une autre à chaque reprise</td>
<td style="text-align:center">keep-alive</td>
</tr>
<tr>
<td style="text-align:center">Cache-Control</td>
<td style="text-align:center">Cette propriété indique au cache du serveur s’il doit recharger la page à chaque reprise ou suivant un délai précis. Ici c’est le cas, on doit recharger à chaque fois la page</td>
<td style="text-align:center">max-age=0</td>
</tr>
<tr>
<td style="text-align:center">Upgrade-Insecure-Requests</td>
<td style="text-align:center">Indique au client que l’on préfèrera toujours une reconnection HTTPS si jamais celui-ci est en train de migrer entre HTTP et HTTPS</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">User-Agent</td>
<td style="text-align:center">Il s’agit de la chaine de caractère permettant d’identifier formellement le navigateur qui a généré la requête;  on y trouve sa version son développeur … Renseignement très intéressant pour le web analytics</td>
<td style="text-align:center">Mozilla/5.0 (Macintosh; ….</td>
</tr>
<tr>
<td style="text-align:center">Accept</td>
<td style="text-align:center">Indique le type de contenu (de média) que le client est en mesure d’accepter.</td>
<td style="text-align:center">text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,<em>/</em>;q=0.8</td>
</tr>
<tr>
<td style="text-align:center">Referer</td>
<td style="text-align:center">Indique la page d’où vient le visiteur. (très utile pour l’analyse de la provenance des visiteurs). Vous noterez la coquille (il manque un r) qui provient directement d’une erreur sur la RFC :)</td>
<td style="text-align:center"><a href="http://www.lemonde.fr/" target="_blank" rel="noopener">http://www.lemonde.fr/</a></td>
</tr>
<tr>
<td style="text-align:center">Accept-Encoding</td>
<td style="text-align:center">Spécifie le type de compression du contenu que le client (le navigateur) peut traiter. Le contenu est en effet souvent compresser pour optimiser le temps de transfert !</td>
<td style="text-align:center">gzip, deflate, sdch</td>
</tr>
<tr>
<td style="text-align:center">Accept-Language</td>
<td style="text-align:center">Spécifie quel langage le client accepte</td>
<td style="text-align:center">fr-FR,fr;q=0.8,en-US;q=0.6,en;q=0.4</td>
</tr>
<tr>
<td style="text-align:center">Cookie</td>
<td style="text-align:center">On retrouve ici le cookie (une série de données) qui avait été précédemment enregistré sur le navigateur de l’utilisateur et qui est renvoyé au serveur lors de chaque requêtes. On retrouve d’ailleurs ici des traces de Google Analytics</td>
<td style="text-align:center">_ga=GA1.2.374864853.1475228586; xtvrn=$43260$; _cb_ls=1</td>
</tr>
<tr>
<td style="text-align:center">If-Modified-Since</td>
<td style="text-align:center">Permet au serveur de renvoyer la réponse “304 Not modified” si jamais la page n’a pas été modifiée depuis la date indiquée</td>
<td style="text-align:center">Fri, 30 Sep 2016 16:16:34 GMT</td>
</tr>
</tbody>
</table>
<p>Précisons d’ailleurs que l’on peut mettre en place un <strong>système d’authentification</strong> utilisateur via les headers HTTP ! Le client rajoute simplement dans sa requête le nom d’utilisateur et le mot de passe demandé à l’utilisateur via une fenêtre native. Ce nom d’utilisateur est de mot de passe est encodé en <strong>base 64</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Authorization: Basic XXXXXXXXXXXX</span><br></pre></td></tr></table></figure></p>
<p>XXXXXXXXXXXX représentant l’encodage de la chaine nom_de_l_utilisateur : mot_de_passe ! Remarquez aussi que lorsque vous transmettez des <strong>données sensibles</strong> sur vos sites favoris et que ces derniers n’utilisent pas HTTPS (la version sécurisée du protocole HTTP) cela <strong>représente un réel danger</strong>, car toute requête peut être interceptée ! et dans une requête POST de transmission de formulaire <strong>vos données sont lisibles</strong>! Faites l’essai en essayant de remplir un formulaire et en surveillant la requête HTTP qui sera émise ! </p>
<p>J’espère que vous aurez maintenant envie d’ouvrir votre inspecteur chrome afin d’inspecter les requêtes que fait votre navigateur ! Cela peut être un moyen intéressant pour découvrir tous les services qu’un site utilise (par exemple les réseaux de pubilicités, les services de web analytics…). Fouillez !</p>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://maximilienandile.github.io/2016/09/30/Comprendre-les-headers-d-une-requete-HTTP/" data-id="ck222plii00095399ouni5vzy" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
        <a href="http://maximilienandile.github.io/2016/09/30/Comprendre-les-headers-d-une-requete-HTTP/#disqus_thread" class="article-comment-link">
          <i class="fa fa-comment"></i> Comments
        </a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/HTTP/">HTTP</a></li></ul>


    </footer>
  </div>
  
</article>



  


  <div id="page-nav">
    <nav><ul class="pagination"><li class="disabled"><span class="page-prev"><i class="fa fa-chevron-left"></i> Prev</a></li><li class="active"><span class="page-number">1</span></li><li><a class="page-number" href="/page/2/">2</a></li><li><a class="page-next" rel="next" href="/page/2/">Next <i class="fa fa-chevron-right"></i></a></li></ul></nav>
  </div>



        </div>
        <div class="col-sm-3 col-sm-offset-1 blog-sidebar">
          
  <div class="sidebar-module sidebar-module-inset">
  <h4>About</h4>
  <p>I am Maximilien Andile a Tech enthusiast and teacher who is always happy to share knowledge</p>

</div>


  


  
  <div class="sidebar-module">
    <h4>Tags</h4>
    <ul class="sidebar-module-list"><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/Business-Intelligence/">Business Intelligence</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/Design-Patterns/">Design Patterns</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/HTTP/">HTTP</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/Javascript/">Javascript</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/Machine-Learning/">Machine Learning</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/NLP/">NLP</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/Natural-Language-Processing/">Natural Language Processing</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/Nodejs/">Nodejs</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/PHP/">PHP</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/PHP-Tests-unitaires/">PHP ; Tests unitaires</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/REST/">REST</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/Recherche/">Recherche</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/SQL/">SQL</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/nodejs/">nodejs</a><span class="sidebar-module-list-count">1</span></li></ul>
  </div>



  
  <div class="sidebar-module">
    <h4>Tag Cloud</h4>
    <p class="tagcloud">
      <a href="/tags/Business-Intelligence/" style="font-size: 10px;">Business Intelligence</a> <a href="/tags/Design-Patterns/" style="font-size: 10px;">Design Patterns</a> <a href="/tags/HTTP/" style="font-size: 10px;">HTTP</a> <a href="/tags/Javascript/" style="font-size: 20px;">Javascript</a> <a href="/tags/Machine-Learning/" style="font-size: 15px;">Machine Learning</a> <a href="/tags/NLP/" style="font-size: 15px;">NLP</a> <a href="/tags/Natural-Language-Processing/" style="font-size: 10px;">Natural Language Processing</a> <a href="/tags/Nodejs/" style="font-size: 10px;">Nodejs</a> <a href="/tags/PHP/" style="font-size: 10px;">PHP</a> <a href="/tags/PHP-Tests-unitaires/" style="font-size: 10px;">PHP ; Tests unitaires</a> <a href="/tags/REST/" style="font-size: 10px;">REST</a> <a href="/tags/Recherche/" style="font-size: 10px;">Recherche</a> <a href="/tags/SQL/" style="font-size: 10px;">SQL</a> <a href="/tags/nodejs/" style="font-size: 10px;">nodejs</a>
    </p>
  </div>


  
  <div class="sidebar-module">
    <h4>Archives</h4>
    <ul class="sidebar-module-list"><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2019/10/">October 2019</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/12/">December 2016</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/11/">November 2016</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/10/">October 2016</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/09/">September 2016</a><span class="sidebar-module-list-count">6</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/06/">June 2016</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/05/">May 2016</a><span class="sidebar-module-list-count">3</span></li></ul>
  </div>



  
  <div class="sidebar-module">
    <h4>Recents</h4>
    <ul class="sidebar-module-list">
      
        <li>
          <a href="/2019/10/20/Dependency-injection-what-is-it-how-to-do-it-in-Java-and-why-to-use-it/">Dependency injection - What is it ? How to do it in Java ? Why to use it ?</a>
        </li>
      
        <li>
          <a href="/2016/12/22/Javascript-que-sont-les-closures-et-comment-les-utiliser/">Javascript : que sont les closures et comment les utiliser</a>
        </li>
      
        <li>
          <a href="/2016/12/19/Comment-utiliser-map-et-reduce-en-Javascript/">Comment utiliser map et reduce en Javascript</a>
        </li>
      
        <li>
          <a href="/2016/12/18/ES6-les-principales-features-a-connaitre/">ES6 : les principales features à connaître</a>
        </li>
      
        <li>
          <a href="/2016/12/18/l-ADN-une-nouvelle-source-de-stockage-de-donnees-durable/">ADN : une nouvelle source de stockage de données durable</a>
        </li>
      
    </ul>
  </div>



        </div>
    </div>
  </div>
  <footer class="blog-footer">
  <div class="container">
    <div id="footer-info" class="inner">
      &copy; 2019 Maximilien Andile<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

  
<script>
  var disqus_shortname = 'maximilienandile';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js" integrity="sha384-8gBf6Y4YYq7Jx97PIqmTwLPin4hxIzQw5aDmUg/DDhul9fFpbbLcLh3nTIIDJKhx" crossorigin="anonymous"></script>

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->

</body>
</html>
