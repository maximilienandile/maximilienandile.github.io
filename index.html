<!DOCTYPE html>
<html>
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
  
  <title>M@XCode</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="google-site-verification" content="zhe_jVE6TPFbrQb7K-ra2FFxgiDsn6ZeFoKSz9EXmGk" />
  <meta name="description" content="Blog dédié au partage du savoir informatique">
<meta property="og:type" content="website">
<meta property="og:title" content="M@XCode">
<meta property="og:url" content="http://maximilienandile.github.io/index.html">
<meta property="og:site_name" content="M@XCode">
<meta property="og:description" content="Blog dédié au partage du savoir informatique">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="M@XCode">
<meta name="twitter:description" content="Blog dédié au partage du savoir informatique">
  
    <link rel="alternate" href="/atom.xml" title="M@XCode" type="application/atom+xml">
  
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" integrity="sha384-XdYbMnZ/QjLh6iI4ogqCTaIjrFk87ip+ekIjefZch0Y+PvJ8CDYtEs1ipDmPorQ+" crossorigin="anonymous">

  <link rel="stylesheet" href="/css/styles.css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77397884-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics --><!-- hexo-inject:begin --><!-- hexo-inject:end -->


</head>

<body>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><nav class="navbar navbar-inverse">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#main-menu-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="main-menu-navbar">
      <ul class="nav navbar-nav">
        
          <li><a class="active"
                 href="/index.html">Home</a></li>
        
          <li><a class=""
                 href="/archives/">Archives</a></li>
        
      </ul>

      <!--
      <ul class="nav navbar-nav navbar-right">
        
          <li><a href="/atom.xml" title="RSS Feed"><i class="fa fa-rss"></i></a></li>
        
      </ul>
      -->
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>

  <div class="container">
    <div class="blog-header">
  <h3 class="blog-title">M@XCode</h3>
  
</div>

    <div class="row">
        <div class="col-sm-8 blog-main">
          
  
    <article id="post-Comprendre-les-headers-d-une-requete-HTTP" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/30/Comprendre-les-headers-d-une-requete-HTTP/">Comprendre les headers d&#39;une requête HTTP</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/2016/09/30/Comprendre-les-headers-d-une-requete-HTTP/" class="article-date"><time datetime="2016-09-30T12:31:36.000Z" itemprop="datePublished">30/09/2016</time></a>
</div>

    
    

  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h2><p>HTTP signifie (Hypertext Transfer Protocol), il s’agit d’un <strong>protocole de communication entre ordinateurs connectés au réseau internet*</strong>. Lorsque nous échangeons avec nos semblables nous utilisons nous même un protocole de communication : il s’agit de notre langue et de notre grammaire. L’Internet dispose aussi d’un langage et d’une grammaire bien déterminée et il s’agit d’HTTP.</p>
<p>Contrairement au français ou comprendre et apprendre la grammaire nécessite un apprentissage long et douloureux, la grammaire du web est définit sous forme de <strong>RFC (“request for comments”)</strong>, il s’agit d’une pléthore de documents décrivant les règles de fonctionnement de notre web. Plus précisément, c’est la <a href="https://www.ietf.org/rfc/rfc2616.txt" target="_blank" rel="external"><strong>RFC 2616</strong></a> qui définit le fonctionnement du <strong>protocole HTTP version 1.1</strong>.</p>
<h2 id="Client-et-Serveur"><a href="#Client-et-Serveur" class="headerlink" title="Client et Serveur"></a>Client et Serveur</h2><p><img src="img/HTTP_server_and_client.png" alt="Le trajet d&#39;une requête HTTP"></p>
<p>Sur le schéma précédent nous voyons que les requêtes HTTP sont émises depuis le <strong>client</strong>. Le client est dans ce cas le navigateur web utilisé (ici Chrome). Ce dernier va envoyer au <strong>serveur</strong> la <strong>requête</strong> HTTP (la question). Ce dernier va ensuite traité la requête et renvoyer la <strong>ressource</strong> correspondante au client.</p>
<h2 id="Les-principales-caracteristiques-du-protocole"><a href="#Les-principales-caracteristiques-du-protocole" class="headerlink" title="Les principales caractéristiques du protocole"></a>Les principales caractéristiques du protocole</h2><ol>
<li>Les échanges du protocoles HTTP repose sur <strong>TCP/IP</strong> qui est une suite de protocoles destinés au transfert de données sur le réseau internet.</li>
<li>On peut transférer via HTTP <strong>n’importe quel type de média</strong> ! Que cela soit du texte, du HTML, du JSON, des images, des films (pensez aux sites de streaming qui reposent grandement sur HTTP).</li>
<li>Le protocole HTTP est <strong>sans état</strong>, c’est à dire que le serveur ne se souviendra pas de vous entre vos requêtes, d’une certaine façon HTTP n’a pas de mémoire. Et cela lui va très bien (cf <a href="/2016/09/24/Pourquoi-utiliser-RAML-pour-designer-une-API-RESTful/">REST</a>)</li>
</ol>
<h2 id="Visualisation-d’une-requete-HTTP"><a href="#Visualisation-d’une-requete-HTTP" class="headerlink" title="Visualisation d’une requête HTTP"></a>Visualisation d’une requête HTTP</h2><p>Comment peut on visualiser une requête HTTP dans Chrome ? Rien de plus simple il suffit de :</p>
<ol>
<li>Cliquer sur <code>Afficher</code></li>
<li>Puis sur <code>Options pour les développeurs</code></li>
<li>Puis cliquez sur <code>outil de développement</code></li>
</ol>
<p>Vous verrez s’afficher la fenêtre vous permettant de surveiller l’activité de <strong>networking</strong> de votre navigateur, autrement dit toutes les requêtes qui sortent de votre machine :</p>
<p><img src="img/visualisation_http_chrome.png" alt="Les requêtes HTTP dans Chrome"></p>
<p>Nous voyons donc ici toutes les requêtes lancées par <strong>chrome</strong> à la visite du site <strong>Le Monde</strong>. Et cela en fait un sacré paquet ! En effet les éléments du site sont chargés via HTTP. Souvenez vous, ce protocole est multimédia ! On va y recourir (enfin notre navigateur) pour charger les images, les feuilles de style CSS, les pages HTML, le favicon…</p>
<p>Voici un exemple de requête HTTP.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Request URL:http://www.lemonde.fr/</span><br><span class="line">Request Method:GET</span><br></pre></td></tr></table></figure>
<p>L’URL permet de router notre requête vers le serveur correspondant au site web sur le réseau. Ensuite on précise la méthode, ici il s’agit de <strong>GET</strong>. La méthode <strong>GET</strong> est surtout celle utilisée pour charger les images et les pages  HTML. Il existe d’autres méthodes, appelées aussi <strong>verbes</strong> comme <strong>POST</strong> qui est utilisée notamment pour envoyer les données d’un formulaire sur un serveur. (par exemple pour envoyer votre formulaire d’inscription à Airbnb).</p>
<p> Mais une <strong>requête HTTP</strong> est aussi composée d’un <strong>header</strong> dont voici un exemple :</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">GET / HTTP/1.1</span><br><span class="line">Host: www.lemonde.fr</span><br><span class="line">Connection: keep-alive</span><br><span class="line">Cache-Control: max-age=0</span><br><span class="line">Upgrade-Insecure-Requests: 1</span><br><span class="line">User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.34 Safari/537.36</span><br><span class="line">Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8</span><br><span class="line">Accept-Encoding: gzip, deflate, sdch</span><br><span class="line">Accept-Language: fr-FR,fr;q=0.8,en-US;q=0.6,en;q=0.4</span><br><span class="line">Cookie: _ga=GA1.2.374864853.1475228586; xtvrn=<span class="variable">$43260</span>$; _cb_ls=1; lmdAbDay=1; __vrf=14752522666255dKTLyAPMbCEHo57kMWgskL26Q4Wie1W; __vrrefresh=http%253A%252F%252Fwww.lemonde.fr%252F; __utmt=1; __utma=194882738.374864853.1475228586.1475238480.1475252268.2; __utmb=194882738.1.10.1475252268; __utmc=194882738; __utmz=194882738.1475238480.1.1.utmcsr=google|utmccn=(organic)|utmcmd=organic|utmctr=(not%20provided); xtan43260=-; xtant43260=1; _cb=DQQzWqCueIlMC6ZCTd; _chartbeat2=.1475238481310.1475252269278.1; cdx_ses_1_10013=3342761584&amp;1577be3312a&amp;1577be3312a&amp;; kameleoonVisit=ml6c91nkhia4vvot/1/1475252301068/20160909/12726701/<span class="literal">true</span></span><br><span class="line">If-Modified-Since: Fri, 30 Sep 2016 16:10:47 GMT</span><br></pre></td></tr></table></figure>
<p>Chaque ligne est générée par notre client (notre navigateur web). D’un point de vue développeur <strong>il ne faut d’ailleurs jamais se fier au header car ces données peuvent être manipulées avant d’être envoyées</strong> et changées à volonté par n’importe quel développeur.</p>
<p>Voici le détail du header avec des explications pour chaque donnée</p>
<table>
<thead>
<tr>
<th style="text-align:center">Propriété</th>
<th style="text-align:center">Description</th>
<th style="text-align:center">Exemple</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Host</td>
<td style="text-align:center">Il s’agit du nom de domaine du serveur auquel on envoie la requête, on pécise aussi le port si celui-ci n’est pas 80</td>
<td style="text-align:center">www.lemonde.fr</td>
</tr>
<tr>
<td style="text-align:center">Connection</td>
<td style="text-align:center">Il s’agit du comportement de la connexion. Ici on va garder la connection TCP ouverte entre le moment entre les requêtes réponses, au lien d’en ouvrir une autre à chaque reprise</td>
<td style="text-align:center">keep-alive</td>
</tr>
<tr>
<td style="text-align:center">Cache-Control</td>
<td style="text-align:center">Cette propriété indique au cache du serveur s’il doit recharger la page à chaque reprise ou suivant un délai précis. Ici c’est le cas, on doit recharger à chaque fois la page</td>
<td style="text-align:center">max-age=0</td>
</tr>
<tr>
<td style="text-align:center">Upgrade-Insecure-Requests</td>
<td style="text-align:center">Indique au client que l’on préfèrera toujours une reconnection HTTPS si jamais celui-ci est en train de migrer entre HTTP et HTTPS</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">User-Agent</td>
<td style="text-align:center">Il s’agit de la chaine de caractère permettant d’identifier formellement le navigateur qui a généré la requête;  on y trouve sa version son développeur … Renseignement très intéressant pour le web analytics</td>
<td style="text-align:center">Mozilla/5.0 (Macintosh; ….</td>
</tr>
<tr>
<td style="text-align:center">Accept</td>
<td style="text-align:center">Indique le type de contenu (de média) que le client est en mesure d’accepter.</td>
<td style="text-align:center">text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,<em>/</em>;q=0.8</td>
</tr>
<tr>
<td style="text-align:center">Referer</td>
<td style="text-align:center">Indique la page d’où vient le visiteur. (très utile pour l’analyse de la provenance des visiteurs). Vous noterez la coquille (il manque un r) qui provient directement d’une erreur sur la RFC :)</td>
<td style="text-align:center"><a href="http://www.lemonde.fr/" target="_blank" rel="external">http://www.lemonde.fr/</a></td>
</tr>
<tr>
<td style="text-align:center">Accept-Encoding</td>
<td style="text-align:center">Spécifie le type de compression du contenu que le client (le navigateur) peut traiter. Le contenu est en effet souvent compresser pour optimiser le temps de transfert !</td>
<td style="text-align:center">gzip, deflate, sdch</td>
</tr>
<tr>
<td style="text-align:center">Accept-Language</td>
<td style="text-align:center">Spécifie quel langage le client accepte</td>
<td style="text-align:center">fr-FR,fr;q=0.8,en-US;q=0.6,en;q=0.4</td>
</tr>
<tr>
<td style="text-align:center">Cookie</td>
<td style="text-align:center">On retrouve ici le cookie (une série de données) qui avait été précédemment enregistré sur le navigateur de l’utilisateur et qui est renvoyé au serveur lors de chaque requêtes. On retrouve d’ailleurs ici des traces de Google Analytics</td>
<td style="text-align:center">_ga=GA1.2.374864853.1475228586; xtvrn=$43260$; _cb_ls=1</td>
</tr>
<tr>
<td style="text-align:center">If-Modified-Since</td>
<td style="text-align:center">Permet au serveur de renvoyer la réponse “304 Not modified” si jamais la page n’a pas été modifiée depuis la date indiquée</td>
<td style="text-align:center">Fri, 30 Sep 2016 16:16:34 GMT</td>
</tr>
</tbody>
</table>
<p>Précisons d’ailleurs que l’on peut mettre en place un <strong>système d’authentification</strong> utilisateur via les headers HTTP ! Le client rajoute simplement dans sa requête le nom d’utilisateur et le mot de passe demandé à l’utilisateur via une fenêtre native. Ce nom d’utilisateur est de mot de passe est encodé en <strong>base 64</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Authorization: Basic XXXXXXXXXXXX</span><br></pre></td></tr></table></figure></p>
<p>XXXXXXXXXXXX représentant l’encodage de la chaine nom_de_l_utilisateur : mot_de_passe ! Remarquez aussi que lorsque vous transmettez des <strong>données sensibles</strong> sur vos sites favoris et que ces derniers n’utilisent pas HTTPS (la version sécurisée du protocole HTTP) cela <strong>représente un réel danger</strong>, car toute requête peut être interceptée ! et dans une requête POST de transmission de formulaire <strong>vos données sont lisibles</strong>! Faites l’essai en essayant de remplir un formulaire et en surveillant la requête HTTP qui sera émise ! </p>
<p>J’espère que vous aurez maintenant envie d’ouvrir votre inspecteur chrome afin d’inspecter les requêtes que fait votre navigateur ! Cela peut être un moyen intéressant pour découvrir tous les services qu’un site utilise (par exemple les réseaux de pubilicités, les services de web analytics…). Fouillez !</p>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://maximilienandile.github.io/2016/09/30/Comprendre-les-headers-d-une-requete-HTTP/" data-id="citqxas6h000355kn8ua3xkbv" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
        <a href="http://maximilienandile.github.io/2016/09/30/Comprendre-les-headers-d-une-requete-HTTP/#disqus_thread" class="article-comment-link">
          <i class="fa fa-comment"></i> Comments
        </a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/HTTP/">HTTP</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-Machine-Learning-comment-fonctionne-la-classification-naive-Bayesienne" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/29/Machine-Learning-comment-fonctionne-la-classification-naive-Bayesienne/">Machine Learning : comment fonctionne la classification naïve Bayesienne</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/2016/09/29/Machine-Learning-comment-fonctionne-la-classification-naive-Bayesienne/" class="article-date"><time datetime="2016-09-29T08:38:02.000Z" itemprop="datePublished">29/09/2016</time></a>
</div>

    
    

  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Un-classifieur-rapide-et-econome-en-puissance-de-calcul"><a href="#Un-classifieur-rapide-et-econome-en-puissance-de-calcul" class="headerlink" title="Un classifieur rapide et économe en puissance de calcul"></a>Un classifieur rapide et économe en puissance de calcul</h2><h3 id="Qu’est-ce-qu’un-classifieur"><a href="#Qu’est-ce-qu’un-classifieur" class="headerlink" title="Qu’est ce qu’un classifieur ?"></a>Qu’est ce qu’un classifieur ?</h3><p>Un <strong>classifieur</strong> est un algorithme permettant de définir la classe d’un objet suivant certaines de ses propriétés. Pour bâtir notre classifieur nous avons à notre disposition un ensemble d’objets dont on connait la classe par avance. Ce set d’objet est appelé set d’<strong>entrainement</strong>.</p>
<p>Par exemple, nous souhaitons classé des textes selon deux classes : écrit scientifique OU écrit romanesque  (classification appelée binaire car composée de deux classes). Nous aurons donc à notre disposition un ensemble composé de 20 textes dont 12 classés “écrit romanesque” et les autres classés “écrit scientifique”.</p>
<p>Notre problème va donc consister à classer un nouveau texte en fonction de son contenu dans ces deux classes.</p>
<h3 id="Utilisation-de-la-theorie-des-probabilites"><a href="#Utilisation-de-la-theorie-des-probabilites" class="headerlink" title="Utilisation de la théorie des probabilités"></a>Utilisation de la théorie des probabilités</h3><p>Notre algorithme aura la lourde tâche de fournir une classe à notre nouveau texte. Notre approche dans le cas de la classification naïve Bayesienne va être <strong>probabiliste</strong>. Nous allons chercher à déterminer la probabilité que notre objet appartient à la classe “écrit romanesque” à la probabilité que notre écrit appartient à l’autre classe. Nous allons ensuite <strong>comparer</strong> ces deux probabilités pour sélectionner la plus <strong>grande</strong> des deux.</p>
<p>Trouver la classe revient donc à <strong>calculer deux grandeurs et les comparer</strong>. Ce qui si on compare à l’algorithme des K voisins les plus proches (voir l’article <a href="https://maximilienandile.github.io/2016/09/24/L-algorithme-des-K-voisins-les-plus-proches-et-son-implementation-en-Nodejs/">ici</a>) est très économe en calculs. Avant d’étudier plus en détail d’algorithme nous nous devons de faire un rappel sur les probabilités conditionnelles, qui constituent le fer de lance de cet algorithme.</p>
<h2 id="Un-passage-oblige-par-les-probabilites-conditionnelles"><a href="#Un-passage-oblige-par-les-probabilites-conditionnelles" class="headerlink" title="Un passage obligé par les probabilités conditionnelles"></a>Un passage obligé par les probabilités conditionnelles</h2><p>La probabilité d’un événement A est <strong>un nombre variant entre 0 et 1</strong> qui traduit le <strong>degrés de chance qu’un évènement A se produise</strong>. Plus on s’approche de la valeur 1 plus cet événement aura de chance de se dérouler.</p>
<p>Par exemple si on prend l’événement A “une élection va se dérouler en 2017”. La probabilité de cet événement est de 1 car il s’agit d’un événement certain.</p>
<p>Une <strong>probabilité conditionnelle</strong> est légèrement plus complète dans le sens où <strong>elle intègre dans son calcul un autre évènement</strong>. Ainsi une probabilité conditionnelle traduit le degrés de chance qu’un élément se produise <strong>sachant</strong> qu’un autre évènement s’est produit.</p>
<p>Par <strong>exemple</strong>, si on prend l’évènement A “réussite d’un test de maths”. L’évènement B “être mathématicien” et l’évènement C “avoir suivi un cursus scolaire littéraire”. Alors la probabilité de A sachant l’évènement B sera plus importante que la probabilité de A sachant l’événement C.</p>
<p>Mathématiquement on note une probabilité conditionnelle de deux façons :</p>
<span>$P_{B}(A) = P(A | B)$</span><!-- Has MathJax -->
<p>La formule des probabilités conditionnelles se calcul ainsi :</p>
<span>$P_{B}(A) = P(A | B) = \frac{P(A  \cap  B)}{P(B)}$</span><!-- Has MathJax -->
<h2 id="La-formule-de-Bayes"><a href="#La-formule-de-Bayes" class="headerlink" title="La formule de Bayes"></a>La formule de Bayes</h2><h3 id="Fonctionnement-theorique"><a href="#Fonctionnement-theorique" class="headerlink" title="Fonctionnement théorique"></a>Fonctionnement théorique</h3><p>Prenons un exemple afin de comprendre de quoi il en retourne. Imaginons un hôpital dans lequel on fait passer un test de dépistage de la tuberculose à certains patients. Les médecins dispose de données permettant d’établir que la fiabilité de ce test est de 90%, c’est à dire que 90% des tests sont fiables (les patients sont vraiment malades), il reste que 10% des tests sont des faux-positifs ou des faux-négatifs (le patient est bien malade mais dispose d’un test lui indiquant le contraire).</p>
<p>La formule de Bayes pourra nous donner la réponse à la question suivante : <strong>“sachant que le test de M.X est positif quel est la probabilité que celui-ci ne soit pas malade ?”</strong> On cherche donc à remonter dans le temps…</p>
<p>La formule de Bayes est définie ainsi :<br><span>$P_{B}(A) =  \frac{P_{A}(B).P(A)}{P(B)}$</span><!-- Has MathJax --></p>
<p>Si on n’applique la formule à notre exemple on aura :</p>
<ul>
<li>A : Ne pas être malade</li>
<li>B : Avoir un résultat de test positif</li>
</ul>
<p>Ainsi la probabilité de ne pas être malade sachant qu’on a un test de dépistage positif est le <strong>rapport</strong> <strong>entre</strong> la probabilité d’avoir un résultat positif sachant qu’on est malade multiplié par la probabilité de ne pas être malade <strong>et</strong> la probabilité d’avoir un résultat de test positif.</p>
<h3 id="Application-a-un-probleme-de-classification"><a href="#Application-a-un-probleme-de-classification" class="headerlink" title="Application à un problème de classification"></a>Application à un problème de classification</h3><p>On va chercher dans notre cas la probabilité qu’un objet appartient à la classe <strong>i</strong> sachant qu’il a les propriétés <strong>x</strong> et <strong>y</strong>. Soit :</p>
<center><br><span>$P_{x,y}(C_i)$</span><!-- Has MathJax --><br></center>



<p>Si on a <strong>deux classes (1 et 2)</strong> dans notre problème nous allons donc <strong>comparer</strong> deux grandeurs :</p>
<center><br><span>$P_{x,y}(C_1) et P_{x,y}(C_2)$</span><!-- Has MathJax --><br></center>


<p>Dans tous les cas nous devrons isoler des <strong>features</strong>, des propriétés relatives aux objets que nous souhaitons classer. Si nous souhaitons donc classer un document nous prendons par exemple 1000 propriétés correspondant chacune à la présence ou non d’un mot courant dans le texte.</p>
<h3 id="Pourquoi-cet-algorithme-est-il-naif"><a href="#Pourquoi-cet-algorithme-est-il-naif" class="headerlink" title="Pourquoi cet algorithme est-il naïf ?"></a>Pourquoi cet algorithme est-il naïf ?</h3><p>Nous faisons deux assomptions un peu naïves sur notre données :</p>
<ul>
<li>Les <strong>features</strong> ou les <strong>propriétés</strong> sont <strong>indépendantes</strong> les unes des autres. Or c’est rarement le cas, si on prend les classifications de textes la présence d’un mot peut être lié à la présence d’un autre mot !</li>
<li>On fait aussi le postulat que les <strong>features</strong> sont d’importances équivalentes dans la tâche de classification, ce qui n’est encore pas vraiment le cas. Pour certains textes la présence d’un mot ou d’un groupe de mot est très signifiant dans leur classe.</li>
</ul>
<h3 id="Application-en-NodeJS-via-le-module-“bayes”"><a href="#Application-en-NodeJS-via-le-module-“bayes”" class="headerlink" title="Application en NodeJS via le module “bayes”"></a>Application en NodeJS via le module “bayes”</h3><p>Nous allons créer un script permettant de classer des phrases selon deux classes : les phrases provenant de romans et ceux d’écrits scientifiques.</p>
<ul>
<li><p>Créez un nouveau dossier nommé <code>bayes_classifier</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir bayes_classifier</span><br></pre></td></tr></table></figure>
</li>
<li><p>Placez vous dans ce dossier</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> bayes_classifier</span><br></pre></td></tr></table></figure>
</li>
<li><p>Initialisez <code>npm</code></p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm init</span><br></pre></td></tr></table></figure>
<ul>
<li>Après avoir répondu à l’ensemble des questions installez le module <code>bayes</code></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install bayes --save</span><br></pre></td></tr></table></figure>
<ul>
<li><p>Créez un nouveau fichier <code>index.js</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ touch index.js</span><br></pre></td></tr></table></figure>
</li>
<li><p>Dans ce fichier faites un require du module bayes.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> bayes = <span class="built_in">require</span>(<span class="string">'bayes'</span>)</span><br><span class="line"><span class="keyword">var</span> classifier = bayes()</span><br></pre></td></tr></table></figure>
</li>
<li><p>Nous allons ensuite entrainer notre modèle pour reconnaître les écrits romanesques (fiction):</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Make the algorithm learn the training data</span></span><br><span class="line"><span class="comment">// The Great Gatsby</span></span><br><span class="line">classifier.learn(<span class="string">'Il me sourit avec une sorte de complicité - qui allait au-delà de la complicité.'</span>, <span class="string">'fiction'</span>)</span><br><span class="line"><span class="comment">// 1984 (Orwell)</span></span><br><span class="line">classifier.learn(<span class="string">'Celui qui a le contrôle du passé, disait le slogan du Parti, a le contrôle du futur. Celui qui a le contrôle du présent a le contrôle du passé.'</span>, <span class="string">'fiction'</span>)</span><br><span class="line"><span class="comment">// Le dernier Jour d'un Condamné (Hugo)</span></span><br><span class="line">classifier.learn(<span class="string">'Maintenant je suis captif. Mon corps est aux fers dans un cachot, mon esprit est en prison dans une idée.'</span>,<span class="string">'fiction'</span>)</span><br><span class="line"><span class="comment">// Guerre et Paix (Tolstoï)</span></span><br><span class="line">classifier.learn(<span class="string">'Oui, ils m ont accablé de reproches là-bas, et pour la guerre et pour la paix...'</span>,<span class="string">'fiction'</span>)</span><br><span class="line"><span class="comment">// Les Caractères (La Bruyères)</span></span><br><span class="line">classifier.learn(<span class="string">'on n aime qu une seule fois : c est la première ; les amours qui suivent sont moins involontaires.'</span>,<span class="string">'fiction'</span>)</span><br><span class="line"><span class="comment">// O.Wilde</span></span><br><span class="line">classifier.learn(<span class="string">"S'aimer soi-même, c'est l'assurance d'une longue histoire d'amour."</span>,<span class="string">"fiction"</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>Entrainons le maintenant pour reconnaître des écrits scientifiques (science):</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * MAKE IT LEARN SCIENCE...</span><br><span class="line"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//La sensibilité de l'activité mathématique aux ostensifs, BOSCH M.  ; CHEVALLARD Y. ;</span></span><br><span class="line">classifier.learn(<span class="string">'Les écritures, symboles, mots, discours, graphismes et gestes mobilisés dans l activité mathématique - soit ce que nous appelons, pour leur caractère matériel et perceptible, les objets ostensifs'</span>,<span class="string">'science'</span>)</span><br><span class="line"><span class="comment">// http://www.pourlascience.fr/ewb_pages/a/actu-des-panaches-de-vapeur-d-eau-observes-sur-europe-37639.php</span></span><br><span class="line">classifier.learn(<span class="string">"De nouvelles observations suggèrent que des geysers de vapeur d’eau jaillissent du pôle Sud de la lune glacée de Jupiter."</span>,<span class="string">"science"</span>)</span><br><span class="line"><span class="comment">// pourlascience</span></span><br><span class="line">classifier.learn(<span class="string">"La pédagogie haptique rend l'élève acteur de son enseignement. Il est alors plus réceptif aux connaissances qu'on veut lui transmettre."</span>,<span class="string">"science"</span>)</span><br><span class="line"><span class="comment">// http://cat.inist.fr/?aModele=afficheN&amp;cpsidt=207222</span></span><br><span class="line">classifier.learn(<span class="string">"La méthode est fondée sur une approche distributionnelle de la sémantique. Les classes sémantiques qu'il est possible d'apprendre à partir d'un corpus analysé"</span>,<span class="string">"science"</span>)</span><br><span class="line"><span class="comment">// https://hal.archives-ouvertes.fr/tel-00145147/</span></span><br><span class="line">classifier.learn(<span class="string">"Le panorama du Traitement Automatique des Langues est dominé par deux familles d'approches~: dans la première, la connaissance linguistique s'exprime sous forme de règles (grammaticales pour le traitement syntaxique, d'inférence pour le traitement sémantique, etc.)"</span>,<span class="string">"science"</span>)</span><br><span class="line"><span class="comment">// https://pdfs.semanticscholar.org/57d0/2d681a479094bbd570b7992952281c39e146.pdf</span></span><br><span class="line">classifier.learn(<span class="string">" Les outils disponibles de recherche d’information sur le Web ont une approche généraliste, ne prenant pas en compte les caractéristiques de l’utilisateur, ce qui limite la qualité des résultats"</span>,<span class="string">"science"</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>Maintenant nous allons tester notre modèle avec deux exemples non classés.</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// test the classifier</span></span><br><span class="line"><span class="keyword">var</span> f = classifier.categorize(<span class="string">"Je la contemplai avec une haine intense, celle qu'un cheveu seul sépare de l'amour ardent."</span>)</span><br><span class="line"><span class="keyword">var</span> s = classifier.categorize(<span class="string">" Par ailleurs la réalisation d’un système de ce type exige un assemblage de plusieurs techniques utilisées en apprentissage ou en recherche d’information "</span>)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"fiction"</span>,f);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"science"</span>,s);</span><br></pre></td></tr></table></figure>
<p>La console affiche :<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fiction fiction</span><br><span class="line">science science</span><br></pre></td></tr></table></figure></p>
<p>On a un résultat concordant ! Pour les impatients voici le repo contenant ce morceau de code : <a href="https://github.com/maximilienandile/bayes_classifier" target="_blank" rel="external">https://github.com/maximilienandile/bayes_classifier</a></p>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://maximilienandile.github.io/2016/09/29/Machine-Learning-comment-fonctionne-la-classification-naive-Bayesienne/" data-id="citqxas6u000c55knxrccyxvm" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
        <a href="http://maximilienandile.github.io/2016/09/29/Machine-Learning-comment-fonctionne-la-classification-naive-Bayesienne/#disqus_thread" class="article-comment-link">
          <i class="fa fa-comment"></i> Comments
        </a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Machine-Learning/">Machine Learning</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-L-algorithme-des-K-voisins-les-plus-proches-et-son-implementation-en-Nodejs" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/24/L-algorithme-des-K-voisins-les-plus-proches-et-son-implementation-en-Nodejs/">L&#39;algorithme des K voisins les plus proches et son implémentation en NodeJs</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/2016/09/24/L-algorithme-des-K-voisins-les-plus-proches-et-son-implementation-en-Nodejs/" class="article-date"><time datetime="2016-09-24T15:14:17.000Z" itemprop="datePublished">24/09/2016</time></a>
</div>

    
    

  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Un-algorithme-simple-mais-gourmand-en-memoire"><a href="#Un-algorithme-simple-mais-gourmand-en-memoire" class="headerlink" title="Un algorithme simple mais gourmand en mémoire"></a>Un algorithme simple mais gourmand en mémoire</h2><p>L’algorithme des K voisins les plus proches repose sur la notion de <strong>distance</strong> entre des éléments classifiés et des nouveaux éléments à classer. La tâche principale de cet algorithme est de pouvoir <strong>prévoir une catégorisation d’un objet à partir d’objets dont on connait la déjà la catégorie</strong>.</p>
<p>L’idée est de décortiquer nos objets suivants des propriétés nominales ou numériques et pour classer un nouvel objet, il suffit d’identifier les éléments les plus <strong>proches</strong>, les plus semblables. C’est pourquoi on parle de voisins. La lettre K fait quand à elle référence au nombre de voisins que l’on doit étudier pour déterminer la classe.</p>
<p>Si in prends par exemple la classification de détection de la musique électronique, dont le but serait d’identifier les morceaux de musique électronique et ceux qui ne le sont pas. On pourrait imaginer un algorithme étudiant le tempo et le nombre de mots chantés par l’artiste. On aurait déjà une centaine de morceaux étudiés et classé. Lorsqu’on veut classer un nouveau morceau il suffirait de regarder ces deux indicateurs pour déterminer une ressemblance avec l’ensemble des morceaux déjà catégorisés…</p>
<h2 id="Un-exemple"><a href="#Un-exemple" class="headerlink" title="Un exemple !"></a>Un exemple !</h2><p>Pour bien comprendre notre algo nous allons prendre un exemple réel, celui de l’immobilier. Imaginons une agence pourvue d’un jeune stagiaire qui souhaiterait prédire le temps de vente d’un bien.</p>
<p>Toute chose égales par ailleurs il pourrait considérer deux facteurs : le nombre de parcs publics présents à moins de 20 min à pied du logement et le nombre de pièces.</p>
<h3 id="Donnee-d’entrainement"><a href="#Donnee-d’entrainement" class="headerlink" title="Donnée d’entrainement"></a>Donnée d’entrainement</h3><p>Ce dernier va donc constituer <strong>un set de données d’entrainement</strong> avec l’ensemble des transactions de son agence. Chaque bien est donc classé en deux catégories : ceux qui se sont vendus rapidement et ceux qui ont nécessité un temps plus important pour être cédés.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Bien 1 : Pièces : 1 - Parcs : 2 - Catégorie : vendu rapidement</span><br><span class="line">Bien 2 : Pièces : 2 - Parcs : 3 - Catégorie : vendu rapidement</span><br><span class="line">Bien 3 : Pièces : 1 - Parcs : 1 - Catégorie : vendu rapidement</span><br><span class="line">Bien 4 : Pièces : 3 - Parcs : 0 - Catégorie : vendu rapidement</span><br><span class="line">Bien 5 : Pièces : 1 - Parcs : 1 - Catégorie : vendu rapidement</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h3 id="Nouvel-exemple-a-classer"><a href="#Nouvel-exemple-a-classer" class="headerlink" title="Nouvel exemple à classer"></a>Nouvel exemple à classer</h3><p>Tout le bureau est excité, on rentre un nouvel appartement (2 pièces, et 2 parcs à proximité) ! Chacun y va de son pronostique, mais notre stagiaire a une méthode secrète :</p>
<p>Il va donc déterminer la distance de ce nouveau bien avec chacun des biens déjà vendus et il va déduire des trois biens les plus proches pour savoir ce qu’il en sera de ce bien.</p>
<p>L’algorithme va donc consister à un calcul de distance puis on va sélectionner la classe dominante parmi les 3 classes des 3 voisins les plus proches.</p>
<h2 id="Mise-en-pratique-avec-Nodejs"><a href="#Mise-en-pratique-avec-Nodejs" class="headerlink" title="Mise en pratique avec Nodejs"></a>Mise en pratique avec Nodejs</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// nous ferons grand usage du module</span></span><br><span class="line"><span class="comment">// lodash qui est bien pratique lorsqu'on</span></span><br><span class="line"><span class="comment">// travaille sur des tableaux avec nodejs (https://lodash.com/)</span></span><br><span class="line"><span class="keyword">var</span> _ = <span class="built_in">require</span>(<span class="string">'lodash'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// On crée une variable data contenant un Array de l'ensemble de nos</span></span><br><span class="line"><span class="comment">// appartements déjas vendus dans le passé (cahcun des apprt est dans un sous tableau,</span></span><br><span class="line"><span class="comment">// le premier chiffre présentant le nombre de pièces, le second le nombre de parcs)</span></span><br><span class="line"><span class="keyword">var</span> data_training = [[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">2</span>,<span class="number">3</span>],[<span class="number">1</span>,<span class="number">1</span>],[<span class="number">3</span>,<span class="number">0</span>],[<span class="number">1</span>,<span class="number">1</span>]];</span><br><span class="line"><span class="comment">// Pour chaque élément de notre tableau on associe une étiquette</span></span><br><span class="line"><span class="keyword">var</span> labels = [<span class="string">"vendu"</span>, <span class="string">"non_vendu"</span>,<span class="string">"non_vendu"</span>,<span class="string">"vendu"</span>,<span class="string">"vendu"</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">//Partie 2 :  Notre élément à classer</span></span><br><span class="line"><span class="comment">// 2 pièces, 2 parcs à proximité (l'ordre est capital !)</span></span><br><span class="line"><span class="keyword">var</span> element_to_class = [<span class="number">2</span>,<span class="number">2</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// on crée un array vide</span></span><br><span class="line"><span class="comment">// pour contenir l'ensemble de nos résultats de cacul de distance</span></span><br><span class="line"><span class="keyword">var</span> array_of_results =[]</span><br><span class="line"></span><br><span class="line"><span class="comment">//Partie 3 :  calcul de la distance</span></span><br><span class="line"><span class="comment">// on itère sur notre set d'entrainement</span></span><br><span class="line">_.forEach(data_training, <span class="function"><span class="keyword">function</span>(<span class="params">element_of_array, key</span>) </span>&#123;</span><br><span class="line"> <span class="comment">// Pour le premier passage dans la boucle</span></span><br><span class="line"> <span class="comment">// element_of_array= [1,2]</span></span><br><span class="line"> <span class="comment">// calcul ( Xa0 - Xb0 )^2</span></span><br><span class="line"> <span class="keyword">var</span> difference_square_first_feature = (element_to_class[<span class="number">0</span>]-element_of_array[<span class="number">0</span>])*(element_to_class[<span class="number">0</span>]-element_of_array[<span class="number">0</span>])</span><br><span class="line"> <span class="comment">// calcul ( Xa1 - Xb1 )^2</span></span><br><span class="line"> <span class="keyword">var</span> difference_square_second_feature = (element_to_class[<span class="number">1</span>]-element_of_array[<span class="number">1</span>])*(element_to_class[<span class="number">1</span>]-element_of_array[<span class="number">1</span>])</span><br><span class="line"> <span class="comment">// Calcul de la différence euclidienne</span></span><br><span class="line"> <span class="keyword">var</span> euclidean_distance = <span class="built_in">Math</span>.sqrt(difference_square_first_feature + difference_square_second_feature)</span><br><span class="line"></span><br><span class="line"> <span class="comment">// Création d'un objet contenant le résultat du calcul de la distance</span></span><br><span class="line"> <span class="keyword">var</span> result = &#123;&#125;</span><br><span class="line"> result.euclidean_distance = euclidean_distance</span><br><span class="line"> result.label = labels[key]</span><br><span class="line"></span><br><span class="line"> <span class="comment">// on pousse cet objet dans notre tableau</span></span><br><span class="line"> array_of_results.push(result)</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// nous devons maintenant trouver les trois classes dont la distance est la plus faible</span></span><br><span class="line"><span class="comment">// pour trouver la classe de notre élément à classe (element_to_class)</span></span><br><span class="line"><span class="comment">// Nous classons donc le tableau array_of_results par la propriété euclidean_distance</span></span><br><span class="line"><span class="comment">// de manières ascendate (asc)</span></span><br><span class="line"><span class="keyword">var</span> array_ordened = _.orderBy(array_of_results, [<span class="string">'euclidean_distance'</span>], [<span class="string">'asc'</span>]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// nous prenons les trois premiers voisins</span></span><br><span class="line"><span class="keyword">var</span> three_first = _.take(array_ordened, <span class="number">3</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//three first sera égale à</span></span><br><span class="line"><span class="comment">//[ &#123; euclidean_distance: 33, label: 'non_vendu' &#125;,</span></span><br><span class="line"><span class="comment">// &#123; euclidean_distance: 36.013886210738214, label: 'non_vendu' &#125;,</span></span><br><span class="line"><span class="comment">// &#123; euclidean_distance: 37, label: 'vendu' &#125; ]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> vote_for_label_vendu = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">var</span> vote_for_label_non_vendu = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// pour chcun des trois premiers voisins nous comptons les votes</span></span><br><span class="line">_.forEach(three_first, <span class="function"><span class="keyword">function</span>(<span class="params">element,key</span>)</span>&#123;</span><br><span class="line"> <span class="keyword">if</span>(element.label == <span class="string">"vendu"</span>)&#123;</span><br><span class="line">    vote_for_label_vendu ++;</span><br><span class="line"> &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">    vote_for_label_non_vendu ++;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(vote_for_label_vendu&gt;vote_for_label_non_vendu)&#123;</span><br><span class="line"> <span class="built_in">console</span>.log(<span class="string">"Ce bien sera vendu rapidement"</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"> <span class="built_in">console</span>.log(<span class="string">"Ce bien ne sera pas vendu rapidement"</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Pour pouvoir exécuter ce code :</p>
<ol>
<li>Créez un dossier sur votre ordinateur (p.ex immobilier)</li>
<li><p>Ouvres un terminal et déplacez vous avec la commande cd (change directory)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cd immobilier</span><br></pre></td></tr></table></figure>
</li>
<li><p>Installez lodash (via npm qu’il faut d’abord initialiser)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ npm init</span><br><span class="line">$ npm install lodash --save</span><br></pre></td></tr></table></figure>
</li>
<li><p>Créez votre fichier index.js (soit directement via le terminal ou bien avec votre éditeur de code préféré). Ce dernier contiendra le code</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ touch index.js</span><br></pre></td></tr></table></figure>
</li>
<li><p>Copiez le code précédent.</p>
</li>
<li>Lancez l’algorithme  !<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ node index.js</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>Pour bien comprendre je vous invite à reprendre ligne par ligne et d’essayer de le réécrire à votre sauce (l’utilisation de <strong>lodash</strong> (<a href="https://lodash.com/" target="_blank" rel="external">https://lodash.com/</a>) n’est pas obligatoire mais très conseillée)</p>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://maximilienandile.github.io/2016/09/24/L-algorithme-des-K-voisins-les-plus-proches-et-son-implementation-en-Nodejs/" data-id="citqxas6x000d55knu1e2flqb" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
        <a href="http://maximilienandile.github.io/2016/09/24/L-algorithme-des-K-voisins-les-plus-proches-et-son-implementation-en-Nodejs/#disqus_thread" class="article-comment-link">
          <i class="fa fa-comment"></i> Comments
        </a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Machine-Learning/">Machine Learning</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-Pourquoi-utiliser-RAML-pour-designer-une-API-RESTful" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/24/Pourquoi-utiliser-RAML-pour-designer-une-API-RESTful/">Pourquoi utiliser RAML pour designer une API RESTful</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/2016/09/24/Pourquoi-utiliser-RAML-pour-designer-une-API-RESTful/" class="article-date"><time datetime="2016-09-24T08:39:00.000Z" itemprop="datePublished">24/09/2016</time></a>
</div>

    
    

  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Qu’est-ce-qu’un-API"><a href="#Qu’est-ce-qu’un-API" class="headerlink" title="Qu’est ce qu’un API"></a>Qu’est ce qu’un API</h2><p>On a souvent tendance à limiter l’API aux applications web, mais ces dernières sont définies et utilisées au sein de presque tous les langages, applications elles supportent même la programmation et le design d’interface pour le hardware.</p>
<p>API signifie “Application programming interface”, littéralement il s’agit d’une boite à outils contenants l’ensemble du matériel nécessaire pour bâtir un logiciel. Il s’agit de l’ensemble des blocs de construction permettant aux développeurs de bâtir un nouveau logiciel sur une base existante, cette base existante de fonctionnalités étant mise à la disposition du développeur <strong>via</strong> l’API.</p>
<p>Les API sont <strong>protéiformes</strong>, elles sont mises à disposition par les langages de programmation. Par exemple NodeJS fournit au développeur un <strong>ensemble de méthodes et de fonctions pré codées lui permettant de bâtir des programmes sans avoir à réinventer la roue à chaque reprise</strong>.</p>
<p>Prenons l’exemple simple d’un programme que nous souhaiterions construire dont l’unique but est d’ouvrir un fichier sur le disque et d’afficher son contenu. Afin d’utiliser l’API de Nodejs nous allons donc regarder sa documentation et chercher l’outil nous permettant d’ouvrir un fichier et de le lire. Nous trouvons la documentation de cette api sur cette page <a href="https://nodejs.org/api/fs.html" target="_blank" rel="external">https://nodejs.org/api/fs.html</a>.</p>
<p><img src="img/example_presentation_api_nodejs.png" alt="Example de la documentation de l&#39;API de NOdejs"></p>
<p>Au passage, nous abordons ici un point fondamental, la documentation. Une bonne API est bien <strong>documentée</strong> afin de permettre au développeur de bâtir avec rapidité.</p>
<h2 id="Les-API-Web"><a href="#Les-API-Web" class="headerlink" title="Les API Web"></a>Les API Web</h2><p>Nous avons abordé les API fournies par les langages de programmations et les programmes développés à partir de ces derniers mais ce qui va surtout nous intéresser dans cet article ce sont les API Web RESTful.</p>
<p>Une API web est là aussi un ensemble de <strong>ressources</strong> mis à la disposition des développeurs par d’autres développeurs d’application.</p>
<p>Dans la plupart des cas ou nous faisons usage des API Web il s’agit en effet de récupérer de la données d’autres applications. Par exemple nous pouvons utiliser l’API de Twitter pour récupérer l’ensemble des tweets d’un utilisateur. La <strong>récupération de données est usage mais pas le seul des API Web</strong>, Twitter ainsi mets à la disposition des développeurs des API d’authentification leur permettant de laisser gérer par Twitter l’authentification de leur site par Twitter ! C’est aussi le cas de Facebook par exemple avec le Facebook login button.</p>
<p>La <strong>tendance est grande et stratégiquement intéressantes</strong> pour les entreprises de mettre à la disposition leurs données à d’autres entreprises afin que ces dernières créent de la valeur par leur biais. Valeur qui est ensuite récupéré soit directement par un paiement à l’appel (au <code>call</code>) ou indirectement par la croissance de données récupérées sur l’utilisateur final…</p>
<h2 id="REST"><a href="#REST" class="headerlink" title="REST"></a>REST</h2><p> Derrière cette notion d’API Web on rajoute souvent le mot RESTful. Ce dernier terrorise pas mal de développeurs car il sous entend de nombreuses contraintes dans le développement d’une API. Au passage REST signifie (REpresentational State Transfer).</p>
<p> REST est un style architectural pensé dans les années 60 par <strong>Roy Fielding</strong> dans sa thése de doctorat (plus précisément chapitre 5 :)<br> (Pour les curieux voici une traduction française : <a href="http://opikanoba.org/tr/fielding/rest/" target="_blank" rel="external">http://opikanoba.org/tr/fielding/rest/</a>).</p>
<p> Il va donc s’agir pour le créateur de l’API (vous par exemple) de suivre scrupuleusement les principes architecturaux de Roy afin de pouvoir vous vanter d’avoir bâti une API RESTful. Ces principes étant forgés pour une bonne raison, elles assurent que votre API se comportera de manière identique pour 5 utilisateurs comme pour 5 millions (notion de scalabilité). Elle assurera aussi que votre API sera compréhensible par tous le monde car tous le monde utilise le même modèle, (pas forcément le même langage de programmation mais du moins le même mode de fonctionnement)</p>
<p> Nous allons passer brièvement sur les contraintes (qui feront surement l’objet d’un autre article de ma part afin de creuser un peu plus le sujet)</p>
<h2 id="Des-contraintes-architecturales-pensees-pour-notre-bien…"><a href="#Des-contraintes-architecturales-pensees-pour-notre-bien…" class="headerlink" title="Des contraintes architecturales pensées pour notre bien…"></a>Des contraintes architecturales pensées pour notre bien…</h2><p> <strong>Une API RESTFul: :</strong></p>
<ol>
<li><p><strong>Est sans états (Stateless)</strong> : lorsque vous appelez l’API a plusieurs reprises et vous faites la même demande l’API ne se souviendra pas de vos demandes précédentes car elle n’a pas de mémoire. On ne stocke pas d’informations entre les requêtes. Cette contraintes est directement lié au protocole HTTP qui lui même ne conserve pas d’états.</p>
</li>
<li><p><strong>A la possibilité de mettre en “cache” certaines informations.</strong> Par exemple imaginons qu’un nombre important de développeur utilise l’API Open Graph de Facebook pour retrouver le profil de Zuck. On peut parier que cette requête est faite de nombreuses reprises. Facebook (le producteur de l’API) va sans aucun doute <strong>mettre en mémoire la réponse</strong> à cette requête afin d’économiser le temps de recherche dans ces bases de données. La seule contrainte imposée au développeur RESTful est de préciser à l’utilisateur que l’information est en cache. (Afin de ne pas afficher à nos propres utilisateurs des informations non à jour, si jamais Zuck décide de divorcer par exemple)</p>
</li>
<li><p><strong>Doit et peut avoir un système composé de serveurs multiples ou l’information est répliqué</strong>. Facebook par exemple n’a pas qu’un seul serveur, mais dispose d’une armada de machines qui peuvent répondre à la même requête. Cette caractéristique couplée à la première permet d’avoir un système qui va <strong>monter en charge</strong> sans embûche, car si il y a un pic de demande on peut rajouter des serveurs à la volée dans le système.</p>
</li>
<li><p><strong>Une interface uniforme</strong> : cette contrainte est un peu plus difficile à comprendre car elle regroupe elle même 4 contraintes. Ce qu’il est important de retenir est que chaque ressource (données mise à disposition : par exemple le profil Facebook, la liste d’amis, la liste des likes…) est <strong>correctement identifiée</strong> dans les call que l’on va faire à l’API. Je zappe volontairement la contrainte de manipulation des ressources via leur représentation ainsi que la contrainte HATEOAS, traité dans un prochain article. Vient ensuite la notion des messages de retour de l’API. Ces derniers doivent être auto-descriptifs, c’est à dire que le développeur doit comprendre immédiatement ce que l’API revoit. Par exemple en cas d’erreur le développeur doit prévenir le client de son API de la cause de cette dernière.</p>
<h2 id="Batir-une-API-RESTful"><a href="#Batir-une-API-RESTful" class="headerlink" title="Bâtir une API RESTful"></a>Bâtir une API RESTful</h2><p>Tout cela est bel et bon, mais comment donc bâtir avec ces contraintes ? Le défi est important si l’on ne part pas d’une base. Eh bien figurez vous que vous n’êtes pas seul à avoir embrassé la difficulté du REST car des Frameworks existent et permettent de démarrer très rapidement sans avoir à trop transpirer sur vos claviers.</p>
<p>Le sauveur est nommé <strong>RAML</strong>. RAML (<strong>RESTful API Modeling Language</strong>) est un langage vous permettant de désigné une API très rapidement respectant les principes architecturaux de REST. RAML permet de respecter les contraintes tout en étant très facile à lire (il repose sur le langage YAML, format de présentation de données très facile à lire développé par <strong>Clark Evans</strong> en 2001).</p>
<p>Sa facilité de lecture lui permet d’être compréhensible par l’ensemble de la communauté des développeurs. En fait une API grâce à RAML est définit dans un simple fichier. Dans ce dernier on peut voir immédiatement ce que cette dernière fait. Procédé ainsi permet d’avoir un système maintenable sur le long terme.</p>
<blockquote>
<p>Unfortunately, people are fairly good at short-term design, and usually awful at long-term design (Roy Fielding)</p>
</blockquote>
</li>
</ol>
<p>RAML permet d’avoir une rédaction de spécification claire précise efficace et maintenable sur le long terme même si les équipes évoluent. Il est fini le temps ou un seul élément détient le savoir sur le fonctionnement d’une machine.</p>
<p>En guise d’introduction voici un exemple de fichier RAMML définissant une API simple :</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#%RAML 0.8</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> Facebook API</span><br><span class="line"><span class="attr">baseUri:</span> http://api.fbbbb.com/&#123;version&#125;</span><br><span class="line"><span class="attr">version:</span> v1</span><br><span class="line"></span><br><span class="line">/users:</span><br><span class="line">  /&#123;username&#125;</span><br><span class="line"><span class="attr">    get:</span></span><br><span class="line"><span class="attr">      queryParameters:</span></span><br><span class="line"><span class="attr">        first_name:</span></span><br><span class="line"><span class="attr">          displayName:</span> First Name</span><br><span class="line"><span class="attr">          type:</span> string</span><br><span class="line"><span class="attr">          description:</span> The First Name of an user</span><br><span class="line"><span class="attr">          example:</span> Joe</span><br><span class="line"><span class="attr">          required:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">        last_name:</span></span><br><span class="line"><span class="attr">          displayName:</span> Last Name</span><br><span class="line"><span class="attr">          type:</span> string</span><br><span class="line"><span class="attr">          description:</span> The Lasr Name of an user</span><br><span class="line"><span class="attr">          example:</span> Doe</span><br><span class="line"><span class="attr">          required:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">    put:</span></span><br><span class="line"><span class="attr">      queryParameters:</span></span><br><span class="line"><span class="attr">        access_token:</span></span><br><span class="line"><span class="attr">          displayName:</span> Access Token</span><br><span class="line"><span class="attr">          type:</span> string</span><br><span class="line"><span class="attr">          description:</span> Token giving you permission t put info</span><br><span class="line"><span class="attr">          required:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<p>Ce fichier RAML définit une API imaginaire de Facebook (qui existe bel et bien) permettant de <strong>retrouver des informations sur un utilisateur en particulier</strong> (son prenom et nom).</p>
<p>Par exemple pour recevoir les informations concernant l’utilisateur “jonhdoe75” nous allons juste devoir faire un call sur l’URL suivant :<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://api.fbbbb.com/v1/users/jonhdoe75</span><br></pre></td></tr></table></figure></p>
<p> La seconde étape consiste à construire l’ensemble de la logic derrière cahque call. Cela peut être fait grâce à Sosprey avec NodeJS (<a href="http://www.raml.org/blogs/osprey-out" target="_blank" rel="external">http://www.raml.org/blogs/osprey-out</a>).</p>
<p> Voici un article à lire pour finir :</p>
<ul>
<li><a href="https://github.com/raml-org/raml-tutorial/blob/master/tutorial.md" target="_blank" rel="external">https://github.com/raml-org/raml-tutorial/blob/master/tutorial.md</a><br>Il s’agit d’un bon tutorial pour commencer à écrire vos premiers fichiers RAML.</li>
</ul>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://maximilienandile.github.io/2016/09/24/Pourquoi-utiliser-RAML-pour-designer-une-API-RESTful/" data-id="citqxas6z000h55knc1ebfyx7" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
        <a href="http://maximilienandile.github.io/2016/09/24/Pourquoi-utiliser-RAML-pour-designer-une-API-RESTful/#disqus_thread" class="article-comment-link">
          <i class="fa fa-comment"></i> Comments
        </a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/REST/">REST</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-Comment-installer-PHPUnit-sur-macOs-sur-un-projet-PHP-existant-et-ecrire-un-test" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/23/Comment-installer-PHPUnit-sur-macOs-sur-un-projet-PHP-existant-et-ecrire-un-test/">Comment installer PHPUnit sur macOs sur un projet PHP existant et écrire son premier cas de test</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/2016/09/23/Comment-installer-PHPUnit-sur-macOs-sur-un-projet-PHP-existant-et-ecrire-un-test/" class="article-date"><time datetime="2016-09-23T11:52:41.000Z" itemprop="datePublished">23/09/2016</time></a>
</div>

    
    

  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p>PHPUnit est un Framework puissant permettant d’automatiser des tests unitaires sur une application écrite en PHP.</p>
<h2 id="Qu’est-ce-qu’un-test-unitaire"><a href="#Qu’est-ce-qu’un-test-unitaire" class="headerlink" title="Qu’est ce qu’un test unitaire"></a>Qu’est ce qu’un test unitaire</h2><p>Usuellement il s’agit d’un morceau de code source permettant de <strong>tester si une fonction (ou une méthode d’une classe en POO) a le fonctionnement attendu.</strong></p>
<p>Ainsi dans l’idéal, <strong>chaque fonction de notre application doit avoir un test associé</strong>. Le rapport entre le nombre de fonctions étant testés effectivement par un test unitaire ET le nombre de fonctions non testés donne une indication de la couverture du code (<code>code coverage</code>)</p>
<p>Chaque test unitaire doit être en général indépendant car associé à une seule et même fonction. Il se peut par contre que l’exécution de la <code>suite de tests</code> nécessite l’exécution d’un <strong>script de démarrage</strong>.</p>
<p>Par exemple si vous voulez tester que la fonction f renvoi bien le nombre de point qu’un de vos utilisateurs a récolté, il faudra bien qu’un script exécuté avant toute chose crée cette utilisateur et lui associé un nombre de points, afin de vérifier si le résultat est bien celui attendu.</p>
<p>Ecrire des tests unitaires permet d’avoir un code modulaire et évolutif qui sépare correctement l’interface de l’implémentation. Le module qui est suffisamment testé peut être réutilisé dans un développement ultérieur.</p>
<h2 id="Avantages-des-tests-unitaires"><a href="#Avantages-des-tests-unitaires" class="headerlink" title="Avantages des tests unitaires"></a>Avantages des tests unitaires</h2><p>Avoir une application avec des tests unitaires permet de livrer en production des versions de votre application fonctionnelle en toute confiance. Par exemple, votre équipe a développé une grosse brique fonctionnelle susceptible d’impacter d’autres fonctionnalités du site. Livrer sur l’environnement de production une telle modification peut être catastrophique. Le passage en revue de tous les tests permettra de s’assurer que cette nouvelle fonctionnalité fonctionne de manière attendu sans détériorer l’existant (on appelle ce cas une <code>régression fonctionnelle</code>).</p>
<p>Rédiger des tests pour chaque fonction nécessite un temps additionnel pour le développeur mais en rédigeant des tests de qualité, cela améliorera intrinsèquement la documentation du code. Un nouvel arrivant pourra se référer aux tests pour comprendre le fonctionnement de telle fonction.</p>
<h2 id="Installation-de-PHPUnit-sur-macOs"><a href="#Installation-de-PHPUnit-sur-macOs" class="headerlink" title="Installation de PHPUnit sur macOs"></a>Installation de PHPUnit sur macOs</h2><ol>
<li><p>Ouvrez votre terminal</p>
</li>
<li><p>Dans ce dernier tapez les commandes suivantes</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ curl https://phar.phpunit.de/phpunit.phar -L -o phpunit.phar</span><br><span class="line">$ chmod +x phpunit.phar</span><br><span class="line">$ mv phpunit.phar /usr/local/bin/phpunit</span><br></pre></td></tr></table></figure>
<p><strong>NB</strong> : Ne pas recopier le symbole dollar ($), il s’agit ici d’une convention d’écriture dans le terminal.</p>
<p>Ces 3 commandes permettent de télécharger <code>phpunit.phar</code>. The <code>chmod</code>command va modifier les droits d’accès du fichier <code>phpunit.phar</code>. Plus précisément cela va donner le droit de lecture et d’exécution du fichier à tous les utilisateurs, les groupes et les autres parties du système.</p>
<p>La commande <code>mv</code>permet quand à elle de changer de place ce fichier, de l’emplacement actuel à l’emplacement <code>/usr/local/bin/phpunit</code></p>
<ol>
<li>Afin de vérifier si l’installation s’est bien déroulée veillez à exécuter cette commande :</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ phpunit -version</span><br></pre></td></tr></table></figure>
<p>Si l’installation est OK vous devriez voir s’afficher dans votre terminal la ligne suivante :<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PHPUnit 5.5.0 by Sebastian Bergmann and contributors.</span><br></pre></td></tr></table></figure></p>
<p>(La version peut changer)</p>
<h2 id="Configuration-d’un-projet-existant-et-redaction-du-premier-test"><a href="#Configuration-d’un-projet-existant-et-redaction-du-premier-test" class="headerlink" title="Configuration d’un projet existant et rédaction du premier test"></a>Configuration d’un projet existant et rédaction du premier test</h2><ol>
<li>Sur un projet existant la première étape va consister à créer un dossier nommé <code>tests</code> à la racine de votre dossier.</li>
</ol>
<p>Dans ce dernier vous allez placer tous vos tests. La règle étant que pour chaque classe de votre projet (si vous utilisez la POO) un fichier devra être créé.</p>
<p>La convention de nommage que j’utilise personnellement est la suivante :<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NomDeVotreClasseTests.php</span><br></pre></td></tr></table></figure></p>
<p>ou en camel case :<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nom_de_la_classe_tests.php</span><br></pre></td></tr></table></figure></p>
<ol>
<li>Ainsi si vous avez une classe <code>Utilisateur</code> définie au sein du fichier <code>Utilisateur.php</code> vous trouverez en miroir un fichier de test de cette classe nommé <code>UtilisateurTests.php</code></li>
</ol>
<p>Ce fichier aura toujours une composition identique :</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//fichier : tests/UtilisateurTests.php</span></span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// Réglage de la time zone</span></span><br><span class="line">date_default_timezone_set(<span class="string">'America/Los_Angeles'</span>);</span><br><span class="line"><span class="comment">// Si vous utilisez composer (le gestionnaire de package, ajoutez cette ligne)</span></span><br><span class="line"><span class="keyword">require_once</span> <span class="keyword">__DIR__</span> .<span class="string">'/../vendor/autoload.php'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UtilisateurTests</span> <span class="keyword">extends</span> <span class="title">TestCase</span></span><br><span class="line"></span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// il s'agit ici de la structure d'un test unitaire pour la méthode</span></span><br><span class="line">  <span class="comment">// function_number_one de notre Utilisateur</span></span><br><span class="line">  <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">test_function_number_one</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Nous avons donc ici la classe permettant de tester la classe <code>Utilisateur</code>.<br>Cette classe se nomme <code>UtilisateurTests</code> et il s’agit d’une extension de la classe <code>TestCase</code>. Cette dernière est une classe interne à PHPUnit et elle nous permet d’utiliser des méthodes faciles pour écrire nos tests.</p>
<p>Ici un seul test unitaire est définit. En fait un test unitaire est une méthode de la classe de test (<code>UtilisateurTests</code>). Chaque test va donc tester une méthode de notre classe <code>Utilisateur</code>.</p>
<ol>
<li>L’étape suivante consiste à écrire effectivement notre test.</li>
</ol>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// fichier : tests/UtilisateurTests.php</span></span><br><span class="line"><span class="comment">// Réglage de la timezone</span></span><br><span class="line">date_default_timezone_set(<span class="string">'America/Los_Angeles'</span>);</span><br><span class="line"><span class="comment">// Si vous utilisez composer (le gestionnaire de package, ajoutez cette ligne)</span></span><br><span class="line"><span class="keyword">require_once</span> <span class="keyword">__DIR__</span> .<span class="string">'/../vendor/autoload.php'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UtilisateurTests</span> <span class="keyword">extends</span> <span class="title">TestCase</span></span><br><span class="line"></span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// il s'agit ici de la structure d'un test unitaire pour la méthode</span></span><br><span class="line">  <span class="comment">// function_number_one de notre Utilisateur</span></span><br><span class="line">  <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">test_function_number_one</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// instanciation de notre classe Utilisateur</span></span><br><span class="line">    $instance_utilisateur = <span class="keyword">new</span> Utilisateur();</span><br><span class="line">    <span class="comment">// execution de la méthode à tester</span></span><br><span class="line">    $resultat_function_number_one = $instance_utilisateur -&gt; function_number_one(<span class="number">123</span>);</span><br><span class="line">    <span class="comment">// TEST du résultat attendu</span></span><br><span class="line">    $this-&gt;assertEquals(<span class="string">"resultat attendu"</span>, $resultat_function_number_one);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Le cas de test consiste simplement à lancer la méthode function_number_one avec le paramètre 123.<br>Nous allons ensuite tester si le résultat d’exécution de cette méthode est bien égale au résultat attendu grâce à la ligne <code>$this-&gt;assertEquals(&quot;resultat attendu&quot;, $resultat_function_number_one);</code></p>
<ol>
<li>Exécuter le test</li>
</ol>
<p>Afin de lancer votre test il suffit d’ouvrir votre terminal et de taper :<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ cd le_dossier_contenant_votre_application</span><br><span class="line">$ phpunit tests</span><br></pre></td></tr></table></figure></p>
<p>La commande numéro 2 va dire à PHPUnit de lancer l’exécution des tests définit dans le dossier <code>tests</code></p>
<p>Et voilà ! Bon tests</p>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://maximilienandile.github.io/2016/09/23/Comment-installer-PHPUnit-sur-macOs-sur-un-projet-PHP-existant-et-ecrire-un-test/" data-id="citqxas6d000155knuz2apclo" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
        <a href="http://maximilienandile.github.io/2016/09/23/Comment-installer-PHPUnit-sur-macOs-sur-un-projet-PHP-existant-et-ecrire-un-test/#disqus_thread" class="article-comment-link">
          <i class="fa fa-comment"></i> Comments
        </a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PHP-Tests-unitaires/">PHP ; Tests unitaires</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-Pourquoi-et-comment-creer-un-module-avec-nodejs" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/23/Pourquoi-et-comment-creer-un-module-avec-nodejs/">Pourquoi et comment créer des modules sur NodeJs</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/2016/09/23/Pourquoi-et-comment-creer-un-module-avec-nodejs/" class="article-date"><time datetime="2016-09-22T22:34:20.000Z" itemprop="datePublished">23/09/2016</time></a>
</div>

    
    

  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Qu’est-ce-qu’un-module"><a href="#Qu’est-ce-qu’un-module" class="headerlink" title="Qu’est ce qu’un module ?"></a>Qu’est ce qu’un module ?</h2><p>Un module est une partie d’un programme informatique développé par le programmeur afin d’effectuer une série de <strong>tâches</strong> précises. Chaque module contient en général plusieurs fonctionnalités. On croise aussi l’appellation <code>package</code> qui recouvre exactement la même notion : une brique de fonctionnalité que l’on peut utiliser et réutiliser dans n’importe quel projet.</p>
<p>La notion de développement par module (ou modulaire) est née dans les années 1960 lors de l’émergence du paradigme de la <code>programmation orientée objet</code> et la création de langages plus structurés qui pouvait en faire l’usage.</p>
<p>On pourrait imaginer <strong>par exemple</strong> un module dont le but serait d’envoyer un email de bienvenue à nos nouveaux inscrits. Ce dernier pourrait être utilisé à nouveau dans tous les programmes suivants que nous allons créer qui nécessiteront un email de bienvenue.</p>
<p>Vous ne saisissez peut-être pas immédiatement l’intérêt de créer des modules sur nodejs, car lorsqu’on débute il est plus facile d’écrire directement le bout de code qui permet l’envoi de l’email de bienvenue directement après l’enregistrement du visiteur. Mais au rythme des développements on se fait souvent la réflexion que l’on a au final déjà écrit ce bout de code plusieurs fois… D’où l’intérêt de <strong>modulariser</strong> son développement.</p>
<h2 id="Pourquoi-ecrire-des-modules"><a href="#Pourquoi-ecrire-des-modules" class="headerlink" title="Pourquoi écrire des modules"></a>Pourquoi écrire des modules</h2><p>Le développement modulaire permet de <strong>diviser</strong> un projet extrêmement complexe en micros brique fonctionnelles très simples rendant le travail du développeur moins titanesque et plus facilement quantifiable.</p>
<p>Prenons un exemple : bâtir un site e-Commerce. Il s’agit d’un projet d’envergure mais au final le site e-Commerce n’est que l’addition de fonctionnalités simples : sauvegarde et mise à jour des produits dans une base de données, gestion de la connexion des utilisateurs, envoie des emails de confirmations… En pensant le projet de façon modulaire <strong>on peut aussi se servir dans l’incroyable bibliothèque open source disponible</strong>. En particulier sur Nodejs où les modules sont nombreux et tous regroupés au sein de npm. (<a href="https://www.npmjs.com/" target="_blank" rel="external">https://www.npmjs.com/</a>)</p>
<p>Le développement par module permet aussi une <strong>meilleure couverture</strong> du code via des tests unitaires. Ce n’est probablement pas le focus de nombre de développeurs lors de l’initialisation d’un projet, mais plus le nombre de contributeurs augmentent et plus la base de code augmente plus chaque mise en production sans suite de <strong>tests unitaires</strong> assurera des sueurs froides à l’équipe.</p>
<p>Le développement modulaire permet aussi de casser la fameuse <strong>loi de Brooks</strong>, qui assure qu’ajouter des développeurs à un projet subissant du retard ne fait qu’aggraver ce dernier. Mais pourquoi ça ? En raison du fait qu’un code modulaire est plus compréhensible et donc que les nouveaux arrivants sur le projet n’ont pas autant besoin de formations de leurs pairs pour être opérationnels.</p>
<h2 id="Creer-son-propre-module-en-Nodejs"><a href="#Creer-son-propre-module-en-Nodejs" class="headerlink" title="Créer son propre module en Nodejs"></a>Créer son propre module en Nodejs</h2><ol>
<li>Dans le dossier de votre programme <strong>créez un dossier que vous nommerez de la même manière que votre module</strong>.</li>
</ol>
<p>Concernant le nommage une règle est de mise : il est conseiller d’être le plus explicite possible et d’appeler son module suivant sa tâche principal. Nous allons ici écrire un module qui permettant de vérifier qu’une chaine de caractère est bien un email au bon format. Nous pouvons donc appeler notre module <code>email_checker</code> par exemple.</p>
<ol>
<li><p>Dans ce dossier vous allez créer un fichier nommé <code>index.js</code> qui va contenir le code de notre module.</p>
</li>
<li><p>Dans ce fichier <code>index.js</code>, localisé dans <code>/mon_projet/email_checker/index.js</code> nous allons définir une fonctionnalité (ce sera donc une fonction) permettant d’effectuer notre tâche : vérifier si une chaine de caractère est bien un email.</p>
</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  fichier : index.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> check_that_email= <span class="function"><span class="keyword">function</span>(<span class="params">email_to_check</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// définition d'une expression régulière matchant les emails</span></span><br><span class="line">  <span class="keyword">var</span> regex = <span class="regexp">/^(([^&lt;&gt;()\[\]\\.,;:\s@"]+(\.[^&lt;&gt;()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]&#123;1,3&#125;\.[0-9]&#123;1,3&#125;\.[0-9]&#123;1,3&#125;\.[0-9]&#123;1,3&#125;])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]&#123;2,&#125;))$/</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// on retourne le test de notre chaine de caractère (email_to_check)</span></span><br><span class="line">    <span class="keyword">return</span> regex.test(email_to_check);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Notez ici la construction étrage de notre module. Nous avons en fait défnit une variable nommée <code>check_that_email</code> qui contient une fonction.</p>
<p>Cette syntaxe est très courante et il vaut mieux vous y faire, mais elle est troublantes je vous l’accorde. Reste qu’on peut bien mettre une fonction dans une variable !</p>
<ol>
<li>Il suffit maintenant d’exposer cette fonction afin de pouvoir l’utiliser dans notre programme. Pour cela nous allons utiliser la syntaxe d’exportation propre à nodejs.</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  fichier : index.js</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//....</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  check_that_email: check_that_email</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Dans ce morceau de code nous exportons notre fonction <code>check_that_email</code> sous le nom externe <code>check_that_email</code> afin de pouvoir nous en servir par ailleurs.<br>On aurait pu l’appeler autrement :</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  fichier : index.js</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//....</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  can_you_check_that_email_please: check_that_email</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Le nom public de cette fonction (ou méthode) sera maintenant <code>can_you_check_that_email_please</code> !</p>
<p>Votre module est fini ! Bravo. Utilisons le maintenant.</p>
<h2 id="Utilisation-de-notre-module"><a href="#Utilisation-de-notre-module" class="headerlink" title="Utilisation de notre module"></a>Utilisation de notre module</h2><p>Dans n’importe quel script de notre application nous pouvons appeler notre module ainsi :</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> email_checker = <span class="built_in">require</span>(<span class="string">"chemin/vers/le/dossier/email_checker"</span>);</span><br></pre></td></tr></table></figure>
<p>Et nous pouvons appeler une méthode ainsi<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> result_of_email_checking = email_checker.check_that_email(<span class="string">"john.doe@gmail.com"</span>);</span><br></pre></td></tr></table></figure></p>
<p>Easy !</p>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://maximilienandile.github.io/2016/09/23/Pourquoi-et-comment-creer-un-module-avec-nodejs/" data-id="citqxas6y000f55kni7pm7n4f" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
        <a href="http://maximilienandile.github.io/2016/09/23/Pourquoi-et-comment-creer-un-module-avec-nodejs/#disqus_thread" class="article-comment-link">
          <i class="fa fa-comment"></i> Comments
        </a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nodejs/">nodejs</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-How-to-use-tokenization-stopwords-and-synsets-with-NLTK-python" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/06/07/How-to-use-tokenization-stopwords-and-synsets-with-NLTK-python/">How to use tokenization, stopwords and synsets with NLTK (python)</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/2016/06/07/How-to-use-tokenization-stopwords-and-synsets-with-NLTK-python/" class="article-date"><time datetime="2016-06-07T05:16:07.000Z" itemprop="datePublished">07/06/2016</time></a>
</div>

    
    

  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p>This is my next article about NLTK (The natural language processing toolkit that can be used with Python). In this blog post I will highlight some of the key features of NLTK that can be useful for any developers having to treat and understand text programmatically.</p>
<h2 id="Tokenization-the-transformation-of-text-into-understandable-chunks"><a href="#Tokenization-the-transformation-of-text-into-understandable-chunks" class="headerlink" title="Tokenization : the transformation of text into understandable chunks"></a>Tokenization : the transformation of text into understandable chunks</h2><p>In Natural Language processing a token is a small piece of text. There are different tokenization techniques, but you have to keep in mind that the process consists in cutting an amount of words into smaller bags of word. This is usually the very first task of a complex NLP algorithm.</p>
<h3 id="Sentence-tokenization"><a href="#Sentence-tokenization" class="headerlink" title="Sentence tokenization"></a>Sentence tokenization</h3><p>If you want to analyze all the sentences of a given text you can use the punkt tokenizer.</p>
<p>Let’s say that you have stored into the data variable the text you want to tokenize:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">data= <span class="string">"This is my text. I want to tokenize it. But what is exactly tokenization ?"</span></span><br><span class="line"><span class="keyword">import</span> nltk.data</span><br><span class="line">tokenizer = nltk.data.load(<span class="string">'tokenizers/punkt/PY3/english.pickle'</span>)</span><br><span class="line">tokenizer.tokenize(data)</span><br></pre></td></tr></table></figure>
<p>The first line will import the necessary classes we will need to create a new tokenizer. On the second line we create a new variable that loads the English <code>Punkt tokenize</code>. Note that NLTK provides tokenizer for different languages!</p>
<p>The output of the following code chunk will be :</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">'This is my text.'</span>,<span class="string">'I want to tokenize it.'</span>,<span class="string">'But what is exactly tokenization ?'</span>]</span><br></pre></td></tr></table></figure>
<p>Note that the punctuation is included into the list.</p>
<h3 id="Word-tokenization"><a href="#Word-tokenization" class="headerlink" title="Word tokenization"></a>Word tokenization</h3><p>The sentence scope might not be precise enough if you want to pursue a text analysis. You will probably need to go down to the word level:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> nltk.tokenize <span class="keyword">import</span> TreebankWordTokenizer</span><br><span class="line">tokenizer = TreebankWordTokenizer()</span><br><span class="line">tokenizer.tokenize(<span class="string">'This is my text'</span>)</span><br></pre></td></tr></table></figure>
<p>Again we import the <code>TreebankWordTokenizer</code> class from <code>nltk.tokenize</code>. You have the to instantiate the class : <code>TreebankWordTokenizer()</code>. <code>tokenizer</code> will be an instance of that class. You can then call the method tokenize and provide it with your string of data.</p>
<p>The output will be :</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">'This'</span>,<span class="string">'is'</span>,<span class="string">'my'</span>,<span class="string">'text'</span>]</span><br></pre></td></tr></table></figure>
<h3 id="Stop-words"><a href="#Stop-words" class="headerlink" title="Stop words"></a>Stop words</h3><p>Stop words can be really interesting. In a text you have many of them, those stop words do not give vital information in the understanding of a text. Hence they can be removed in order to perform a better analysis of a corpus.</p>
<p>NLTK provides a list of usual stop words that you can use to filter a text.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> nltk.corpus <span class="keyword">import</span> stopwords</span><br><span class="line">stop_words = set(stopwords.words(<span class="string">'english'</span>))</span><br></pre></td></tr></table></figure>
<p>This list is exposed inside <code>nltk.corpus</code>. The first line will import the stopwords class. We will then access to the list by invoking the <code>words</code>method and providing <code>&#39;english&#39;</code> as parameter to load only the English corpus.</p>
<h4 id="How-to-filter-a-text-from-it’s-stopwords"><a href="#How-to-filter-a-text-from-it’s-stopwords" class="headerlink" title="How to filter a text from it’s stopwords."></a>How to filter a text from it’s stopwords.</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">words_list=[<span class="string">"baltimore"</span>,<span class="string">"you"</span>,<span class="string">"love"</span>,<span class="string">"hate"</span>,<span class="string">"can"</span>]</span><br><span class="line">[w <span class="keyword">for</span> w <span class="keyword">in</span> words_list <span class="keyword">if</span> w <span class="keyword">not</span> <span class="keyword">in</span> stop_words]</span><br></pre></td></tr></table></figure>
<p>You first have a list of tokenized words. Then create another one with the following method :</p>
<ol>
<li>We take each element of the first list</li>
<li>If the word is in the <code>stop_words</code> list we do not include it in the newly created list</li>
<li>Else we include it.</li>
</ol>
<h3 id="Synset-how-to-get-the-definition-of-a-word-token"><a href="#Synset-how-to-get-the-definition-of-a-word-token" class="headerlink" title="Synset : how to get the definition of a word token"></a>Synset : how to get the definition of a word token</h3><p><code>Wordnet</code>  is an English dictionary that gives you the ability to lookup for definition and synonyms of a word.<br>With a <code>Synsets</code> instance you can ask for the definition of the word :</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> nltk.corpus <span class="keyword">import</span> wordnet</span><br><span class="line">s = wordnet.synsets(<span class="string">'computer'</span>)[<span class="number">0</span>]</span><br><span class="line">s.definition()</span><br></pre></td></tr></table></figure>
<p>The code is pretty simple !</p>
<p>In my next blog post I will talk about hypernyms and how to use it. I will also try to find a way to use NLTK with npm and provide a tutorial for installing it with npm. Thanks for reading!</p>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://maximilienandile.github.io/2016/06/07/How-to-use-tokenization-stopwords-and-synsets-with-NLTK-python/" data-id="citqxas6p000955knfe17pdel" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
        <a href="http://maximilienandile.github.io/2016/06/07/How-to-use-tokenization-stopwords-and-synsets-with-NLTK-python/#disqus_thread" class="article-comment-link">
          <i class="fa fa-comment"></i> Comments
        </a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/NLP/">NLP</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-How-to-install-NLTK-and-compute-basic-statistics-on-a-text" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/18/How-to-install-NLTK-and-compute-basic-statistics-on-a-text/">How to install NLTK and compute basic statistics on a text</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/2016/05/18/How-to-install-NLTK-and-compute-basic-statistics-on-a-text/" class="article-date"><time datetime="2016-05-18T06:39:24.000Z" itemprop="datePublished">18/05/2016</time></a>
</div>

    
    

  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="NLTK-is-a-free-library-for-NLP"><a href="#NLTK-is-a-free-library-for-NLP" class="headerlink" title="NLTK is a free library for NLP"></a>NLTK is a free library for NLP</h2><p>NLTK (Natural Language Toolkit) is a free python library that is really helpful to execute NLP (Natural Language processing) tasks. The main challenge of NLP is to give the ability to an anlgorithm to understand the meaning of a text written by the human brain. The first application og NLP began during the 1950’s with the Georgetow Experiment (that was organised by IBM). The objective of that experiment was to show to the government the capabilities of machines in the translation field.</p>
<h2 id="How-to-install-it"><a href="#How-to-install-it" class="headerlink" title="How to install it"></a>How to install it</h2><h3 id="For-Windows-Users"><a href="#For-Windows-Users" class="headerlink" title="For Windows Users :"></a>For Windows Users :</h3><ul>
<li>Go to <a href="https://pypi.python.org/pypi/nltk" target="_blank" rel="external">https://pypi.python.org/pypi/nltk</a> and download the <code>nltk-3.2.1.win32.exe</code> file</li>
<li>After the downloading is complete double click on it and follow the instalation process</li>
<li>In order to check your installation, launch python. (Start menu &gt; Python)<br>and type on the black window :</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; import nltk</span><br></pre></td></tr></table></figure>
<p>If you have no errors you are good to go !</p>
<h3 id="For-MAC-Users"><a href="#For-MAC-Users" class="headerlink" title="For MAC Users"></a>For MAC Users</h3><p>The installation procedure is easier. Open your terminal and just type :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pip install -U nltk</span><br></pre></td></tr></table></figure>
<h2 id="Import-your-own-text-from-the-filesystem"><a href="#Import-your-own-text-from-the-filesystem" class="headerlink" title="Import your own text from the filesystem"></a>Import your own text from the filesystem</h2><p>We will use the filesystem capability of python. The function <code>open(filename,mode)</code> will help us to import from the filesystem our file, in order to use NLTK against it.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">f= open(&quot;my_file.txt&quot;,&quot;r&quot;)</span><br><span class="line">text=f.read()</span><br></pre></td></tr></table></figure>
<p>The first parameter is the name of the file (placed at the root of your project). The second argument is the treatment option of the file. For this application we only need to read the file. Thus we will use the <code>r</code> option.</p>
<p>The second line will store the raw input in the <code>text</code> variable.</p>
<h2 id="Compute-basic-statistics"><a href="#Compute-basic-statistics" class="headerlink" title="Compute basic statistics"></a>Compute basic statistics</h2><h3 id="Words-that-appear-in-the-same-contexts"><a href="#Words-that-appear-in-the-same-contexts" class="headerlink" title="Words that appear in the same contexts"></a>Words that appear in the same contexts</h3><p>With this method you can find other words that appear in a similar context. The words are arranged in a way that the most similar words will appear first in the output list.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">text.similar(&apos;banana&apos;)</span><br></pre></td></tr></table></figure></p>
<h3 id="Counting-words"><a href="#Counting-words" class="headerlink" title="Counting words"></a>Counting words</h3><p>NLTK provides an easy method to count how many time a word appears in a text<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">text.count(&apos;alexa&apos;)</span><br></pre></td></tr></table></figure></p>
<p>It will output an integer.</p>
<h3 id="Get-the-number-of-words-and-punctuation"><a href="#Get-the-number-of-words-and-punctuation" class="headerlink" title="Get the number of words and punctuation"></a>Get the number of words and punctuation</h3><p>You can use the <code>len</code> function that will output an integer. Be careful, this function returns the number of words but also the number of punctuation signs in a corpus</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">len(text)</span><br></pre></td></tr></table></figure>
<p>In the next blog article I will try to focus on text classifiers. (Bayesian text classifiers). Nltk gives you the power of building one really easily.</p>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://maximilienandile.github.io/2016/05/18/How-to-install-NLTK-and-compute-basic-statistics-on-a-text/" data-id="citqxas6l000655kn13f3i7ma" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
        <a href="http://maximilienandile.github.io/2016/05/18/How-to-install-NLTK-and-compute-basic-statistics-on-a-text/#disqus_thread" class="article-comment-link">
          <i class="fa fa-comment"></i> Comments
        </a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Natural-Language-Processing/">Natural Language Processing</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-How-to-use-promises-with-NodeJS" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/08/How-to-use-promises-with-NodeJS/">How to use promises with NodeJS</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/2016/05/08/How-to-use-promises-with-NodeJS/" class="article-date"><time datetime="2016-05-08T20:54:10.000Z" itemprop="datePublished">08/05/2016</time></a>
</div>

    
    

  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p>Like many others i started to develop algorithm in synchronous languages. The first language I learned was TI BASIC on my calculator in high school. With that language and like many others the instructions are processed line by line. If you write a bunch of lines your sure that the line 8 will be executed after the line 7.</p>
<p>When developping applications with Nodejs I faced the problematic of asynchronous execution. With this fabulous tool instructions are not blocking. If you write on line 10 a task that is pretty long to execute (opening and reading a file for instance), the system will not wait till the end of this task. It will go directly to the next one on line 11. The execution is much faster but it can become a nightmare for developers that have the habbit to develop in synchronous languages. You might for instance use a variable that is not existing because it’s affectation has not be done yet !</p>
<p>But there is an interesting tool that is not so complicated to use : promises.</p>
<h2 id="Origine-of-promises"><a href="#Origine-of-promises" class="headerlink" title="Origine of promises"></a>Origine of promises</h2><p>Promises where implemented in Javascript as of ECMAScript 6. Originally the term was first used in 1976 in a paper proposed by Daniel Friedman and David Wise (The impact of applicative programming on multiprocessing). I want to find and read this paper, but i did’nt found it. So if somebody is looking at this article and has a PDF version i’m highly interested.</p>
<h2 id="How-to-use-a-promise"><a href="#How-to-use-a-promise" class="headerlink" title="How to use a promise"></a>How to use a promise</h2><p>The better way to understand the way promises are working is to take a simple example.<br>Imagine that you have to perform a database lookup, and you want to send back the result to your user when it’s done.</p>
<p>Let’s take as example a route in the Express framework :</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// this route will be fired when an user visit the url product/1</span></span><br><span class="line">router.get(<span class="string">'product/:product_id'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// Put the parameter in a variable for more convenience</span></span><br><span class="line">  <span class="keyword">var</span> product_id_in_param=req.params.product_id</span><br><span class="line">  <span class="comment">// Let's do the request (we use a sequelize model)</span></span><br><span class="line">  products.findOne(&#123;</span><br><span class="line">    where: &#123;product_id: product_id_in_param&#125;</span><br><span class="line"></span><br><span class="line">  &#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params">product_data</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// This will be executed only when the database lookup is done</span></span><br><span class="line"></span><br><span class="line">    res.render(<span class="string">'product_page'</span>, &#123;product:product_data&#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="How-to-design-a-function-that-use-a-promise"><a href="#How-to-design-a-function-that-use-a-promise" class="headerlink" title="How to design a function that use a promise"></a>How to design a function that use a promise</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">my_function_with_a_promise</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// We will return a promise object</span></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// We will for instance write information in a file</span></span><br><span class="line">    fs.writeFile(<span class="string">"info.txt"</span>, <span class="string">"information to write into the file"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</span><br><span class="line">      <span class="comment">// If there is an error</span></span><br><span class="line">      <span class="keyword">if</span>(err) &#123;</span><br><span class="line">        <span class="comment">// We use the reject function with the error as parameter</span></span><br><span class="line">        <span class="comment">// To tell our program that there was an error</span></span><br><span class="line">        reject(<span class="string">"There was an error saving your file"</span>)</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// Else, there was no error :</span></span><br><span class="line">      <span class="comment">// We use the resolve function to tell our program that</span></span><br><span class="line">      <span class="comment">// The instruction was successfully executed</span></span><br><span class="line">      <span class="comment">// You can pass a greeting message</span></span><br><span class="line">      resolve(<span class="string">"The file was saved!"</span>);</span><br><span class="line"></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Use-our-function-inside-our-main-program"><a href="#Use-our-function-inside-our-main-program" class="headerlink" title="Use our function inside our main program"></a>Use our function inside our main program</h2><p>Let’s imagine we want to fire this function when the user of our application visit the url <code>/execute</code> :</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">router.get(<span class="string">'/execute'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  my_function_with_a_promise().then(<span class="function"><span class="keyword">function</span>(<span class="params">greeting_message</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// The promise executed correctly !</span></span><br><span class="line">    <span class="comment">// Let's render the success view</span></span><br><span class="line">    <span class="comment">// With the parameter m that will represents the greeting message</span></span><br><span class="line">    res.render(<span class="string">'success'</span>, &#123;m:greeting_message&#125;);</span><br><span class="line"></span><br><span class="line">  &#125;).catch(<span class="function"><span class="keyword">function</span>(<span class="params">error_message</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// There was an error</span></span><br><span class="line">    <span class="comment">// Let's warn our user by renderring the error view</span></span><br><span class="line">    <span class="comment">// along with the error message</span></span><br><span class="line">    res.render(<span class="string">'success'</span>, &#123;m:error_message&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://maximilienandile.github.io/2016/05/08/How-to-use-promises-with-NodeJS/" data-id="citqxas6n000855kn190m7b41" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
        <a href="http://maximilienandile.github.io/2016/05/08/How-to-use-promises-with-NodeJS/#disqus_thread" class="article-comment-link">
          <i class="fa fa-comment"></i> Comments
        </a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Nodejs/">Nodejs</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-How-to-create-a-model-with-Sequelize-for-Nodejs" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/08/How-to-create-a-model-with-Sequelize-for-Nodejs/">How to create a model with Sequelize for Nodejs</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/2016/05/08/How-to-create-a-model-with-Sequelize-for-Nodejs/" class="article-date"><time datetime="2016-05-07T23:29:00.000Z" itemprop="datePublished">08/05/2016</time></a>
</div>

    
    

  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="What-is-Sequelize"><a href="#What-is-Sequelize" class="headerlink" title="What is Sequelize"></a>What is Sequelize</h2><p>Sequelize is a SQL ORM for Nodejs. ORM means Object-Relational Mapping. This type of interface offers you to take some distance from the database administration hassle. It will create the tables, the indexes and auto generate and execute the queries directly for you. You don’t have to execute those very painful and repetitive tasks.</p>
<p>Sequelize is an ORM that is developed for database using SQL as a query language. MySQL for instance or Postgresql.</p>
<h2 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h2><p>Go to the directory of your nodejs project :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cd my_project_forlder</span><br></pre></td></tr></table></figure>
<p>Then use npm to install sequelize ad all it’s dependencies.<br>We will use the <code>--save</code>option to write in our <code>package.json</code> file that the project needs this module.<br>It will be more easier when you will deploy it, or update your packages.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install sequelize —-save</span><br></pre></td></tr></table></figure>
<h2 id="Configuration"><a href="#Configuration" class="headerlink" title="Configuration"></a>Configuration</h2><p>Prerequesite having a running SQL database. For demonstration purpose we will use a MySQL one.</p>
<p>Create a new file in your project folder named <code>sequelize.js</code> with the following content :</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Let's require our module</span></span><br><span class="line"><span class="keyword">var</span> Sequelize=<span class="built_in">require</span>(<span class="string">'sequelize'</span>);</span><br><span class="line"><span class="comment">// Let's create a new sequelize instance</span></span><br><span class="line"><span class="comment">// And connect tou our database</span></span><br><span class="line"><span class="keyword">var</span> sequelize = <span class="keyword">new</span> Sequelize(<span class="string">'database_name'</span>, <span class="string">'username'</span>, <span class="string">'password'</span>, &#123;</span><br><span class="line">  host: <span class="string">'XXX.us-west-2.rds.amazonaws.com'</span>,</span><br><span class="line">  dialect: <span class="string">'mysql'</span>,</span><br><span class="line"></span><br><span class="line">  pool: &#123;</span><br><span class="line">    max: <span class="number">5</span>,</span><br><span class="line">    min: <span class="number">0</span>,</span><br><span class="line">    idle: <span class="number">10000</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>That’s it ! You have now a brand new connection to your server.<br>By default sequelize will use a pool connection. We give it in the last lines some additional options to configure the pooling system. Basically a pool of connection is a cache of database connections that can be used again and again in case of multiple queries to perform.</p>
<h2 id="Creation-of-the-model"><a href="#Creation-of-the-model" class="headerlink" title="Creation of the model"></a>Creation of the model</h2><p>You can see the model as an abstract representation of data that will be stored in your system. By definig a model you will warn Sequelize that you want to be able to insert, select, delete or update rows of data that will be stored and retrieved following the instruction you specified when you define your model.</p>
<p>Do not be affraid by this abstraction step. I have experienced with many of my students that being able to fully understand what is a model and what it brings to developer can be really hard. Just keep in mind that you are just defining the structure of a traditional database table with indexes, constraints and types.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Creation of the model "client"</span></span><br><span class="line"><span class="keyword">var</span> client = sequelize.define(<span class="string">'client'</span>, &#123;</span><br><span class="line">  <span class="comment">// Here are the columns of the table</span></span><br><span class="line">  family_name: &#123;type: Sequelize.STRING&#125;,</span><br><span class="line">  surname: &#123;type: Sequelize.STRING&#125;,</span><br><span class="line">  title: &#123;type: Sequelize.STRING&#125;,</span><br><span class="line">  email: &#123;type: Sequelize.STRING&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>In this code we have created a model client, (that will be stored in the table client) with the columns family_name, surname …</p>
<h2 id="Synchronization-with-the-database"><a href="#Synchronization-with-the-database" class="headerlink" title="Synchronization with the database"></a>Synchronization with the database</h2><p>Creating a model is cool, but now you have to synchronize it with your physic database. If you forget this step you will get errors because the table will not be created and it will be impossible to insert or select data for a non existing table.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">client.sync().then(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// Table created</span></span><br><span class="line">  <span class="keyword">return</span> client.create(&#123;</span><br><span class="line">    family_name: <span class="string">'Jean'</span>,</span><br><span class="line">    surname: <span class="string">'Dupont'</span>,</span><br><span class="line">    title : <span class="string">"Mr"</span>,</span><br><span class="line">    email : <span class="string">"jean.dupont@gmail.com"</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>This code will create the tables and the column defined before. Bonus : Sequelize will add automatically an <code>id</code> , <code>createdAt</code>and <code>updatedAt</code> column !</p>
<p>After the creatin is done it will create a client with the information provided  in the create method of our model object (<code>client</code>).</p>
<p>Enjoy and use without moderation but becareful ! Never use (unless you know what you are doing) the method <code>sync</code> with the option <code>force:true</code>. It will drop the table if one exist with the same name and create a new one ! It can be a real disaster in a production environment !</p>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://maximilienandile.github.io/2016/05/08/How-to-create-a-model-with-Sequelize-for-Nodejs/" data-id="citqxas68000055knyhso1zxr" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
        <a href="http://maximilienandile.github.io/2016/05/08/How-to-create-a-model-with-Sequelize-for-Nodejs/#disqus_thread" class="article-comment-link">
          <i class="fa fa-comment"></i> Comments
        </a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SQL/">SQL</a></li></ul>


    </footer>
  </div>
  
</article>



  




        </div>
        <div class="col-sm-3 col-sm-offset-1 blog-sidebar">
          
  <div class="sidebar-module sidebar-module-inset">
  <h4>About</h4>
  <p>I am Maximilien Andile a Tech enthusiast and teacher who is always happy to share knowledge</p>

</div>


  


  
  <div class="sidebar-module">
    <h4>Tags</h4>
    <ul class="sidebar-module-list"><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/HTTP/">HTTP</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/Machine-Learning/">Machine Learning</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/NLP/">NLP</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/Natural-Language-Processing/">Natural Language Processing</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/Nodejs/">Nodejs</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/PHP-Tests-unitaires/">PHP ; Tests unitaires</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/REST/">REST</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/SQL/">SQL</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/nodejs/">nodejs</a><span class="sidebar-module-list-count">1</span></li></ul>
  </div>



  
  <div class="sidebar-module">
    <h4>Tag Cloud</h4>
    <p class="tagcloud">
      <a href="/tags/HTTP/" style="font-size: 10px;">HTTP</a> <a href="/tags/Machine-Learning/" style="font-size: 20px;">Machine Learning</a> <a href="/tags/NLP/" style="font-size: 10px;">NLP</a> <a href="/tags/Natural-Language-Processing/" style="font-size: 10px;">Natural Language Processing</a> <a href="/tags/Nodejs/" style="font-size: 10px;">Nodejs</a> <a href="/tags/PHP-Tests-unitaires/" style="font-size: 10px;">PHP ; Tests unitaires</a> <a href="/tags/REST/" style="font-size: 10px;">REST</a> <a href="/tags/SQL/" style="font-size: 10px;">SQL</a> <a href="/tags/nodejs/" style="font-size: 10px;">nodejs</a>
    </p>
  </div>


  
  <div class="sidebar-module">
    <h4>Archives</h4>
    <ul class="sidebar-module-list"><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/09/">septembre 2016</a><span class="sidebar-module-list-count">6</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/06/">juin 2016</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/05/">mai 2016</a><span class="sidebar-module-list-count">3</span></li></ul>
  </div>



  
  <div class="sidebar-module">
    <h4>Recents</h4>
    <ul class="sidebar-module-list">
      
        <li>
          <a href="/2016/09/30/Comprendre-les-headers-d-une-requete-HTTP/">Comprendre les headers d&#39;une requête HTTP</a>
        </li>
      
        <li>
          <a href="/2016/09/29/Machine-Learning-comment-fonctionne-la-classification-naive-Bayesienne/">Machine Learning : comment fonctionne la classification naïve Bayesienne</a>
        </li>
      
        <li>
          <a href="/2016/09/24/L-algorithme-des-K-voisins-les-plus-proches-et-son-implementation-en-Nodejs/">L&#39;algorithme des K voisins les plus proches et son implémentation en NodeJs</a>
        </li>
      
        <li>
          <a href="/2016/09/24/Pourquoi-utiliser-RAML-pour-designer-une-API-RESTful/">Pourquoi utiliser RAML pour designer une API RESTful</a>
        </li>
      
        <li>
          <a href="/2016/09/23/Comment-installer-PHPUnit-sur-macOs-sur-un-projet-PHP-existant-et-ecrire-un-test/">Comment installer PHPUnit sur macOs sur un projet PHP existant et écrire son premier cas de test</a>
        </li>
      
    </ul>
  </div>



        </div>
    </div>
  </div>
  <footer class="blog-footer">
  <div class="container">
    <div id="footer-info" class="inner">
      &copy; 2016 Maximilien Andile<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

  
<script>
  var disqus_shortname = 'maximilienandile';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js" integrity="sha384-8gBf6Y4YYq7Jx97PIqmTwLPin4hxIzQw5aDmUg/DDhul9fFpbbLcLh3nTIIDJKhx" crossorigin="anonymous"></script>

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>



<script src="/js/script.js"></script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->

</body>
</html>
